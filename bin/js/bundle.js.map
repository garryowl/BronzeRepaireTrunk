{"version":3,"file":"bundle.js","sources":["../../src/script/data/const/NotificationNames.ts","../../src/framework/utils/Log.ts","../../src/GameConfig.ts","../../src/framework/utils/Dictionary.ts","../../src/framework/utils/CommonUtil.ts","../../src/framework/manager/ByteTableManager.ts","../../src/framework/utils/PathUtil.ts","../../src/framework/resourceManager/ResourceManager.ts","../../src/script/uiscripts/UIIDDefine.ts","../../src/script/data/config/UIInfoRow.ts","../../src/script/data/const/ResPathConst.ts","../../src/script/data/config/GameConfigRow.ts","../../src/script/data/config/PictureConfigRow.ts","../../src/script/data/config/VideoConfigRow.ts","../../src/script/data/config/TextConfigRow.ts","../../src/script/data/config/TitleConfigRow.ts","../../src/script/manager/ConfigManager.ts","../../src/script/uiscripts/BaseUICtrl.ts","../../src/ui/layaMaxUI.ts","../../src/framework/utils/timer/linklist.ts","../../src/framework/utils/timer/TimeManager.ts","../../src/framework/utils/timer/cbhandler.ts","../../src/script/uiscripts/uicontrollers/LoadingUIUIController.ts","../../src/script/data/const/ConstDefine.ts","../../src/script/manager/GameUIManager.ts","../../src/framework/utils/wechatutil/WechatUtil.ts","../../src/script/uiscripts/uicontrollers/BronzewareContentUIUIController.ts","../../src/framework/input/InputComponent.ts","../../src/script/uiscripts/uicontrollers/CalibrationUIUIController.ts","../../src/script/uiscripts/uicontrollers/ColorMatchingUIUIController.ts","../../src/script/uiscripts/uicontrollers/EndUIUIController.ts","../../src/script/uiscripts/uicontrollers/StartUIUIController.ts","../../src/script/uiscripts/UIFactory.ts","../../src/script/data/const/ZOrderDefine.ts","../../src/script/uiscripts/UIMediator.ts","../../src/script/commands/LoginSceneEnterCommand.ts","../../src/framework/input/InputManager.ts","../../src/script/commands/GameInitCommand.ts","../../src/script/commands/PreloadCommand.ts","../../src/framework/utils/SubResDownLoader.ts","../../src/script/commands/StartupInitCommand.ts","../../src/Main.ts"],"sourcesContent":["/*\r\n* name;\r\n*/\r\nexport class NotificationNames {\r\n\t//UI\r\n\tstatic OPENUI: string = \"OPENUI\";   \t\t\t\t\t\t\t\t\t\t\t\t//打开UI\r\n\tstatic OPENUIWITHPARAM: string = \"OPENUIWITHPARAM\";\t\t\t\t\t\t\t\t\t//打开ui带参数\r\n\tstatic HIDEUI: string = \"HIDEUI\"; \t\t\t\t\t\t\t\t\t\t\t\t\t//隐藏UI\r\n\tstatic HIDEALLUI: string = \"HIDEALLUI\";\t\t\t\t\t\t\t\t\t\t\t\t//隐藏所有UI\r\n\tstatic DESTROYUI: string = \"DESTROYUI\";\t\t\t\t\t\t\t\t\t\t\t\t//销毁UI\r\n\tstatic DESTROYALLUI: string = \"DESTROYALLUI\";\t\t\t\t\t\t\t\t\t\t//销毁所有UI\r\n\r\n\t//COMMAND\r\n\tstatic START_UP_INIT_COMMAND: string = \"START_UP_INIT_COMMAND\"; \t\t\t\t\t//游戏启动初始化\r\n\tstatic CHECK_VERSION_COMMAND: string = \"CHECK_VERSION_COMMAND\"; \t\t\t\t\t//laya 版本管理\r\n\tstatic RES_HOTUPDATE_COMMAND: string = \"RES_HOTUPDATE_COMMAND\";  \t\t\t\t\t//微信资源热更新\r\n\tstatic PRELOAD_COMMAND: string = \"PRELOAD_COMMAND\";  \t\t\t\t\t\t\t\t//游戏启动资源预加载\r\n\tstatic GAME_INIT_COMMAND: string = \"GAME_INIT_COMMAND\";\t\t\t\t\t\t\t\t//游戏初始化\r\n\tstatic GET_PLATFORM_AUTH_COMMAND: string = \"GET_PLATFORM_AUTH_COMMAND\";\t\t\t\t//平台预授权,之后才能获取平台数据\r\n\tstatic INIT_PLATFORM_INFO_COMMAND: string = \"INIT_PLATFORM_INFO_COMMAND\"; \t\t\t//游戏平台相关信息初始化\r\n\tstatic NETWORK_GAME_LOG_IN_COMMAND: string = \"NETWORK_GAME_LOG_IN_COMMAND\"; \t\t//网路游戏初始化\r\n\tstatic ENTER_LOGIN_SCENE_COMMAND: string = \"ENTER_LOGIN_SCENE_COMMAND\"; \t\t\t//登录主界面\r\n\r\n\t//输入\r\n\tstatic InputEvent: string = \"InputEvent\";\t//屏幕Input事件\r\n\t//UI消息\r\n\tstatic LoadingUIProgress: string = \"LoadingUIProgress\";\t //ui加载进度\r\n\r\n\tstatic CalibrationCorrect: string = \"CalibrationCorrect\";\t //校准正确\r\n\tpublic static NEXT_STAGE:string=\"NEXT_STAGE\";\r\n\tpublic static RESTART_GAME:string=\"RESTART_GAME\";\r\n\t\r\n}","/*\r\n* name;\r\n*/\r\nexport default class Log {\r\n\r\n\r\n    public static Debug(message?: any, ...optionalParams: any[]): void {\r\n        console.log((Laya.timer ? (\"FrameNO: \" + Laya.timer.currFrame) : \"\") + \" message:\" + message, ...optionalParams);\r\n    }\r\n\r\n    public static Info(message?: any, ...optionalParams: any[]): void {\r\n\r\n        console.log((Laya.timer ? (\"FrameNO: \" + Laya.timer.currFrame) : \"\") + \" message:\" + message, ...optionalParams);\r\n\r\n    }\r\n\r\n    public static Warn(message?: any, ...optionalParams: any[]): void {\r\n\r\n        console.warn((Laya.timer ? (\"FrameNO: \" + Laya.timer.currFrame) : \"\") + \" [WARNING]:\" + message, ...optionalParams);\r\n\r\n    }\r\n\r\n    public static Error(message?: any, ...optionalParams: any[]): void {\r\n\r\n        console.error((Laya.timer ? (\"FrameNO: \" + Laya.timer.currFrame) : \"\") + \" [ERROR]:\" + message, ...optionalParams);\r\n\r\n    }\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=1920;\r\n    static height:number=1080;\r\n    static scaleMode:string=\"fixedheight\";\r\n    static screenMode:string=\"horizontal\";\r\n    static alignV:string=\"middle\";\r\n    static alignH:string=\"center\";\r\n    static startScene:any=\"uiprefab/BronzewareContentUI.scene\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=true;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n\r\n    }\r\n}\r\nGameConfig.init();","/**\r\n * 字典\r\n * @desc 与Set类相似，ECMAScript 6同样包含了一个Map类的实现，即我们所说的字典\r\n */\r\nexport default class Dictionary {\r\n    private items = {};\r\n    public set(key, value) {\r\n        this.items[key] = value;\r\n    }\r\n    public remove(key) {\r\n        if (this.has(key)) {\r\n            delete this.items[key];\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n    public has(key) {\r\n        return key in this.items;\r\n    }\r\n    public get(key) {\r\n        return this.has(key) ? this.items[key] : null;\r\n    }\r\n    public clear() {\r\n        this.items = {};\r\n    }\r\n    public get size() {\r\n        let count = 0;\r\n        for (var prop in this.items) { //{5}\r\n            if (this.items.hasOwnProperty(prop)) //{6}\r\n                ++count; //{7}\r\n        }\r\n        return count;\r\n    }\r\n    public get keys(): Array<any> {\r\n        let values = [];\r\n        for (var k in this.items) {\r\n            //sif (this.has(k)) {\r\n            values.push(k);\r\n            //}\r\n        }\r\n        return values;\r\n    }\r\n    public get values(): Array<any> {\r\n        let values = [];\r\n        for (var k in this.items) {\r\n            //if (this.has(k)) {\r\n            values.push(this.items[k]);\r\n            //}\r\n        }\r\n        return values;\r\n    }\r\n    public get Items() {\r\n        return this.items;\r\n    }\r\n\r\n    public Clone(): Dictionary {\r\n        let clone: Dictionary = new Dictionary();\r\n        for (var k in this.items) {\r\n            clone.set(k, this.items[k])\r\n        }\r\n        return clone;\r\n    }\r\n}","import Vec2 from \"../commonstruct/Vec2\";\r\nimport Log from \"./Log\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class CommonUtil {\r\n\r\n\r\n\r\n\r\n    // 判断是否时复杂值（对象值）\r\n    public static isObject(m): boolean {\r\n        return (typeof m === 'function' || (typeof m === 'object' && m !== null));\r\n    }\r\n\r\n    public static OnMiniGame(): boolean {\r\n        return Laya.Browser.onMiniGame\r\n    }\r\n\r\n\r\n    /**\r\n     * 转换arraybuffer成二进制数组\r\n     * @param buffer \r\n     */\r\n    public static ConvertArrayBuffer(buffer: ArrayBuffer): Laya.Byte {\r\n        let recivBytes: Laya.Byte = new Laya.Byte();\r\n        recivBytes.endian = Laya.Byte.LITTLE_ENDIAN; //Unity导出的字节配置默认是little endian. 网络消息是BigEndian\r\n        recivBytes.clear();\r\n        recivBytes.writeArrayBuffer(buffer);\r\n        recivBytes.pos = 0;\r\n        //返回二进制数组\r\n        //let mbuffer: Uint8Array = recivBytes.getUint8Array(recivBytes.pos, recivBytes.length)\r\n        return recivBytes;\r\n    }\r\n\r\n\r\n\r\n\r\n    //去除重复id\r\n    public static RemoveRepeated(idList: any[]): any[] {\r\n        let idsToLoad = []\r\n        //去除重复id\r\n        for (let index = 0; index < idList.length; index++) {\r\n            let element = idList[index];\r\n            if (idsToLoad.indexOf(element) < 0) idsToLoad.push(element)\r\n        }\r\n        return idsToLoad;\r\n    }\r\n\r\n\r\n}","import ResourceManager from \"../resourceManager/ResourceManager\";\r\nimport Dictionary from \"../utils/Dictionary\";\r\nimport CommonUtil from \"../utils/CommonUtil\";\r\nimport Log from \"../utils/Log\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport interface IByteConfig {\r\n    LoadRowBytes(buffer: Laya.Byte) //加载一行配置表\r\n    GetID(): number;\r\n\r\n    //辅助方法\r\n    GetTableName(): string;\r\n    Print(): string\r\n}\r\n\r\n/**\r\n * 二进制配置表类\r\n */\r\nexport class ConfigTable<T extends IByteConfig>{\r\n    private configDic: Dictionary = new Dictionary();\r\n    protected curType: { new(): T } //当前脚本类型 typescript 无法new T();\r\n\r\n    //配置表加载完后解析\r\n    public Load(buffer: ArrayBuffer, type: new () => T) {\r\n        this.curType = type;\r\n        let bytes = CommonUtil.ConvertArrayBuffer(buffer);\r\n        //按行解析s\r\n        let rowNum = bytes.getInt32();//java工具使用int4字节\r\n        //解析行\r\n        for (let index = 0; index < rowNum; index++) {\r\n            let configData = new this.curType();\r\n            configData.LoadRowBytes(bytes);\r\n            if (this.configDic.get(configData.GetID())) {\r\n                Log.Error(\"配置表 %s ID %s 重复\", configData.GetTableName(), configData.GetID())\r\n                continue;\r\n            }\r\n            this.configDic.set(configData.GetID(), configData)\r\n        }\r\n    }\r\n\r\n    //根据id获取\r\n    public GetByID(id: number): T {\r\n        let data = this.configDic.get(id)\r\n        return data;\r\n    }\r\n\r\n    //获取总数\r\n    public GetAll(): Array<T> {\r\n        return this.configDic.values as Array<T>;\r\n    }\r\n\r\n    //获取表数据总数\r\n    public GetCount(): number {\r\n        return this.configDic.keys.length\r\n    }\r\n\r\n    public PrintTable() {\r\n        let allRows = this.configDic.values;\r\n        let tableString = \"\\n\";\r\n        for (let index = 0; index < allRows.length; index++) {\r\n            let row = allRows[index] as IByteConfig;\r\n            if (index == 0) {\r\n                tableString += \"打印表 \" + row.GetTableName() + \"=========================================================================\\n\";\r\n            }\r\n            tableString += row.Print();\r\n        }\r\n        tableString += \"表尾=========================================================================\\n\";\r\n        Log.Debug(tableString)\r\n    }\r\n\r\n    public GetTableName() {\r\n        let allRows = this.configDic.values;\r\n        return allRows.length > 0 ? (allRows[0] as IByteConfig).GetTableName() : \"EnmptyTable\";\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 二进制配置表管理类\r\n */\r\nexport class ByteTableManager {\r\n    private m_configDic: Dictionary = new Dictionary();\r\n\r\n    /**\r\n     * 使用加载的二进制数据初始化表格\r\n     * @param type \r\n     * @param buffer \r\n     */\r\n    public OnTableLoaded<T extends IByteConfig>(type: new () => T, buffer: ArrayBuffer) {\r\n        if (this.m_configDic.get(type)) {\r\n            Log.Error(\"表格重复添加, %s 已经存在\", type.toString())\r\n            return;\r\n        }\r\n        let configTable = new ConfigTable<T>();\r\n        configTable.Load(buffer, type);\r\n        this.m_configDic.set(type, configTable)\r\n        //configTable.PrintTable();\r\n    }\r\n    /**\r\n     * 根据id获取\r\n     * @param id \r\n     * @param type \r\n     */\r\n    public GetConfigByID<T extends IByteConfig>(id: number, type: new () => T): T {\r\n        let table = this.m_configDic.get(type) as ConfigTable<T>;\r\n        if (table) {\r\n            let config = table.GetByID(id);\r\n            if (config == null) Log.Warn(\"配置表 %s中id %d 不存在\", table.GetTableName(), id)\r\n            return config;\r\n        } else {\r\n            Log.Warn(\"配置表不存在 %s\", type.toString())\r\n            return null;\r\n        }\r\n    }\r\n\r\n    //获取总数\r\n    public GetAll<T extends IByteConfig>(type: new () => T): Array<T> {\r\n        let table = this.m_configDic.get(type) as ConfigTable<T>;\r\n        if (table) {\r\n            return table.GetAll();\r\n        } else {\r\n            Log.Warn(\"配置表不存在 %s\", type.toString())\r\n            return null;\r\n        }\r\n    }\r\n\r\n    //获取表数据总数\r\n    public GetCount<T extends IByteConfig>(type: new () => T): number {\r\n        let table = this.m_configDic.get(type) as ConfigTable<T>;\r\n        if (table) {\r\n            return table.GetCount();\r\n        } else {\r\n            Log.Warn(\"配置表不存在 %s\", type.toString())\r\n            return null;\r\n        }\r\n    }\r\n\r\n    // public static Load<T extends IByteConfig>(filePath: string, type: new () => T, comFunc: Function) {\r\n    //     ResourceManager.GetInstance().loadBytesFile(filePath,\r\n    //         (callback: LoadTaskCallbackParam) => {\r\n    //             if (callback.Ok) {\r\n    //                 let configTable = new ConfigTable<T>();\r\n    //                 configTable.Load(callback.Param, type);\r\n    //                 configTable.PrintTable();\r\n    //                 comFunc(true)\r\n    //             } else {\r\n    //                 comFunc(false)\r\n    //             }\r\n    //         })\r\n    // }\r\n\r\n}","\r\nexport default class PathUtil {\r\n\r\n\r\n    /**\r\n     * 从Object中获取url string\r\n     * getUrlFromObj\r\n     * @param urlObject \r\n     */\r\n    public static GetUrlFromObj(urlObject: any): string {\r\n        return urlObject.url ? urlObject.url : urlObject\r\n    }\r\n\r\n    /**\r\n     * 检测url是否添加了http路径头\r\n     * @param urlToCheck \r\n     */\r\n    public static IsUrlFormated(urlToCheck: any): boolean {\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 添加http头\r\n     * @param url 需要添加http头的地址\r\n     */\r\n    public static FormatURL(url: any): any {\r\n        if (this.IsUrlFormated(url)) return url;\r\n        return url\r\n    }\r\n\r\n    public static FormatURLArray(urls: any[]): any[] {\r\n        let urllist = []\r\n        for (let index = 0; index < urls.length; index++) {\r\n            let element = urls[index];\r\n            urllist.push(this.FormatURL(element))\r\n        }\r\n        return urllist;\r\n    }\r\n\r\n    /**\r\n     * 去除url中添加的http头\r\n     * @param url \r\n     */\r\n    public static ReformatURL(url: any): any {\r\n        if (!this.IsUrlFormated(url)) return url; //本身没有添加http头 直接返回\r\n        return url\r\n\r\n    }\r\n    public static ReformatURLArray(urls: any[]): any[] {\r\n        let urllist = []\r\n        for (let index = 0; index < urls.length; index++) {\r\n            let element = urls[index];\r\n            urllist.push(this.ReformatURL(element))\r\n        }\r\n        return urllist;\r\n    }\r\n\r\n\r\n\r\n}","import Log from \"../utils/Log\";\r\nimport PathUtil from \"../utils/PathUtil\";\r\nimport Dictionary from \"../utils/Dictionary\";\r\nimport CommonUtil from \"../utils/CommonUtil\";\r\n\r\nexport default class ResourceManager {\r\n    private static _intance: ResourceManager = null;\r\n\r\n    private unloadingMap: Dictionary = new Dictionary();//记录正在卸载的资源\r\n\r\n\r\n    public static get Instance(): ResourceManager {\r\n        if (this._intance == null) {\r\n            this._intance = new ResourceManager();\r\n        }\r\n        return this._intance;\r\n    }\r\n\r\n    constructor() {\r\n        Laya.loader.on(Laya.Event.ERROR, this, this.onError)\r\n    }\r\n\r\n    onError(msg) {\r\n        Log.Error(\"ResourceManager load error:\" + msg)\r\n    }\r\n\r\n    /**\r\n     * 加载2d资源类型   \r\n     * todo 正在unloading的时候重新load资源: 可以load成功\r\n     * todo 正在loading的时候unload资源. 无法取消:因为laya未开放对应接口. cancelLoadByUrl只能停止未开始下载的资源.\r\n     *       比如拼图游戏,  点击加载小图, 正在loading的时候. 切换模式, 加载其他小图. 当前的loading中的都卸载. 需要再成功回调中处理.\r\n     * 已解决: 回调中继续加载资源, 导致新加载资源回调不触发\r\n     * @param url 资源路径 \r\n     * @param comFun 成功回调 LoadTaskCallbackParam{isok:true,  param:loadedcontent}  类型作为参数\r\n     */\r\n    LoadRes(url: any, comFun: Function, type?: any) {\r\n        let formatURL = PathUtil.GetUrlFromObj(PathUtil.FormatURL(url));\r\n        //取消卸载\r\n        if (this.unloadingMap.get(formatURL)) {\r\n            Log.Debug(\"加载资源, 取消卸载\" + formatURL)\r\n            this.recordUnloaded(formatURL);\r\n        }\r\n\r\n        // if (this.loadingMap.get(formatURL)) {\r\n        //     Log.Warn(\"正在加载2d资源, 不进行重复加载\" + formatURL)\r\n        //     if (comFun) comFun()\r\n        // } else \r\n        {\r\n            //已经加载的资源直接返回, 否则进行加载\r\n            let resExist = this.checkResLoaded(formatURL);\r\n            if (resExist) {\r\n                //Log.Warn(\"资源已经2d加载, 不需要重复加载 \" + formatURL)\r\n                if (comFun) comFun(new LoadTaskCallbackParam(true, this.GetRes(formatURL)))\r\n            } else {\r\n                //记录正在加载和没加载的\r\n                let loadTask = this.createLoadingTask(formatURL, formatURL, comFun, null);\r\n                let needLoad = this.recordTask(loadTask)\r\n                if (!needLoad) return;\r\n                //Log.Debug(\"start load url :\" + formatURL)\r\n                Laya.loader.load(formatURL, Laya.Handler.create(this, this.onloaded, [formatURL, comFun, null, loadTask]), null, type);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 加载2d二进制文件\r\n     * @param url 资源路径 \r\n     * @param comFun 成功回调 LoadTaskCallbackParam{isok:true,  param:loadedcontent}  类型作为参数\r\n     */\r\n    LoadBytesFile(url: any, comFun: Function) {\r\n        this.LoadRes(url, comFun, Laya.Loader.BUFFER);\r\n    }\r\n\r\n    /**\r\n     * 加载json\r\n     * @param url \r\n     * @param comFun \r\n     */\r\n    LoadJsonFile(url: any, comFun: Function) {\r\n        this.LoadRes(url, comFun, Laya.Loader.JSON);\r\n    }\r\n    /**\r\n     * 2d资源加载成功回调\r\n     * @param url 成功的资源路径\r\n     * @param comFun 成功回调\r\n     * @param loadeContent 成功加载内容 \r\n     */\r\n    private onloaded(url: any, comFun: Function, failFun: Function, task: LoadingTask, loadeContent: any) {\r\n        //Log.Debug(\"=====>res loaded: \" + url)\r\n        // this.recordLoading(url, false)\r\n        // let success = this.checkLoadedSuccess([url]);\r\n        // if (!success) {\r\n        //     if (failFun) failFun();\r\n        //     return;\r\n        // }\r\n\r\n        //检测当前的task的资源都完成加载, 没有继续等待,\r\n        let commpleted = this.checkAllTaskComplete(task.TaskID)\r\n        if (commpleted) {\r\n            this.executeCallbackAndClearTask(task.TaskID, loadeContent)\r\n        }\r\n        // this.checkAllTaskComplete(task.TaskID, success, loadeContent)\r\n        // comFun(loadeContent);\r\n    }\r\n\r\n    /**\r\n     * 批量加载2d资源\r\n     * @param urls 资源路径 \r\n     * @param comFun 成功回调 LoadTaskCallbackParam{isok:true,  param:urllist}  类型作为参数\r\n     */\r\n    LoadResArray(urls: any[], comFun: Function, type?: any, progressFun?: Function) {\r\n        //let urlcopy = PathUtil.FormatURLArray(urls)\r\n        let urlcopy=urls;\r\n        let urllist = []\r\n        for (let index = 0; index < urlcopy.length; index++) {\r\n            let tempUrl = PathUtil.GetUrlFromObj(urlcopy[index]);\r\n            //取消卸载\r\n            if (this.unloadingMap.get(tempUrl)) {\r\n                Log.Debug(\"加载资源, 取消卸载\" + tempUrl)\r\n                this.recordUnloaded(tempUrl);\r\n            }\r\n\r\n            // if (this.loadingMap.get(tempUrl)) {\r\n            //     Log.Warn(\"正在加载2d资源, 不进行重复加载\" + tempUrl)\r\n            // } else \r\n\r\n            {\r\n                let resExist = this.checkResLoaded(tempUrl);\r\n                if (resExist) {\r\n                    Log.Warn(\"资源已经2d加载, 不需要重复加载 \" + tempUrl)\r\n                } else {\r\n                    urllist.push(tempUrl)\r\n                    // this.recordLoading(tempUrl, true)\r\n                }\r\n            }\r\n        }\r\n\r\n        if (urllist.length == 0) {\r\n            // Log.Debug(\"没有需要加载的2d资源\")\r\n            if (comFun) comFun(new LoadTaskCallbackParam(true, urls))\r\n            return;\r\n        }\r\n\r\n        //只需要加载没在加载中的url,在记录加载任务前检测, 否则没加载的会加入loadingmap中\r\n        let notLoadingUrlList = this.getNotLoadingUrl(urllist)\r\n        //记录加载任务, 如果都在加载中, 不需要加载.\r\n        let loadTask = this.createLoadingTask(urllist, urlcopy, comFun, null);\r\n        let needLoad = this.recordTask(loadTask)\r\n        if (!needLoad) return;\r\n\r\n        // let url = CommonUtil.FormatURLArray(urls);\r\n        // for (let index = 0; index < urllist.length; index++) {\r\n        //     this.recordLoading(urllist[index], true)\r\n        // }\r\n        if (notLoadingUrlList.length == 0) Log.Error(\"没有需要加载的2d资源, 但是通过了this.recordTask的检测.\")\r\n\r\n        //Log.Debug(\"start load array : %o\", notLoadingUrlList)\r\n\r\n        Laya.loader.load(notLoadingUrlList,\r\n            Laya.Handler.create(this, this.onArrayloaded, [urllist, comFun, null, loadTask, progressFun]),\r\n            Laya.Handler.create(this, this.onArrayLoading, [progressFun], false), type);\r\n    }\r\n\r\n    //批量资源加载中\r\n    private onArrayLoading(progressFun: Function, progress: any) {\r\n        // Log.Debug(\"progress\" + progress)\r\n        if (progressFun) {\r\n            progressFun(progress)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 2d资源批量加载成功回调\r\n     * @param url 加载成功的路径Object, url是object[]类型不是string[] \r\n     * @param comFun 成功回调\r\n     */\r\n    private onArrayloaded(urlList: any[], comFun: Function, failFun: Function, task: LoadingTask, progressFun: Function, result: boolean) {\r\n        // Log.Debug(\"=====>res loaded array: \" + url.length + \" \" + url)\r\n        // for (var index = 0; index < url.length; index++) {\r\n        //     var element = url[index];\r\n        //     Log.Debug(\"=========>loaded: \" + element.url ? element.url : element);\r\n        // }\r\n        // for (let index = 0; index < urlList.length; index++) {\r\n        //     this.recordLoading(urlList[index], false)\r\n        // }\r\n\r\n        // let success = this.checkLoadedSuccess(url);\r\n        // if (!success) {\r\n        //     if (failFun) failFun();\r\n        //     return;\r\n        // }\r\n        // this.checkAllTaskComplete(task.TaskID, success)\r\n        // comFun(url);\r\n\r\n        if (progressFun) {\r\n            progressFun(1)\r\n        }\r\n        //检测当前的task的资源都完成加载, 没有继续等待,\r\n        let commpleted = this.checkAllTaskComplete(task.TaskID)\r\n        if (commpleted) {\r\n            this.executeCallbackAndClearTask(task.TaskID)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取加载的资源\r\n     * @param url 获取的资源路径 \r\n     */\r\n    public GetRes(url: string) {\r\n        let resUrl = PathUtil.FormatURL(url)\r\n        let obj = Laya.loader.getRes(resUrl)\r\n        if (obj == null) {\r\n            Log.Error(\"获取资源为空, 没有加载:\" + resUrl);\r\n        }\r\n        return obj;\r\n    }\r\n\r\n\r\n    /**\r\n     * 检测是否加载的资源\r\n     * @param url 获取的资源路径 \r\n     */\r\n    public HasRes(url: string): boolean {\r\n        let resUrl = PathUtil.FormatURL(url)\r\n        let obj = Laya.loader.getRes(resUrl)\r\n        return obj != null;\r\n    }\r\n\r\n    /**\r\n     * 资源释放(Image,Sprite3d对象, 资源路径)\r\n     * 正在加载的资源不卸载\r\n     * todo 测试 cancelLoadByUrl\r\n     * @param resurl 可以传入Image,Sprite3d对象, 或需要释放的资源路径.\r\n     * 传入Image,Sprite3d对象: 销毁对象本身, 同时销毁资源. ps只能卸载是通过Image.texture赋值的方式加载的image\r\n     * 传入资源路径: 只销毁资源, 使用资源的对象需要自己销毁.\r\n     * @param comFun 成功回调\r\n     */\r\n    Release(resurl: any, comFun?: Function): void {\r\n        if (!resurl) {\r\n            Log.Debug(\"卸载的资源为空, 不需要卸载\")\r\n            if (comFun) comFun();\r\n            return;\r\n        }\r\n\r\n        //获取需要卸载的资源路径\r\n        let relaseUrl = null;\r\n        if (resurl instanceof Laya.Image) {\r\n            if (resurl && resurl.texture && resurl.texture.url) {\r\n                relaseUrl = resurl.texture.url\r\n            } else {\r\n                if (!resurl.texture) {\r\n                    Log.Error(\"Image的texture为空, 只能卸载通过 Image.texture = ResourceManger.getRes() 方式加载的Image! 其他的只能手动destory Image后, release(url)\")\r\n                    if (comFun) comFun();\r\n                    return;\r\n                }\r\n            }\r\n        } else if (Laya.Sprite3D && resurl instanceof Laya.Sprite3D) {\r\n            if (resurl && resurl.url) {\r\n                relaseUrl = resurl.url;\r\n            }\r\n        }\r\n        else if (Laya.SkyBoxMaterial && resurl instanceof Laya.SkyBoxMaterial) {\r\n            if (resurl && resurl.url) {\r\n                relaseUrl = resurl.url;\r\n            } else {\r\n                Log.Error(\"Laya.SkyBoxMaterial的url为空, 只能通过release(url)卸载\")\r\n                if (comFun) comFun();\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            relaseUrl = resurl;\r\n        }\r\n\r\n        //检测资源是否正在加载\r\n        let formatedRelaseUrl = PathUtil.FormatURL(relaseUrl)\r\n        if (this.checkIsLoading(formatedRelaseUrl)) {\r\n            //  if (this.loadingMap.get(formatedRelaseUrl)) {\r\n            //Laya.loader.cancelLoadByUrl(formatedRelaseUrl);// 只能取消还没有开始下载的, laya未开放获取已开始下载资源的接口\r\n            Log.Warn(\"正在加载资源, 不进行卸载\" + formatedRelaseUrl)\r\n            if (comFun) comFun();\r\n            return;\r\n        }\r\n\r\n        //检测资源是否已经加载\r\n        let resExist = this.checkResLoaded(formatedRelaseUrl);\r\n        if (!resExist) {\r\n            if ((Laya.Sprite3D && resurl instanceof Laya.Sprite3D) || resurl instanceof Laya.Image) {\r\n                Log.Warn(\"资源已经卸载, 但是sprite3d模型/Image变量没有设空, 导致重复卸载!!\" + formatedRelaseUrl)\r\n            } else {\r\n                Log.Warn(\"资源没有加载, 不需要卸载\" + formatedRelaseUrl)\r\n            }\r\n            if (comFun) comFun();\r\n            return;\r\n        }\r\n\r\n        //卸载资源\r\n        if (resurl instanceof Laya.Image) {\r\n            this.releaseImage(resurl, comFun)\r\n        } else if (Laya.Sprite3D && resurl instanceof Laya.Sprite3D) {\r\n            this.releaseSprite3d(resurl, comFun)\r\n        } else if (Laya.SkyBoxMaterial && resurl instanceof Laya.SkyBoxMaterial) {\r\n            this.releaseSkyMaterial(resurl, comFun)\r\n        }\r\n        else {\r\n            let url = PathUtil.FormatURL(resurl)\r\n            this.recordUnloading(resurl)\r\n            //3d资源会先检测是否有依赖资源\r\n            this.releaseDependency(url, (ok) => {\r\n                if (ok) {\r\n                    Laya.loader.clearRes(url);//销毁资源\r\n                    this.loaded3DRes.remove(url) //删除3d资源记录\r\n                    this.recordUnloaded(url) //继续卸载完成\r\n                } else {\r\n                    Log.Debug(\"卸载中断\")\r\n                }\r\n\r\n                if (comFun) comFun();\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Image资源销毁\r\n     * @param image 需要销毁的Image对象\r\n     * @param comFun 成功回调\r\n     */\r\n    private releaseImage(image: Laya.Image, comFun?: Function): void {\r\n        if (image && image.texture) {\r\n            let url = image.texture.url;\r\n            if (url) {\r\n                this.Release(url, () => {\r\n                    if (comFun) comFun();\r\n                    image.destroy(true)\r\n                    image = null;\r\n                })\r\n            } else {\r\n                Log.Error(\"传入的imageTexture的url为空, 无法卸载\");\r\n            }\r\n        } else if (image.skin != \"\") {\r\n            image.destroy(true)\r\n            image = null;\r\n        } else {\r\n            Log.Error(\"传入的image为空,或者image的texture为空, 同时不包含图集中小图, 无法卸载\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 销毁Sprite3d对象\r\n     * @param model 需要销毁的sprite3d对象 \r\n     * @param comFun 成功回调\r\n     */\r\n    private releaseSprite3d(model: Laya.Sprite3D, comFun?: Function): void {\r\n        if (model && model.url) {\r\n            let resurl = model.url;\r\n            let url = PathUtil.FormatURL(resurl)\r\n            this.Release(url, () => {\r\n                //需要在卸载完成后才detorymodel,否则destory先销毁了lh, 导致检测是否已经加载lh出错\r\n                model.destroy(true)\r\n                if (comFun) comFun()\r\n            })\r\n\r\n        } else {\r\n            Log.Error(\"传入的model为空,或者model的url为空 无法卸载\");\r\n        }\r\n    }\r\n    /**\r\n     * 销毁天空盒对象\r\n     * @param model 需要销毁的天空对象 \r\n     * @param comFun 成功回调\r\n     */\r\n    private releaseSkyMaterial(model: Laya.SkyBoxMaterial, comFun?: Function): void {\r\n        if (model && model.url) {\r\n            let resurl = model.url;\r\n            let url = PathUtil.FormatURL(resurl)\r\n            this.Release(url, () => {\r\n                //需要在卸载完成后才detorymodel,否则destory先销毁了lh, 导致检测是否已经加载lh出错\r\n                model.destroy()\r\n                if (comFun) comFun()\r\n            })\r\n\r\n        } else {\r\n            Log.Error(\"传入的model为空,或者model的url为空 无法卸载\");\r\n        }\r\n    }\r\n    /**\r\n     * lh依赖资源的销毁.\r\n     * @param resurl 需要销毁的lh/ls资源路径\r\n     * @param comFun 成功回调\r\n     */\r\n    private releaseDependency(resurl: string, comFun: Function): void {\r\n        let index = resurl.lastIndexOf(\".lh\");\r\n        if (index < 0) {\r\n            index = resurl.lastIndexOf(\".ls\");\r\n            if (index < 0) {\r\n                // Log.Debug(\"资源不是lh/ls 3d资源, 不进行依赖资源卸载. \" + resurl)\r\n                comFun(true)\r\n                return;\r\n            }\r\n        }\r\n\r\n        Log.Debug(\"开始卸载依赖资源 \" + resurl)\r\n        //把url的lh换成json , 加载json, 卸载json中记录的依赖资源\r\n        let depResJsonUrl = resurl.substring(0, index) + \".json\"\r\n        Log.Debug(\"--卸载依赖资源, 使用依赖资源记录文档-\" + depResJsonUrl)\r\n        this.LoadRes(depResJsonUrl, (param: LoadTaskCallbackParam) => {\r\n            if (param.Ok) {\r\n                let json = param.Param as DependenciesResInfos\r\n\r\n                Log.Debug(\"加载卸载依赖资源json完成 \" + resurl)\r\n                if (!this.unloadingMap.get(resurl)) {\r\n                    Log.Debug(\"资源卸载被取消, 不继续卸载 \" + resurl)\r\n                    comFun(false)\r\n                    return;\r\n                }\r\n\r\n                for (let index = 0; index < json.denpendenciesList.length; index++) {\r\n                    let dependentResInfo = json.denpendenciesList[index];\r\n                    //转换依赖资源路径,json中记录的路径是相对lh所在目录的路径\r\n                    let lhParentDir = depResJsonUrl.substring(0, depResJsonUrl.lastIndexOf(\"/\"))\r\n                    let depResUrl = lhParentDir + \"/\" + dependentResInfo.Path;//依赖资源路径\r\n\r\n                    //检测资源依赖计数    \r\n                    let refCount = this.loaded3DDeps.get(depResUrl)\r\n                    if (refCount && refCount > 1) {\r\n                        //还有其他依赖, 减一, 不删除\r\n                        refCount -= 1;\r\n                        this.loaded3DDeps.set(depResUrl, refCount);\r\n                    } else {\r\n                        //无其他资源依赖,删除依赖资源 防止共用资源已经提前卸载\r\n                        this.loaded3DDeps.remove(depResUrl);\r\n                        let res = Laya.loader.getRes(depResUrl);\r\n                        if (res)\r\n                            res.dispose();\r\n                        else {\r\n                            Log.Warn(depResJsonUrl + \" 资源不存在, 已经卸载,\" + depResUrl)\r\n                        }\r\n                    }\r\n                }\r\n                Log.Debug(\"卸载完依赖资源\")\r\n                //卸载完 清理依赖资源json\r\n                this.Release(depResJsonUrl)\r\n                comFun(true)\r\n            } else {\r\n                Log.Error(\"加载依赖资源json出错. \" + depResJsonUrl)\r\n                comFun(false)\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    ///3D加载部分\r\n\r\n    /**\r\n     * 加载3d模型贴图, 2dtexture使用loadRes\r\n     * @param url 贴图路径\r\n     * @param comFun 成功回调\r\n     */\r\n    CreateTextureArray(url: any[], comFun: Function) {\r\n        this.CreateResArray(url, comFun, Laya.Texture2D)\r\n    }\r\n\r\n    /**\r\n     * 批量3d资源加载, lh模型, 贴图, 天空盒\r\n     * todo lh/ls 都必须用工具生成对应的json文件, 记录依赖信息\r\n     * @param url 资源路径\r\n     * @param comFun 成功回调 LoadTaskCallbackParam{isok:true,  param:urllist} 类型作为参数\r\n     * @param clas 资源类型 Laya.Texture2D\r\n     * @param progressFun 加载进度\r\n     */\r\n    CreateResArray(url: any[], comFun: Function, clas?: any, progressFun?: Function) {\r\n        Log.Debug(\"开始加载资源 \" + url[0])\r\n        let urlcopy = CommonUtil.RemoveRepeated(url);\r\n        urlcopy = PathUtil.FormatURLArray(urlcopy)\r\n        let urllist = []\r\n        try {\r\n            //url在回调onArrayCreated中被修改成Object对象{url, progress} 不再是string类型\r\n            // let urlcopy = [];\r\n            // for (var index = 0; index < url.length; index++) {\r\n            //     var element = url[index];\r\n            //     urlcopy.push(element)\r\n            // }\r\n            for (let index = 0; index < urlcopy.length; index++) {\r\n                let tempUrl = urlcopy[index];\r\n                //取消卸载\r\n                if (this.unloadingMap.get(tempUrl)) {\r\n                    Log.Debug(\"加载资源, 取消卸载\" + tempUrl)\r\n                    this.recordUnloaded(tempUrl);\r\n                }\r\n\r\n\r\n                // if (this.loadingMap.get(tempUrl)) {\r\n                //     Log.Warn(\"正在加载资源, 不进行重复加载\" + tempUrl)\r\n                // } else \r\n                {\r\n                    let resExist = this.checkResLoaded(tempUrl);\r\n                    if (resExist) {\r\n                        Log.Warn(\"资源已经加载, 不需要重复加载 \" + tempUrl)\r\n                    } else {\r\n                        urllist.push(tempUrl)\r\n                        // this.recordLoading(tempUrl, true)\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            if (urllist.length == 0) {\r\n                Log.Debug(\"没有需要加载的资源\")\r\n                if (comFun) comFun(new LoadTaskCallbackParam(true, url))\r\n                return;\r\n            }\r\n\r\n\r\n\r\n            //只需要加载没在加载中的url,在记录加载任务前检测, 否则没加载的会加入loadingmap中\r\n            let notLoadingUrlList = this.getNotLoadingUrl(urllist)\r\n            //记录正在加载和没加载的\r\n            let loadTask = this.createLoadingTask(urllist, urlcopy, comFun, null);\r\n            //Log.Debug(\"记录加载任务 %o\", loadTask)\r\n            let needLoad = this.recordTask(loadTask)\r\n            if (!needLoad) return;\r\n            // let urlcopy = CommonUtil.FormatURLArray(urllist)\r\n\r\n            if (notLoadingUrlList.length == 0) Log.Error(\"没有需要加载的资源, 但是通过了this.recordTask的检测.\")\r\n\r\n            //加载没加载中的资源,最后检测批量是否成功使用urllist,\r\n            Laya.loader.create(notLoadingUrlList,\r\n                Laya.Handler.create(this, this.onArrayCreated, [urllist, comFun, null, loadTask.TaskID]),\r\n                Laya.Handler.create(this, this.onCreateArrayLoading, [progressFun], false),\r\n                clas,\r\n                null);\r\n        } catch (error) {\r\n            for (let index = 0; index < urllist.length; index++) {\r\n                let element = urllist[index];\r\n                Log.Debug(\"加载报错 \" + (element.url ? element.url : element))\r\n            }\r\n            Log.Error(\"createResArray catch error:\" + error + \" \")\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 3d资源批量加载成功\r\n     * @param urlobj 加载成功的路径Object, url是object[]类型不是string[] \r\n     * @param comFun 成功回调\r\n     */\r\n    private onArrayCreated(urlobj: any[], comFun: Function, failFun: Function, taskid: number) {\r\n        // Log.Debug(\"=====>res loaded array: \" + urlobj.length + \" \" + urlobj)\r\n        // for (var index = 0; index < urlobj.length; index++) {\r\n        //     var element = urlobj[index];\r\n        //     Log.Debug(\"=========>loaded: \" + element.url ? element.url : element);\r\n        // }\r\n        Log.Debug(\"3d资源加载成功 taskid:\" + taskid + \" url[0]:\" + urlobj[0].url)\r\n        // for (let index = 0; index < urlobj.length; index++) {\r\n        //     this.recordLoading(urlobj[index], false)\r\n        // }\r\n\r\n        //检测当前的task的资源都完成加载, 没有继续等待,\r\n        let commpleted = this.checkAllTaskComplete(taskid)\r\n        if (commpleted) {\r\n            // let success = this.checkLoadedSuccess(urlobj);\r\n            // if (!success) {\r\n            //     if (failFun) failFun();\r\n            //     return;\r\n            // }\r\n            // if (!success) this.checkAllTaskComplete(taskid, success)\r\n            //不管成功/失败. 选出加载的成功的资源, 记录他们的依赖资源加载情况.\r\n            let completedTask = this.taskMap.get(taskid) as LoadingTask;\r\n            let loadedUrlObj = this.getLoadedArray(completedTask.LoadingUrlArray)\r\n            this.recordLoadedDependencies(loadedUrlObj, () => {\r\n                // comFun(urlobj);\r\n                // this.checkAllTaskComplete(taskid, success)\r\n                //都完成了, 检测task的所有资源是否都加载成功,  根据成功情况进行回调. \r\n                this.executeCallbackAndClearTask(taskid)\r\n            })\r\n        }\r\n        //\r\n    }\r\n\r\n    //批量资源加载中\r\n    private onCreateArrayLoading(progressFun: Function, progress: any) {\r\n        // Log.Debug(\"progress\" + progress)\r\n        if (progressFun) {\r\n            progressFun(progress)\r\n        }\r\n    }\r\n\r\n    //获取其中已经加载的url\r\n    private getLoadedArray(urlobj: any[]): any[] {\r\n        let loadedUrl = []\r\n        for (let index = 0; index < urlobj.length; index++) {\r\n            let urlTemp = urlobj[index];\r\n            let exist = this.checkResLoaded(urlTemp)\r\n            if (exist) {\r\n                loadedUrl.push(urlTemp)\r\n            }\r\n        }\r\n        return loadedUrl;\r\n    }\r\n\r\n    private loaded3DRes: Dictionary = new Dictionary(); //记录加载的lh资源  <resUrl, 1>\r\n    private loaded3DDeps: Dictionary = new Dictionary();//记录依赖资源引用计数\r\n    /**\r\n     * 批量记录lh资源的依赖计数\r\n     * @param resurls 批量加载成功的lh资源路径 \r\n     * @param comFun 记录完成回调\r\n     */\r\n    private recordLoadedDependencies(resurls: any[], comFun?: Function): void {\r\n        Log.Debug(\"开始记录 依赖资源\")\r\n        let total = resurls.length;\r\n        let count = 0;\r\n        for (let index = 0; index < resurls.length; index++) {\r\n            let element = resurls[index];\r\n            let url = PathUtil.GetUrlFromObj(element);// element.url ? element.url : element;\r\n            this.recordLoadedDependency(url, () => {\r\n                count += 1;\r\n                if (count == total) {\r\n                    Log.Debug(\"完成 依赖资源记录\")\r\n                    if (comFun) comFun();\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 记录lh资源的依赖计数, 每个lh只记录一次\r\n     * @param resurl 加载成功的lh资源路径\r\n     * @param comFun 记录完成回调\r\n     */\r\n    private recordLoadedDependency(resurl: string, comFun: Function): void {\r\n        if (this.loaded3DRes.get(resurl)) {\r\n            Log.Debug(\"3d资源已经加载过, 不记录相同依赖资源\" + resurl)\r\n            comFun(true);\r\n            return;\r\n        }\r\n\r\n        //非lh/ls 不记录依赖资源\r\n        let index = resurl.lastIndexOf(\".lh\");\r\n        if (index < 0) {\r\n            index = resurl.lastIndexOf(\".ls\");\r\n            if (index < 0) {\r\n                // Log.Debug(\"资源不是lh/ls 3d资源, 不进行依赖资源卸载. \" + resurl)\r\n                comFun(true)\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.loaded3DRes.set(resurl, 1);//记录加载的3d资源\r\n\r\n        //把url的lh换成json , 加载json, 卸载json资源\r\n        resurl = resurl.substring(0, index) + \".json\"\r\n        Log.Debug(\"--根据依赖配置文件, 记录加载依赖 \" + resurl)\r\n        this.LoadRes(resurl,\r\n            (param: LoadTaskCallbackParam) => {\r\n                if (param.Ok) {\r\n                    let json = param.Param as DependenciesResInfos\r\n                    Log.Debug(\"依赖资源json 加载成功\")\r\n                    for (let index = 0; index < json.denpendenciesList.length; index++) {\r\n                        let dependentResInfo = json.denpendenciesList[index];\r\n                        let lhParentDir = resurl.substring(0, resurl.lastIndexOf(\"/\"))\r\n                        let depResUrl = lhParentDir + \"/\" + dependentResInfo.Path;//依赖资源路径\r\n\r\n                        //记录依赖计数\r\n                        let refCount = this.loaded3DDeps.get(depResUrl)\r\n                        if (refCount) {\r\n                            this.loaded3DDeps.set(depResUrl, refCount + 1)\r\n                        } else {\r\n                            this.loaded3DDeps.set(depResUrl, 1)\r\n                        }\r\n                    }\r\n\r\n                    //卸载完 清理依赖资源json\r\n                    this.Release(resurl)\r\n                    comFun(true)\r\n                } else {\r\n                    Log.Error(\"加载依赖资源json出错. \" + resurl)\r\n                    comFun(false)\r\n                }\r\n            })\r\n    }\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    private taskMap: Dictionary = new Dictionary();//记录加载任务<taskid, task>; key:任务id,   value: 任务\r\n    private loadingUrlMap: Dictionary = new Dictionary();//记录加载任务<url, taskidList>; key:资源路径, value:包含这个资源的所有任务idList\r\n    static LOADING_TASK_ID: number = 1;\r\n    /**\r\n     * 记录加载任务\r\n     * @param urlObjectToLoad 排除已经加载的对象后, 未加载的资源对象\r\n     * @param allUrlObject 所有加载对象\r\n     * @param comFun \r\n     * @param failFunc \r\n     */\r\n    private createLoadingTask(urlObjectToLoad: any, allUrlObject: any, comFun: Function, failFunc: Function): LoadingTask {\r\n        let task = new LoadingTask();\r\n        if (comFun) task.CompleteCallbackList.push(comFun)\r\n        if (failFunc) task.FailCallbackList.push(failFunc)\r\n        //记录资源加载路径\r\n        if (urlObjectToLoad instanceof Array) {\r\n            task.LoadingUrlArray = this.converUrlObjectArray(urlObjectToLoad);\r\n            task.AllTaskUrlArray = this.converUrlObjectArray(allUrlObject)\r\n        } else {\r\n            task.LoadingUrlArray = [PathUtil.GetUrlFromObj(urlObjectToLoad)];\r\n            task.AllTaskUrlArray = [PathUtil.GetUrlFromObj(allUrlObject)]\r\n        }\r\n        task.isArray = task.LoadingUrlArray.length > 1;\r\n\r\n        task.TaskID = ResourceManager.LOADING_TASK_ID++;\r\n        return task;\r\n    }\r\n\r\n    /**\r\n     * 记录加载任务\r\n     * \r\n     * 返回 true需要加载, false都在加载中\r\n     * @param task \r\n     */\r\n    private recordTask(task: LoadingTask): boolean {\r\n        //监测是否当前task里面的资源都正在加载中.\r\n        let isAllLoading = true;;\r\n        for (let index = 0; index < task.LoadingUrlArray.length; index++) {\r\n            let tempUrl = task.LoadingUrlArray[index];\r\n            if (!this.checkIsLoading(tempUrl)) {\r\n                isAllLoading = false\r\n                break;\r\n            }\r\n        }\r\n\r\n        //单资源加载/多资源加载, 所有资源已经在加载中, 添加回调到存在任务中\r\n        if (isAllLoading) {\r\n            for (let index = 0; index < task.LoadingUrlArray.length; index++) {\r\n                //直接添加task, 设置task为完成, 因为所有的资源都依赖其他任务是否完成.\r\n                let existTaskIDList = this.loadingUrlMap.get(task.LoadingUrlArray[index]);\r\n                if (!existTaskIDList) {\r\n                    this.loadingUrlMap.set(task.LoadingUrlArray[index], [task.TaskID])\r\n                } else {\r\n                    existTaskIDList.push(task.TaskID)\r\n                }\r\n                task.LoadingComplete = true;//todo  应该是false?\r\n                this.taskMap.set(task.TaskID, task)\r\n            }\r\n            return false;\r\n        }\r\n\r\n        //单资源加载, 没有加载中, 添加新任务\r\n        if (!task.isArray && !isAllLoading) {\r\n            this.loadingUrlMap.set(task.LoadingUrlArray[0], [task.TaskID])\r\n            this.taskMap.set(task.TaskID, task)\r\n            return true;\r\n        }\r\n\r\n        //多资源存在至少一个没有加载中的资源,添加新task, 对应url添加新task\r\n        if (task.isArray && !isAllLoading) {\r\n            this.taskMap.set(task.TaskID, task)\r\n            for (let index = 0; index < task.LoadingUrlArray.length; index++) {\r\n                let tempUrl = task.LoadingUrlArray[index];\r\n                let existTaskIDList = this.loadingUrlMap.get(tempUrl);\r\n                if (!existTaskIDList) {\r\n                    this.loadingUrlMap.set(tempUrl, [task.TaskID])\r\n                } else {\r\n                    if (existTaskIDList.indexOf(task.TaskID) < 0) existTaskIDList.push(task.TaskID)\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 检测加载任务是否完成. \r\n     * 如果任务中的某个资源由其他任务加载, 需要等所有相关任务完成才算 该任务完成\r\n     * @param taskid 最新完成的加载的任务id\r\n     */\r\n    private checkAllTaskComplete(taskid: number): boolean {\r\n        //监测是否加载完成. \r\n        let completedTask = this.taskMap.get(taskid) as LoadingTask;\r\n        if (completedTask) {\r\n            //设置当前任务加载完成\r\n            completedTask.LoadingComplete = true;\r\n\r\n            //监测当前任务包含几个url资源, 每个资源的所有task是否都结束.  没有结束,不执行回调\r\n            let allTaskComplete = true;\r\n            for (let index = 0; index < completedTask.LoadingUrlArray.length; index++) {\r\n                let tempUrl = completedTask.LoadingUrlArray[index];\r\n                let existTaskIDList = this.loadingUrlMap.get(tempUrl);\r\n                if (existTaskIDList) {\r\n                    for (let index = 0; index < existTaskIDList.length; index++) {\r\n                        let tempTaskId = existTaskIDList[index];\r\n                        let tempCheckTask = this.taskMap.get(tempTaskId) as LoadingTask;\r\n                        if (!tempCheckTask.LoadingComplete) {\r\n                            allTaskComplete = false;\r\n                            //****LOg******************** */\r\n                            Log.Debug(\"任务id:\" + taskid + \" 加载完成, 其中url:\" + tempUrl + \" 还有相关task任务没有完成下载\")\r\n                            Log.Debug(\"完成的任务 id:\" + taskid + \"包含url\")\r\n                            for (let index = 0; index < completedTask.LoadingUrlArray.length; index++) {\r\n                                let element = completedTask.LoadingUrlArray[index];\r\n                                Log.Debug(\"url:\" + element)\r\n                            }\r\n                            Log.Debug(\"没完成的任务 id:\" + tempTaskId + \"包含url\")\r\n                            for (let index = 0; index < tempCheckTask.LoadingUrlArray.length; index++) {\r\n                                let element = tempCheckTask.LoadingUrlArray[index];\r\n                                Log.Debug(\"url:\" + element)\r\n                            }\r\n                            //****Log******************** */\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!allTaskComplete) {\r\n                        break;\r\n                    }\r\n                } else {\r\n                    Log.Error(\"检测加载完成任务的url完成情况, url不存在 \" + tempUrl)\r\n                }\r\n            }\r\n            return allTaskComplete\r\n        } else {\r\n            Log.Error(\"加载完成, taskid不存在 \" + taskid)\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 任务加载完成, 任务中所有资源相关的任务也完成了, 执行回调.\r\n     * \r\n     * @param taskid \r\n     * @param callbackParam \r\n     */\r\n    private executeCallbackAndClearTask(taskid: number, callbackParam?: any) {\r\n        //执行回调\r\n        //Log.Debug(\"任务完成, 执行回调\")\r\n        let completedTask = this.taskMap.get(taskid) as LoadingTask;\r\n        if (completedTask) {\r\n            let callbackArray = []//保存回调, 删除记录后最后执行回调\r\n            let callbackParamArray = [];//callback参数\r\n            //遍历任务的所有待加载资源url, 检测每个url相关的加载任务, 执行任务的回调\r\n            for (let index = 0; index < completedTask.LoadingUrlArray.length; index++) {\r\n                let tempUrl = completedTask.LoadingUrlArray[index];\r\n                let existTaskIDList = this.loadingUrlMap.get(tempUrl);\r\n                for (let index = 0; index < existTaskIDList.length; index++) {\r\n                    let tempTaskId = existTaskIDList[index];\r\n                    let tempCallbackTask = this.taskMap.get(tempTaskId) as LoadingTask;\r\n                    if (tempCallbackTask.CallBackExecuted) continue;//已经执行过\r\n\r\n                    //检测任务是否成功, 执行对应的回调\r\n                    let isSucceeded = this.checkLoadedSuccess(tempCallbackTask.LoadingUrlArray);\r\n                    let callbackList = tempCallbackTask.CompleteCallbackList//只用complete回调,用ok区分成功失败 isSucceeded ? tempCallbackTask.CompleteCallbackList : tempCallbackTask.FailCallbackList;\r\n                    for (let index = 0; index < callbackList.length; index++) {\r\n                        let callback = callbackList[index];\r\n                        callbackArray.push(callback);\r\n                        let param = new LoadTaskCallbackParam(isSucceeded, callbackParam ? callbackParam : PathUtil.ReformatURLArray(tempCallbackTask.AllTaskUrlArray))\r\n                        callbackParamArray.push(param)\r\n                    }\r\n                    tempCallbackTask.CallBackExecuted = true;\r\n                    //Log.Debug(\"执行任务的回调 url:\" + tempUrl + \" taskID:\" + tempTaskId)\r\n                }\r\n            }\r\n\r\n            //删除任务相关的urlLoading和taskMap, 删除后再执行回调. 避免回调中继续加载资源出现问题.\r\n            for (let index = 0; index < completedTask.LoadingUrlArray.length; index++) {\r\n                let tempUrl = completedTask.LoadingUrlArray[index];\r\n                let existTaskIDList = this.loadingUrlMap.get(tempUrl);\r\n                //遍历资源相关的所有任务, 这些任务应该都已经完成并且删除了\r\n                for (let index = 0; index < existTaskIDList.length; index++) {\r\n                    let tempTaskId = existTaskIDList[index];\r\n                    this.taskMap.remove(tempTaskId);\r\n                    //Log.Debug(\"删除任务id \" + tempTaskId)\r\n                }\r\n                this.loadingUrlMap.remove(tempUrl);\r\n                //Log.Debug(\"删除loadingurl\" + tempUrl)\r\n            }\r\n\r\n            //执行回调\r\n            for (let index = 0; index < callbackArray.length; index++) {\r\n                let callback = callbackArray[index];\r\n                callback(callbackParamArray[index])\r\n            }\r\n\r\n            if (callbackArray.length == 0) {\r\n                let isSucceeded = this.checkLoadedSuccess(completedTask.LoadingUrlArray);\r\n                Log.Warn(\"当前任务执行 \" + (isSucceeded ? \"成功\" : \"失败\") + \", 但是没有设置对应回调! task:\" + taskid)\r\n            }\r\n\r\n        } else {\r\n            Log.Error(\"任务不存在, 无法执行回调 \" + taskid)\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    /**\r\n     * 检测资源是否已经加载成功\r\n     * @param urlObj \r\n     */\r\n    public checkResLoaded(urlObj: any): boolean {\r\n        let url = PathUtil.GetUrlFromObj(urlObj)\r\n        let resUrl = PathUtil.FormatURL(url)\r\n        let obj = Laya.loader.getRes(resUrl)\r\n        if (!obj) return false;\r\n\r\n        if (CommonUtil.isObject(obj) && \"loaded\" in obj) {\r\n            return obj.loaded\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    /**\r\n     * 记录已经卸载完成的资源 \r\n     * todo 或者CancelUnloading\r\n     * @param urlObject 资源路径\r\n     */\r\n    private recordUnloaded(urlObject: any) {\r\n        let url = PathUtil.GetUrlFromObj(urlObject);// urlObject.url ? urlObject.url : urlObject\r\n        let exist = this.unloadingMap.get(url)\r\n        if (!exist) {\r\n            Log.Warn(\"没有在卸载map中, 无法删除记录\" + url)\r\n            return;\r\n        } else {\r\n            this.unloadingMap.remove(url)\r\n            //Log.Debug(\"记录卸载完成/取消卸载:\" + url)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 记录正在卸载的资源\r\n     * @param urlObject 资源路径\r\n     */\r\n    private recordUnloading(urlObject: any) {\r\n        let url = urlObject.url ? urlObject.url : urlObject\r\n\r\n        let exist = this.unloadingMap.get(url)\r\n        if (exist) {\r\n            Log.Warn(\"已经在卸载ap中, 重复记录\" + url)\r\n            return;\r\n        } else {\r\n            this.unloadingMap.set(url, true)\r\n            //Log.Debug(\"记录卸载unloading:\" + url)\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 是否正在加载中\r\n     * @param formatedUrlObj \r\n     */\r\n    private checkIsLoading(formatedUrlObj: any): boolean {\r\n        let url = PathUtil.GetUrlFromObj(formatedUrlObj);\r\n        let existTaskIDList = this.loadingUrlMap.get(url)\r\n        return existTaskIDList ? true : false;\r\n    }\r\n\r\n    /**\r\n     * 获取没有在加载中的资源地址\r\n     * @param notLoadedUrllist \r\n     */\r\n    private getNotLoadingUrl(notLoadedUrllist: any[]): any[] {\r\n        let notLoadingUrlList = []\r\n        for (let index = 0; index < notLoadedUrllist.length; index++) {\r\n            let url = PathUtil.GetUrlFromObj(notLoadedUrllist[index]);\r\n            if (!this.checkIsLoading(url)) {\r\n                notLoadingUrlList.push(url);\r\n            }\r\n        }\r\n        return notLoadingUrlList\r\n    }\r\n\r\n\r\n    /**\r\n     * 检测资源是否加载成功\r\n     * @param urlobj 资源路径\r\n     */\r\n    private checkLoadedSuccess(urlobj: any[]): boolean {\r\n        let failUrl = []\r\n        for (let index = 0; index < urlobj.length; index++) {\r\n            let urlTemp = urlobj[index];\r\n            let exist = this.checkResLoaded(urlTemp)\r\n            if (!exist) {\r\n                failUrl.push(urlTemp)\r\n            }\r\n        }\r\n        if (failUrl.length > 0) {\r\n            Log.Warn(\"资源加载失败, 数量:\" + failUrl.length)\r\n            for (let index = 0; index < failUrl.length; index++) {\r\n                let element = failUrl[index];\r\n                Log.Warn(\"加载失败资源:\" + (element.url ? element.url : element))\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private converUrlObjectArray(urlObjectArray: any[]): string[] {\r\n        let urlArray = []\r\n        for (let index = 0; index < urlObjectArray.length; index++) {\r\n            let element = urlObjectArray[index];\r\n            urlArray.push(PathUtil.GetUrlFromObj(element))\r\n        }\r\n        return urlArray;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n/**\r\n * 依赖资源信息\r\n */\r\nexport class DependenciesResInfos {\r\n    denpendenciesList: DependenciesResInfo[];\r\n}\r\n\r\nexport class DependenciesResInfo {\r\n    public Path: string;\r\n    public Type: string;\r\n}\r\n\r\n/**\r\n * 资源加载task\r\n */\r\nexport class LoadingTask {\r\n    public TaskID: number;\r\n    public CompleteCallbackList: Function[] = []  //加载成功回调\r\n    public FailCallbackList: Function[] = []        //加载失败回调\r\n\r\n    public isArray: boolean = false; //是否单个或array\r\n    public LoadingUrlArray: string[];//所有需要加载/正在加载的url\r\n    public AllTaskUrlArray: string[];//所有的url路径 包含已经加载的\r\n\r\n    public LoadingComplete = false;\r\n    public CallBackExecuted = false;\r\n}\r\n\r\n/**\r\n * 资源加载回调结果\r\n */\r\nexport class LoadTaskCallbackParam {\r\n    public Ok: boolean; //是否成功\r\n    public Param: any; //LoadRes方法返回加载的资源对象. \r\n    constructor(ok: boolean, param: any) {\r\n        this.Ok = ok;\r\n        this.Param = param;\r\n    }\r\n}","export enum UIID {\n\tBronzewareContentUIUIID,\n\tCalibrationUIUIID,\n\tColorMatchingUIUIID,\n\tEndUIUIID,\n\tLoadingUIUIID,\n\tStartUIUIID,\n}\r\n","import { IByteConfig } from \"../../../framework/manager/ByteTableManager\";\n\nexport class UIInfoRow implements IByteConfig {\n\n    public index: number;\n    public UIID: string;\n    public atlas: string[];\n    public unpackImagList: string[];\n    public uiOpenAnimType: number;\n    public uiCloseAnimType: number;\n    public uiAutoCloseType: number;\n    public uiShowType: number;\n    public depth: number;\n    public showImageBG: boolean;\n    public imageBGPath: string;\n    public imageBGSizeGrid: string;\n    public UIWebPathPrefix: string;\n    public showLoading: boolean;\n\n    public LoadRowBytes(buffer: Laya.Byte) {\n        \n        this.index = buffer.getFloat32();\n        this.UIID = buffer.getUTFString();\n        let atlasLen = buffer.getInt16();\n        this.atlas= [];\n        for (let index = 0; index < atlasLen; index++) {\n            this.atlas.push(buffer.getUTFString())\n        }\n        let unpackImagListLen = buffer.getInt16();\n        this.unpackImagList= [];\n        for (let index = 0; index < unpackImagListLen; index++) {\n            this.unpackImagList.push(buffer.getUTFString())\n        }\n        this.uiOpenAnimType = buffer.getFloat32();\n        this.uiCloseAnimType = buffer.getFloat32();\n        this.uiAutoCloseType = buffer.getFloat32();\n        this.uiShowType = buffer.getFloat32();\n        this.depth = buffer.getFloat32();\n        this.showImageBG = buffer.getInt32() > 0;\n        this.imageBGPath = buffer.getUTFString();\n        this.imageBGSizeGrid = buffer.getUTFString();\n        this.UIWebPathPrefix = buffer.getUTFString();\n        this.showLoading = buffer.getInt32() > 0;\n\n    }\n\n    public GetID(): number { return this.index }//每个表必须有唯一的主键栏位\n\n\n    public Print(): string {\n         let log = \"\";\n        log += \" index: \" + this.index;\n        log += \" UIID: \" + this.UIID;\n        log += \" atlas: \";\n        let atlascount = this.atlas.length;\n        for (let t = 0; t < atlascount; t++)\n        {\n            log += this.atlas[t];\n            if (t < atlascount - 1) log += \",\";\n        }\n        log += \" unpackImagList: \";\n        let unpackImagListcount = this.unpackImagList.length;\n        for (let t = 0; t < unpackImagListcount; t++)\n        {\n            log += this.unpackImagList[t];\n            if (t < unpackImagListcount - 1) log += \",\";\n        }\n        log += \" uiOpenAnimType: \" + this.uiOpenAnimType;\n        log += \" uiCloseAnimType: \" + this.uiCloseAnimType;\n        log += \" uiAutoCloseType: \" + this.uiAutoCloseType;\n        log += \" uiShowType: \" + this.uiShowType;\n        log += \" depth: \" + this.depth;\n        log += \" showImageBG: \" + this.showImageBG;\n        log += \" imageBGPath: \" + this.imageBGPath;\n        log += \" imageBGSizeGrid: \" + this.imageBGSizeGrid;\n        log += \" UIWebPathPrefix: \" + this.UIWebPathPrefix;\n        log += \" showLoading: \" + this.showLoading;\n        log += \"\\n\";\n        return log;\n    }\n\n    public GetTableName(): string {\n        return \"UIInfoRow\"\n    }\n}\r\n","/*\r\n* name;\r\n*/\r\nexport class ResPathConst {\r\n\r\n    public static Web_URL_Version = \"?version=\" + new Date().getTime();//每次进入游戏都更新版本, 可改为每次打包修改一个版本.\r\n\r\n    //网络加载的资源\r\n    public static Web_Load_Files = [\r\n    ]\r\n\r\n    //目前项目只有res/atlas下的用微信下载和PC下载的, \r\n    //以这些路径开始的路径或者图集中的小图, 都不会添加 RES_URL_HEADER\r\n    //PathUtil.CheckNeedURlHeader里面进行判断\r\n    public static Wx_Native_Files = [\"wxlocal\", //微信本地文件\r\n        \"res/sound\"\r\n        , \"res/texture\", \"res/configs\" //分享texture,  配置文件\r\n        , \"fileconfig.json\", \"version.json\" //项目version, 图集json\r\n        , \"uiprefab\", \"prefab\" //ui prefab json\r\n        , \"unpack.json\" //ui散图配置\r\n        // , \"largeImg\", \"landdec\", \"items\", \"uiatlas\"//散图图片, 默认根据unpack.json其中的路径都是本地\r\n        , \"res/atlas\"//ui 图集\r\n        , \"res/model\" //3d模型\r\n    ];//微信本地文件\r\n\r\n\r\n\r\n\r\n    static ConfigURLVersion: string = \"\";// \"?version=\" + new Date().getTime();\r\n}","import { IByteConfig } from \"../../../framework/manager/ByteTableManager\";\n\nexport class GameConfigRow implements IByteConfig {\n\n    public id: number;\n    public stageCategory: number;\n    public detailNum: number;\n    public stepType: number;\n    public eventId: number;\n    public titleConfigId: number;\n    public stepContent: string;\n\n    public LoadRowBytes(buffer: Laya.Byte) {\n        \n        this.id = buffer.getInt32();\n        this.stageCategory = buffer.getInt32();\n        this.detailNum = buffer.getInt32();\n        this.stepType = buffer.getInt32();\n        this.eventId = buffer.getInt32();\n        this.titleConfigId = buffer.getInt32();\n        this.stepContent = buffer.getUTFString();\n\n    }\n\n    public GetID(): number { return this.id }//每个表必须有唯一的主键栏位\n\n\n    public Print(): string {\n         let log = \"\";\n        log += \" id: \" + this.id;\n        log += \" stageCategory: \" + this.stageCategory;\n        log += \" detailNum: \" + this.detailNum;\n        log += \" stepType: \" + this.stepType;\n        log += \" eventId: \" + this.eventId;\n        log += \" titleConfigId: \" + this.titleConfigId;\n        log += \" stepContent: \" + this.stepContent;\n        log += \"\\n\";\n        return log;\n    }\n\n    public GetTableName(): string {\n        return \"GameConfigRow\"\n    }\n}\r\n","import { IByteConfig } from \"../../../framework/manager/ByteTableManager\";\n\nexport class PictureConfigRow implements IByteConfig {\n\n    public id: number;\n    public pictureRes: string;\n\n    public LoadRowBytes(buffer: Laya.Byte) {\n        \n        this.id = buffer.getInt32();\n        this.pictureRes = buffer.getUTFString();\n\n    }\n\n    public GetID(): number { return this.id }//每个表必须有唯一的主键栏位\n\n\n    public Print(): string {\n         let log = \"\";\n        log += \" id: \" + this.id;\n        log += \" pictureRes: \" + this.pictureRes;\n        log += \"\\n\";\n        return log;\n    }\n\n    public GetTableName(): string {\n        return \"PictureConfigRow\"\n    }\n}\r\n","import { IByteConfig } from \"../../../framework/manager/ByteTableManager\";\n\nexport class VideoConfigRow implements IByteConfig {\n\n    public id: number;\n    public videoRes: string;\n    public videoType: number;\n    public videoStage: number;\n\n    public LoadRowBytes(buffer: Laya.Byte) {\n        \n        this.id = buffer.getInt32();\n        this.videoRes = buffer.getUTFString();\n        this.videoType = buffer.getInt32();\n        this.videoStage = buffer.getInt32();\n\n    }\n\n    public GetID(): number { return this.id }//每个表必须有唯一的主键栏位\n\n\n    public Print(): string {\n         let log = \"\";\n        log += \" id: \" + this.id;\n        log += \" videoRes: \" + this.videoRes;\n        log += \" videoType: \" + this.videoType;\n        log += \" videoStage: \" + this.videoStage;\n        log += \"\\n\";\n        return log;\n    }\n\n    public GetTableName(): string {\n        return \"VideoConfigRow\"\n    }\n}\r\n","import { IByteConfig } from \"../../../framework/manager/ByteTableManager\";\n\nexport class TextConfigRow implements IByteConfig {\n\n    public id: number;\n    public textContent: string;\n    public textRes: string;\n\n    public LoadRowBytes(buffer: Laya.Byte) {\n        \n        this.id = buffer.getInt32();\n        this.textContent = buffer.getUTFString();\n        this.textRes = buffer.getUTFString();\n\n    }\n\n    public GetID(): number { return this.id }//每个表必须有唯一的主键栏位\n\n\n    public Print(): string {\n         let log = \"\";\n        log += \" id: \" + this.id;\n        log += \" textContent: \" + this.textContent;\n        log += \" textRes: \" + this.textRes;\n        log += \"\\n\";\n        return log;\n    }\n\n    public GetTableName(): string {\n        return \"TextConfigRow\"\n    }\n}\r\n","import { IByteConfig } from \"../../../framework/manager/ByteTableManager\";\n\nexport class TitleConfigRow implements IByteConfig {\n\n    public id: number;\n    public textRes: string;\n\n    public LoadRowBytes(buffer: Laya.Byte) {\n        \n        this.id = buffer.getInt32();\n        this.textRes = buffer.getUTFString();\n\n    }\n\n    public GetID(): number { return this.id }//每个表必须有唯一的主键栏位\n\n\n    public Print(): string {\n         let log = \"\";\n        log += \" id: \" + this.id;\n        log += \" textRes: \" + this.textRes;\n        log += \"\\n\";\n        return log;\n    }\n\n    public GetTableName(): string {\n        return \"TitleConfigRow\"\n    }\n}\r\n","/*\r\n* 游戏配置管理\r\n*/\r\nenum ConfigTypeEnum {\r\n    CollectionConfig, //\r\n    DailyTaskConfig, //\r\n    GameShareConfig, //\r\n    InvitationConfig, //\r\n    ItemConfig, //\r\n    Localization, //\r\n    NewbieGuideConfig, //\r\n    NPCDialogConfig, //\r\n    RewardConfig, //\r\n    ShopConfig, //\r\n    SignUpConfig, //\r\n    SoundConfig, //\r\n    SpineConfig, //\r\n    ToySlot, //\r\n    UIInfo, //\r\n    GameConfig,\r\n    PictureConfig,\r\n    TextConfig,\r\n    VideoConfig,\r\n    TitleConfig,\r\n}\r\nimport { ByteTableManager } from \"../../framework/manager/ByteTableManager\";\r\nimport ResourceManager from \"../../framework/resourceManager/ResourceManager\";\r\nimport Log from \"../../framework/utils/Log\";\r\nimport { UIID } from \"../uiscripts/UIIDDefine\";\r\nimport { UIInfoRow } from \"../data/config/UIInfoRow\";\r\nimport { ResPathConst } from \"../data/const/ResPathConst\";\r\nimport { GameConfigRow } from \"../data/config/GameConfigRow\";\r\nimport { PictureConfigRow } from \"../data/config/PictureConfigRow\";\r\nimport { VideoConfigRow } from \"../data/config/VideoConfigRow\";\r\nimport { TextConfigRow } from \"../data/config/TextConfigRow\";\r\nimport { TitleConfigRow } from \"../data/config/TitleConfigRow\";\r\n\r\nexport class ConfigManager {\r\n    private static _Instance = null;\r\n    private m_LoadItem = [];\r\n    private byteTables: ByteTableManager = new ByteTableManager();\r\n\r\n    public static get Instance(): ConfigManager {\r\n        if (ConfigManager._Instance == null) {\r\n            ConfigManager._Instance = new ConfigManager();\r\n        }\r\n        return ConfigManager._Instance;\r\n    }\r\n\r\n    public getConfig(arrItem): void {\r\n        this.m_LoadItem =\r\n            [\r\n                //配置url为配置表路径, CType为解析使用\r\n                { url: \"res/configs/UIInfo.bin\" + ResPathConst.ConfigURLVersion, type: Laya.Loader.BUFFER, CType: ConfigTypeEnum.UIInfo },\r\n                { url: \"res/configs/GameConfig.bin\" + ResPathConst.ConfigURLVersion, type: Laya.Loader.BUFFER, CType: ConfigTypeEnum.GameConfig },\r\n                { url: \"res/configs/PictureConfig.bin\" + ResPathConst.ConfigURLVersion, type: Laya.Loader.BUFFER, CType: ConfigTypeEnum.PictureConfig },\r\n                { url: \"res/configs/TextConfig.bin\" + ResPathConst.ConfigURLVersion, type: Laya.Loader.BUFFER, CType: ConfigTypeEnum.TextConfig },\r\n                { url: \"res/configs/VideoConfig.bin\" + ResPathConst.ConfigURLVersion, type: Laya.Loader.BUFFER, CType: ConfigTypeEnum.VideoConfig },\r\n                { url: \"res/configs/TitleConfig.bin\" + ResPathConst.ConfigURLVersion, type: Laya.Loader.BUFFER, CType: ConfigTypeEnum.TitleConfig },\r\n            ]\r\n        for (let i: number = 0; i < this.m_LoadItem.length; i++) {\r\n            arrItem.push(this.m_LoadItem[i]);\r\n        }\r\n    }\r\n\r\n    public InitOnLoaded(): void {\r\n        for (let i: number = 0; i < this.m_LoadItem.length; i++) {\r\n            let pData = ResourceManager.Instance.GetRes(this.m_LoadItem[i].url);\r\n            if (pData != null) {\r\n                switch (this.m_LoadItem[i].CType) {\r\n\r\n               \r\n                    case ConfigTypeEnum.UIInfo:\r\n                        {\r\n                            this.byteTables.OnTableLoaded<UIInfoRow>(UIInfoRow, pData);\r\n                            break;\r\n                        }\r\n\r\n                    case ConfigTypeEnum.GameConfig:\r\n                        {\r\n                            this.byteTables.OnTableLoaded<GameConfigRow>(GameConfigRow, pData);\r\n                            break;\r\n                        }\r\n\r\n                    case ConfigTypeEnum.PictureConfig:\r\n                        {\r\n                            this.byteTables.OnTableLoaded<PictureConfigRow>(PictureConfigRow, pData);\r\n                            break;\r\n                        }\r\n\r\n                    case ConfigTypeEnum.VideoConfig:\r\n                        {\r\n                            this.byteTables.OnTableLoaded<VideoConfigRow>(VideoConfigRow, pData);\r\n                            break;\r\n                        }\r\n\r\n                    case ConfigTypeEnum.TextConfig:\r\n                        {\r\n                            this.byteTables.OnTableLoaded<TextConfigRow>(TextConfigRow, pData);\r\n                            break;\r\n                        }\r\n\r\n                    case ConfigTypeEnum.TitleConfig:\r\n                        {\r\n                            this.byteTables.OnTableLoaded<TitleConfigRow>(TitleConfigRow, pData);\r\n                            break;\r\n                        }\r\n                }\r\n            }\r\n            ResourceManager.Instance.Release(this.m_LoadItem[i].url); //加载完成卸载\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 根据UIID Enum读取对应的UIConfig\r\n     * @param uiid \r\n     */\r\n    private GetConfigDataByUIID(uiid: UIID): UIInfoRow {\r\n        let uiList = this.byteTables.GetAll<UIInfoRow>(UIInfoRow);\r\n        let config: UIInfoRow = null;\r\n        uiList.forEach(element => {\r\n            if (UIID[element.UIID] == uiid) {\r\n                config = element;\r\n            }\r\n        });\r\n        return config;\r\n    }\r\n\r\n\r\n    //获取ui配置\r\n    public GetUIConfig(uiid: UIID): UIInfoRow {\r\n        let config = this.GetConfigDataByUIID(uiid);\r\n        if (config) return config;\r\n        Log.Error(\"ui配置不存在, uiid:\" + uiid)\r\n        return null\r\n    }\r\n\r\n    public GetAllUIConfig(): Array<UIInfoRow> {\r\n        return this.byteTables.GetAll<UIInfoRow>(UIInfoRow);\r\n    }\r\n\r\n    public GetUIInfo(id: number): UIInfoRow {\r\n        return this.byteTables.GetConfigByID<UIInfoRow>(id, UIInfoRow);\r\n    }\r\n    public GetAllUIInfo(): Array<UIInfoRow> {\r\n        return this.byteTables.GetAll<UIInfoRow>(UIInfoRow);\r\n    }\r\n\r\n    public GetGameConfig(id: number): GameConfigRow {\r\n        return this.byteTables.GetConfigByID<GameConfigRow>(id, GameConfigRow);\r\n    }\r\n    public GetAllGameConfig(): Array<GameConfigRow> {\r\n        return this.byteTables.GetAll<GameConfigRow>(GameConfigRow);\r\n    }\r\n\r\n    public GetPictureConfig(id: number): PictureConfigRow {\r\n        return this.byteTables.GetConfigByID<PictureConfigRow>(id, PictureConfigRow);\r\n    }\r\n    public GetAllPictureConfig(): Array<PictureConfigRow> {\r\n        return this.byteTables.GetAll<PictureConfigRow>(PictureConfigRow);\r\n    }\r\n\r\n    public GetVideoConfig(id: number): VideoConfigRow {\r\n        return this.byteTables.GetConfigByID<VideoConfigRow>(id, VideoConfigRow);\r\n    }\r\n    public GetAllVideoConfig(): Array<VideoConfigRow> {\r\n        return this.byteTables.GetAll<VideoConfigRow>(VideoConfigRow);\r\n    }\r\n\r\n    public GetTextConfig(id: number): TextConfigRow {\r\n        return this.byteTables.GetConfigByID<TextConfigRow>(id, TextConfigRow);\r\n    }\r\n    public GetAllTextConfig(): Array<TextConfigRow> {\r\n        return this.byteTables.GetAll<TextConfigRow>(TextConfigRow);\r\n    }\r\n\r\n    public GetTitleConfig(id: number): TitleConfigRow {\r\n        return this.byteTables.GetConfigByID<TitleConfigRow>(id, TitleConfigRow);\r\n    }\r\n    public GetAllTitleConfig(): Array<TitleConfigRow> {\r\n        return this.byteTables.GetAll<TitleConfigRow>(TitleConfigRow);\r\n    }\r\n\r\n}\r\n","import Mediator = puremvc.Mediator;\r\nimport Tween = Laya.Tween;\r\nimport Handler = Laya.Handler;\r\nimport Facade = puremvc.Facade;\r\nimport View = Laya.View;\r\nimport { UIID } from \"./UIIDDefine\";\r\nimport { ConfigManager } from \"../manager/ConfigManager\";\r\nimport Log from \"../../framework/utils/Log\";\r\nimport { WindowContextDataBase } from \"./UIParamStruct\";\r\n\r\n/**\r\n* name \r\n*/\r\n// export module ui {\r\n\r\n//UI配置\r\nexport class WindowConfigData {\r\n\tpublic uiid: UIID = 0;\r\n\tpublic uiOpenAnimType = UIAnim.None; //ui动画\r\n\tpublic uiCloseAnimType = UIAnim.None;\r\n\tpublic uiShowType = UIShowType.DoNothing;// todo\r\n\tpublic depth: number = 0;//层级越大, 越在上面\r\n\t//每一个uiView的背景\r\n\tpublic showImageBG: boolean = false;\r\n\tpublic imageBGPath: string = \"\";\r\n\tpublic imageBGSizeGrid: string = \"0,0,0,0,1\";\t//图片的grid\r\n\r\n}\r\n\r\nexport enum UIShowType {\r\n\tDoNothing,\r\n\tHideOthers,// 打开界面关闭其他界面\r\n\tDestoryOthers,\r\n}\r\n\r\nexport enum UIAutoCloseType {\r\n\tAffectedByOthers = 0, //会被其他UI关闭或销毁\r\n\tNotAffectedByOthers = 1,\r\n}\r\n\r\nexport enum UIAnim {\r\n\tNone = 0,\r\n\tPopOpen,//由小到大, 弹出, UI需要设置anchorX和anchorY = 0.5\r\n\tPopClose,//由大到小, 关闭\r\n\tCustom,\r\n}\r\n\r\nexport class BaseUICtrl extends Mediator {\r\n\tprotected uiView: View;\r\n\tprotected uiConfig: WindowConfigData;\r\n\tprotected uiBG: Laya.Image;\t//UI的背景图片，用于做动态加载\r\n\tconstructor(view: View) {\r\n\t\tsuper();\r\n\t\tthis.uiView = view;\r\n\t}\r\n\r\n\t//UI Prepare的时候使用\r\n\tpublic Init(parent: Laya.Sprite, id: UIID, context: WindowContextDataBase = null, onResized: Function = null) {\r\n\t\t//ui配置\r\n\t\tthis.uiConfig = this.GetUIWindowConfigData(id);\r\n\t\tif (this.uiConfig.showImageBG) {\r\n\t\t\tthis.uiBG = new Laya.Image();\r\n\t\t\tthis.uiBG.name = \"uibg\"\r\n\t\t\tthis.uiBG.zOrder = -1;\r\n\t\t\tthis.uiBG.skin = this.uiConfig.imageBGPath;\r\n\t\t\tthis.uiBG.visible = true;\r\n\t\t\tthis.uiBG.width = Laya.stage.width; //全屏\r\n\t\t\tthis.uiBG.height = Laya.stage.height;\r\n\t\t\tthis.uiView.addChild(this.uiBG);\r\n\t\t}\r\n\t\tthis.uiView.updateZOrder();\r\n\r\n\t\tthis.uiView.on(Laya.Event.RESIZE, this, this.OnUIResize, [onResized]);\r\n\t}\r\n\r\n\t//UI自适应完成\r\n\tprotected OnUIResize(onResized: Function = null) {\r\n\t\tthis.uiView.width = Laya.stage.width;\r\n\t\tthis.uiView.height = Laya.stage.height;\r\n\t\tif (onResized) onResized();\r\n\t}\r\n\r\n\t//显示UI\r\n\tpublic Open(context: WindowContextDataBase = null) {\r\n\t\tthis.BeforeUIOpen(context);\r\n\t\tthis.uiView.visible = true;\r\n\t\tlet cb = this.OnUIOpened.bind(this, context)\r\n\t\tthis.DoEnteringAnim(cb);\r\n\t}\r\n\r\n\tprotected BeforeUIOpen(context: WindowContextDataBase = null) {\r\n\t}\r\n\r\n\tprivate DoEnteringAnim(action: () => void) {\r\n\t\tthis.ResetAnim();\r\n\t\tthis.EnteringAnim(action);\r\n\t}\r\n\r\n\t//注意, 重载这个函数, 需要保证在complete的时候, 执行action回调,否则打开ui会失败\r\n\tprotected EnteringAnim(action: () => void) {\r\n\t\tlet animType = this.uiConfig.uiOpenAnimType\r\n\t\tif (animType != UIAnim.None) {\r\n\t\t\tthis.PlayeEnterTween(animType, action)\r\n\t\t} else {\r\n\t\t\t//重载后必须执行\r\n\t\t\tif (action != null) {\r\n\t\t\t\taction();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected OnUIOpened(context: WindowContextDataBase = null) {\r\n\t\tif (context && context.OnOpenCallback) context.OnOpenCallback();\r\n\t}\r\n\r\n\r\n\t//隐藏UI\r\n\tpublic Hide(callback: () => void = null) {\r\n\t\tthis.DoExitingAnim(() => {\r\n\t\t\tthis.uiView.visible = false;\r\n\t\t\tthis.OnUIHide();\r\n\t\t\tif (callback != null) callback();\r\n\t\t\tthis.AfterUIHide();\r\n\t\t})\r\n\t}\r\n\r\n\t//强制立刻关闭\r\n\tpublic HideForce() {\r\n\t\tthis.uiView.visible = false;\r\n\t\tthis.OnUIHide();\r\n\t\tthis.AfterUIHide();\r\n\t}\r\n\r\n\tprivate DoExitingAnim(action: () => void) {\r\n\t\tthis.ResetAnim();\r\n\t\tthis.ExitingAnim(action);\r\n\t}\r\n\r\n\t//注意, 重载这个函数, 需要保证在complete的时候, 执行action回调,否则关闭UI事件不触发\r\n\tprotected ExitingAnim(action: () => void) {\r\n\t\tlet animType = this.uiConfig.uiCloseAnimType\r\n\t\tif (animType != UIAnim.None) {\r\n\t\t\tthis.PlayeExitTween(animType, action)\r\n\t\t} else {\r\n\t\t\t//重载后必须执行\r\n\t\t\tif (action != null) {\r\n\t\t\t\taction();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//UI关闭前\r\n\tprotected OnUIHide() {\r\n\r\n\t}\r\n\r\n\t//UI完全关闭\r\n\tprotected AfterUIHide() {\r\n\t}\r\n\r\n\tprotected ResetAnim() {\r\n\r\n\t}\r\n\r\n\t//销毁UI\r\n\tpublic Destroy() {\r\n\t\tthis.BeforeUIDestroy();\r\n\t\tthis.uiView.removeSelf();\r\n\t\tthis.uiView.destroy(true);\r\n\t\tthis.uiView = null;\r\n\t\tthis.OnUIDestroy();\r\n\t}\r\n\r\n\tprotected BeforeUIDestroy() {\r\n\t\t//删除背景图\r\n\t\tif (this.uiBG) {\r\n\t\t\tthis.uiBG.removeSelf();\r\n\t\t\tthis.uiBG.destroy(true);\r\n\t\t\tthis.uiBG = null;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected OnUIDestroy() {\r\n\r\n\t}\r\n\r\n\r\n\tprivate PlayeEnterTween(tweenType: UIAnim, action: () => void) {\r\n\t\tswitch (tweenType) {\r\n\t\t\tcase UIAnim.PopOpen:\r\n\t\t\t\tvar delay = 0;\r\n\t\t\t\tTween.from(this.uiView, { scaleX: 0, scaleY: 0 }, 200, Laya.Ease.strongIn, Laya.Handler.create(this, () => {\r\n\t\t\t\t\t//重载后必须执行\r\n\t\t\t\t\tif (action != null) {\r\n\t\t\t\t\t\taction();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, null), delay);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tLog.Error(\"UI打开执行未定义动画\" + tweenType.toString())\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate PlayeExitTween(tweenType: UIAnim, action: () => void) {\r\n\t\tswitch (tweenType) {\r\n\t\t\tcase UIAnim.PopClose:\r\n\t\t\t\tvar delay = 0;\r\n\t\t\t\tlet scaleX = this.uiView.scaleX;\r\n\t\t\t\tlet scaleY = this.uiView.scaleY;\r\n\t\t\t\tTween.to(this.uiView, { scaleX: 0, scaleY: 0 }, 100, Laya.Ease.strongIn, Laya.Handler.create(this, () => {\r\n\t\t\t\t\t//恢复缩放,防止下次Open时候缩放值不对\r\n\t\t\t\t\tthis.uiView.scaleX = scaleX;\r\n\t\t\t\t\tthis.uiView.scaleY = scaleY;\r\n\t\t\t\t\t//重载后必须执行\r\n\t\t\t\t\tif (action != null) {\r\n\t\t\t\t\t\taction();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, null), delay);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tLog.Error(\"UI关闭执行未定义动画\" + tweenType.toString())\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t//获取对应的uiconfig\r\n\tprivate GetUIWindowConfigData(uiid: UIID): WindowConfigData {\r\n\t\tlet configData = ConfigManager.Instance.GetUIConfig(uiid);\r\n\t\tif (configData == null || configData == undefined) {\r\n\t\t\t//有可能是空的，这说明或许是最初初始化时没有，因此生成一个默认的配置\r\n\t\t\tlet windowData = new WindowConfigData();\r\n\t\t\twindowData.uiid = uiid;\r\n\t\t\treturn windowData;\r\n\t\t} else {\r\n\t\t\tlet windowData = new WindowConfigData();\r\n\t\t\twindowData.uiid = uiid;\r\n\t\t\twindowData.uiOpenAnimType = configData.uiOpenAnimType;\r\n\t\t\twindowData.uiCloseAnimType = configData.uiCloseAnimType;\r\n\t\t\twindowData.uiShowType = configData.uiShowType;\r\n\t\t\twindowData.depth = configData.depth;\r\n\t\t\twindowData.showImageBG = configData.showImageBG;\r\n\t\t\twindowData.imageBGPath = configData.imageBGPath;\r\n\t\t\twindowData.imageBGSizeGrid = configData.imageBGSizeGrid;\r\n\r\n\t\t\treturn windowData;\r\n\t\t}\r\n\t}\r\n\r\n\tlistNotificationInterests() {\r\n\t\tsuper.listNotificationInterests();\r\n\t\treturn [\r\n\r\n\t\t];\r\n\t}\r\n\thandleNotification(notification: puremvc.INotification) {\r\n\t\tif (!this.uiView.visible) return;\r\n\r\n\t\tsuper.handleNotification(notification);\r\n\t\tswitch (notification.getName()) {\r\n\r\n\t\t}\r\n\t}\r\n}\r\n","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport View=Laya.View;\r\nimport Dialog=Laya.Dialog;\r\nimport Scene=Laya.Scene;\nvar REG: Function = Laya.ClassUtils.regClass;\nexport module ui.uiprefab {\r\n    export class BronzewareContentUIUI extends Laya.View {\r\n\t\tpublic UI_bg_Panel:Laya.Panel;\n\t\tpublic UI_content_Img:Laya.Image;\n\t\tpublic UI_textContent_Panel:Laya.Panel;\n\t\tpublic UI_content_Label:Laya.Label;\n\t\tpublic UI_text_Img:Laya.Image;\n\t\tpublic UI_next_Btn:Laya.Button;\n\t\tpublic UI_progressContent_Panel:Laya.Panel;\n\t\tpublic UI_progressBg_Panel:Laya.Panel;\n\t\tpublic UI_progressColor_Panel:Laya.Panel;\n\t\tpublic UI_progress0:Laya.Panel;\n\t\tpublic UI_progress0_color:Laya.Panel;\n\t\tpublic UI_progress1:Laya.Panel;\n\t\tpublic UI_progress1_color:Laya.Panel;\n\t\tpublic UI_progress2:Laya.Panel;\n\t\tpublic UI_progress2_color:Laya.Panel;\n\t\tpublic UI_progress3:Laya.Panel;\n\t\tpublic UI_progress3_color:Laya.Panel;\n\t\tpublic UI_progress4:Laya.Panel;\n\t\tpublic UI_progress4_color:Laya.Panel;\n\t\tpublic UI_progress5:Laya.Panel;\n\t\tpublic UI_progress5_color:Laya.Panel;\n\t\tpublic UI_progress6:Laya.Panel;\n\t\tpublic UI_progress6_color:Laya.Panel;\n\t\tpublic UI_progress7:Laya.Panel;\n\t\tpublic UI_progress7_color:Laya.Panel;\n\t\tpublic UI_progress8:Laya.Panel;\n\t\tpublic UI_progress8_color:Laya.Panel;\n\t\tpublic UI_progress9:Laya.Panel;\n\t\tpublic UI_progress9_color:Laya.Panel;\n\t\tpublic UI_Title:Laya.Image;\n\t\tpublic UI_start_Img:Laya.Image;\n\t\tpublic UI_start_Btn:Laya.Button;\n\t\tpublic UI_3DModelOpPrompt:Laya.Image;\n        constructor(){ super()}\r\n        createChildren():void {\r\n            super.createChildren();\r\n            this.loadScene(\"uiprefab/BronzewareContentUI\");\r\n        }\r\n    }\r\n    REG(\"ui.uiprefab.BronzewareContentUIUI\",BronzewareContentUIUI);\r\n    export class CalibrationUIUI extends Laya.View {\r\n\t\tpublic UI_Calibration:Laya.Image;\n\t\tpublic UI_DialPlate:Laya.Image;\n\t\tpublic UI_PauseZone1:Laya.Image;\n\t\tpublic UI_PauseZone2:Laya.Image;\n\t\tpublic UI_PauseZone3:Laya.Image;\n\t\tpublic UI_PauseZone4:Laya.Image;\n\t\tpublic UI_pointer:Laya.Image;\n\t\tpublic UI_prompt:Laya.Image;\n\t\tpublic UI_mistake:Laya.Image;\n        constructor(){ super()}\r\n        createChildren():void {\r\n            super.createChildren();\r\n            this.loadScene(\"uiprefab/CalibrationUI\");\r\n        }\r\n    }\r\n    REG(\"ui.uiprefab.CalibrationUIUI\",CalibrationUIUI);\r\n    export class ColorMatchingUIUI extends Laya.View {\r\n\t\tpublic UI_content_Image:Laya.Image;\n\t\tpublic UI_yellow_Btn:Laya.Button;\n\t\tpublic UI_black_Btn:Laya.Button;\n\t\tpublic UI_green_Btn:Laya.Button;\n\t\tpublic UI_Block1:Laya.Image;\n\t\tpublic UI_Block2:Laya.Image;\n\t\tpublic UI_Block3:Laya.Image;\n\t\tpublic UI_wrong_Img:Laya.Image;\n        constructor(){ super()}\r\n        createChildren():void {\r\n            super.createChildren();\r\n            this.loadScene(\"uiprefab/ColorMatchingUI\");\r\n        }\r\n    }\r\n    REG(\"ui.uiprefab.ColorMatchingUIUI\",ColorMatchingUIUI);\r\n    export class EndUIUI extends Laya.View {\r\n\t\tpublic UI_End2Btn:Laya.Button;\n\t\tpublic UI_End1Btn:Laya.Button;\n        constructor(){ super()}\r\n        createChildren():void {\r\n            super.createChildren();\r\n            this.loadScene(\"uiprefab/EndUI\");\r\n        }\r\n    }\r\n    REG(\"ui.uiprefab.EndUIUI\",EndUIUI);\r\n    export class LoadingUIUI extends Laya.View {\r\n\t\tpublic UI_LoadingIcon:Laya.Image;\n\t\tpublic UI_ProgressBottom:Laya.Image;\n\t\tpublic UI_ProgressUpper:Laya.Image;\n\t\tpublic UI_ProgressMask:Laya.Image;\n\t\tpublic UI_Prompt_Text:Laya.Label;\n        public static  uiView:any ={\"type\":\"View\",\"props\":{\"y\":0,\"x\":0,\"width\":1920,\"top\":0,\"right\":0,\"left\":0,\"height\":1080,\"bottom\":0},\"compId\":2,\"child\":[{\"type\":\"Image\",\"props\":{\"top\":0,\"skin\":\"uiatlas/loading/gamebg.jpg\",\"right\":0,\"name\":\"Bg\",\"left\":0,\"bottom\":0},\"compId\":6},{\"type\":\"Image\",\"props\":{\"var\":\"UI_LoadingIcon\",\"skin\":\"uiatlas/loading/title.png\",\"centerY\":0,\"centerX\":0},\"compId\":13,\"child\":[{\"type\":\"Image\",\"props\":{\"y\":-215,\"x\":-192},\"compId\":14}]},{\"type\":\"Image\",\"props\":{\"width\":400,\"var\":\"UI_ProgressBottom\",\"skin\":\"uiatlas/loading/img_progress_0.png\",\"name\":\"UI_ProgressBottom\",\"height\":76,\"centerY\":343,\"centerX\":0,\"anchorY\":0,\"anchorX\":0,\"alpha\":1,\"sizeGrid\":\"0,50,0,50\"},\"compId\":7,\"child\":[{\"type\":\"Image\",\"props\":{\"y\":0,\"x\":0,\"width\":400,\"var\":\"UI_ProgressUpper\",\"skin\":\"uiatlas/loading/img_progress_1.png\",\"name\":\"UI_ProgressUpper\",\"height\":76,\"sizeGrid\":\"0,50,0,50\"},\"compId\":8,\"child\":[{\"type\":\"Image\",\"props\":{\"y\":0,\"x\":0,\"width\":400,\"var\":\"UI_ProgressMask\",\"skin\":\"uiatlas/loading/img_progress_1.png\",\"renderType\":\"mask\",\"name\":\"UI_ProgressMask\",\"height\":76,\"sizeGrid\":\"0,50,0,50\"},\"compId\":9}]},{\"type\":\"Label\",\"props\":{\"var\":\"UI_Prompt_Text\",\"valign\":\"top\",\"top\":76,\"fontSize\":30,\"font\":\"SimHei\",\"color\":\"#0160dd\",\"centerX\":0,\"align\":\"center\"},\"compId\":21}]}],\"loadList\":[\"uiatlas/loading/gamebg.jpg\",\"uiatlas/loading/title.png\",\"uiatlas/loading/img_progress_0.png\",\"uiatlas/loading/img_progress_1.png\"],\"loadList3D\":[]};\r\n        constructor(){ super()}\r\n        createChildren():void {\r\n            super.createChildren();\r\n            this.createView(LoadingUIUI.uiView);\r\n        }\r\n    }\r\n    REG(\"ui.uiprefab.LoadingUIUI\",LoadingUIUI);\r\n    export class StartUIUI extends Laya.View {\r\n\t\tpublic UI_Start2Btn:Laya.Button;\n\t\tpublic UI_Start1Btn:Laya.Button;\n        constructor(){ super()}\r\n        createChildren():void {\r\n            super.createChildren();\r\n            this.loadScene(\"uiprefab/StartUI\");\r\n        }\r\n    }\r\n    REG(\"ui.uiprefab.StartUIUI\",StartUIUI);\r\n}\r","export type LinkListNode<T> = {\r\n    key:number;\r\n    data:T;\r\n    next:LinkListNode<T>;\r\n}\r\n\r\nexport class LinkList<T>\r\n{\r\n    private pool:LinkListNode<T>[] = [];\r\n    private _head:LinkListNode<T>;\r\n    private _tail:LinkListNode<T>;\r\n\r\n    constructor()\r\n    {\r\n        this._head = this._tail = null;\r\n        this.pool = [];\r\n    }\r\n\r\n    private spawn_node(key:number, data:T):LinkListNode<T>\r\n    {\r\n\r\n        let node:LinkListNode<T> =this.pool.length > 0? this.pool.pop():null;\r\n        if(node)\r\n        {\r\n            node.key = key;\r\n            node.data = data;\r\n            node.next = null;\r\n        }\r\n        else\r\n        {\r\n            node = {key:key, data:data, next:null};\r\n        }\r\n        return node;\r\n    }\r\n    \r\n    get head():LinkListNode<T>\r\n    {\r\n        return this._head;\r\n    }\r\n\r\n    append(key:number, data:T):number\r\n    {\r\n        let node:LinkListNode<T> = this.spawn_node(key, data);\r\n        //将node加到linklist末尾\r\n        if(this._tail)\r\n        {\r\n            this._tail.next = node;\r\n            this._tail = node;\r\n        }\r\n        else\r\n        {\r\n            this._head = this._tail = node;\r\n        }\r\n        return node.key;\r\n    }\r\n\r\n    remove(key:number):T\r\n    {\r\n        if(!key)\r\n        {\r\n            return null;\r\n        }\r\n        if(!this._head)\r\n        {\r\n            return null;\r\n        }\r\n        let prev:LinkListNode<T>;\r\n        let curr:LinkListNode<T> = this._head;\r\n        while(curr && curr.key != key)\r\n        {\r\n            prev = curr;\r\n            curr = curr.next;\r\n        }\r\n        //没找到\r\n        if(!curr)\r\n        {\r\n            return null;\r\n        }\r\n        if(!prev)\r\n        {\r\n            //curr为头节点(要区分curr是否同时为尾节点)\r\n            this._head = curr.next;\r\n            if(!curr.next)\r\n            {\r\n                this._tail = null;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            //curr非头节点(要区分curr是否为尾节点)\r\n            prev.next = curr.next;\r\n            if(!curr.next)\r\n            {\r\n                this._tail = prev;\r\n            }\r\n        }\r\n        this.pool.push(curr);\r\n        return curr.data;\r\n    }\r\n}","import { LinkList, LinkListNode } from \"./linklist\";\r\nimport { cbhandler } from \"./cbhandler\";\r\n\r\n//Laya先执行Render再执行timer的update.所以在UI中注册的timer都是在Render之后[List的render]在执行timer\r\nexport class TimeManager {\r\n    private static inst: TimeManager;\r\n    private list: LinkList<TimerHandler>;\r\n    private pool: TimerHandler[] = [];\r\n    private key: number;\r\n    private lateupdteList: LinkList<TimerHandler>;\r\n    private speed: number;\r\n\r\n    private constructor() {\r\n        this.key = 0;\r\n        this.pool = [];\r\n        this.list = new LinkList<TimerHandler>();\r\n        this.lateupdteList = new LinkList<TimerHandler>();\r\n        this.speed = 1;\r\n    }\r\n\r\n    static get Instance(): TimeManager {\r\n        if (!this.inst) {\r\n            this.inst = new TimeManager();\r\n        }\r\n        return this.inst;\r\n    }\r\n\r\n    SetSpeed(scale: number) {\r\n        this.speed = scale;\r\n    }\r\n\r\n    /**\r\n     * 添加循环\r\n     * @param interval 循环间隔\r\n     * @param delay 延迟开始\r\n     * @param repeat 循环次数, <=0 为无限循环\r\n     * @param cb 回调\r\n     * @param is_updater 设置true:update无效循环. false:按照delay,repeate参数循环 \r\n     */\r\n    add(interval: number, delay: number, repeat: number, cb: cbhandler, is_updater: boolean = false): number {\r\n        let timerHandler: TimerHandler = this.pool.length > 0 ? this.pool.pop() : null;\r\n        if (timerHandler) {\r\n            timerHandler.interval = interval;\r\n            timerHandler.delay = delay;\r\n            timerHandler.repeat = repeat;\r\n            timerHandler.elapsed = 0;\r\n            timerHandler.times = 0;\r\n            timerHandler.is_updater = is_updater;\r\n            timerHandler.cb = cb;\r\n        }\r\n        else {\r\n            timerHandler = { interval: interval, delay: delay, repeat: repeat, elapsed: 0, times: 0, is_updater: is_updater, cb: cb };\r\n        }\r\n        return this.list.append(++this.key, timerHandler);\r\n    }\r\n\r\n    remove(key: number) {\r\n        let timerHandler: TimerHandler = this.list.remove(key);\r\n        if (timerHandler) {\r\n            this.pool.push(timerHandler);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 间隔循环\r\n     * @param interval 循环间隔\r\n     * @param cb 回调\r\n     */\r\n    loop(interval: number, cb: cbhandler): number {\r\n        return this.add(interval, 0, 0, cb);\r\n    }\r\n\r\n    /**\r\n     * 循环次数\r\n     * @param interval 循环间隔\r\n     * @param repeat 循环次数 <=0为无限循环\r\n     * @param cb \r\n     */\r\n    loopTimes(interval: number, repeat: number, cb: cbhandler): number {\r\n        return this.add(interval, 0, repeat, cb);\r\n    }\r\n\r\n    lowframeLoop(cb: cbhandler): number {\r\n        return this.add(1 / 24, 0, 0, cb);\r\n    }\r\n    /**\r\n     * 延迟循环\r\n     * @param interval \r\n     * @param delay 循环开始的延迟\r\n     * @param cb \r\n     */\r\n    delayLoop(interval: number, delay: number, cb: cbhandler): number {\r\n        return this.add(interval, delay, 0, cb);\r\n    }\r\n    /**\r\n     * 单次循环\r\n     * @param delay \r\n     * @param cb \r\n     */\r\n    once(delay: number, cb: cbhandler): number {\r\n        return this.add(0, delay, 1, cb);\r\n    }\r\n\r\n    nextFrame(delay: number, cb: cbhandler) {\r\n        Laya.timer.frameOnce(delay, null, () => {\r\n            cb.exec()\r\n        })\r\n        // return this.add(0, delay, 1, cb);\r\n    }\r\n    /**\r\n     * 添加到Update\r\n     * @param cb \r\n     */\r\n    addUpdater(cb: cbhandler): number {\r\n        return this.add(0, 0, 0, cb, true);\r\n    }\r\n\r\n    update(dt: number) {\r\n        dt *= this.speed;\r\n        if (!this.list.head) {\r\n            return;\r\n        }\r\n        let node: LinkListNode<TimerHandler> = this.list.head;\r\n        while (node) {\r\n            node.data.elapsed += dt; //放在末尾, 执行会完一帧.\r\n\r\n            if (node.data.is_updater) {\r\n                node.data.cb.exec(dt);\r\n                node = node.next;\r\n                continue;\r\n            }\r\n\r\n            if (node.data.repeat != 0 && node.data.times >= node.data.repeat) {\r\n                this.remove(node.key);\r\n                node = node.next;\r\n                continue;\r\n            }\r\n\r\n            if (node.data.elapsed >= node.data.delay + node.data.interval) {\r\n                node.data.times++;\r\n                node.data.elapsed = node.data.delay//node.data.delay - dt;\r\n                //todo fix:在timer回调函数里先remove，再add一个定时器，复用data会导致times和elpased马上被修改\r\n                node.data.cb.exec();\r\n            }\r\n\r\n            //todo  next = node.next\r\n            //node.data.elapsed += dt; //放在末尾, 执行会完一帧.\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 添加到lateupdate\r\n     * @param cb \r\n     */\r\n    add_lateupdater(cb: cbhandler): number {\r\n        return this.addLate(0, 0, 0, cb, true);\r\n    }\r\n\r\n    addLate(interval: number, delay: number, repeat: number, cb: cbhandler, is_updater: boolean = false): number {\r\n        let timerHandler: TimerHandler = this.pool.length > 0 ? this.pool.pop() : null;\r\n        if (timerHandler) {\r\n            timerHandler.interval = interval;\r\n            timerHandler.delay = delay;\r\n            timerHandler.repeat = repeat;\r\n            timerHandler.elapsed = 0;\r\n            timerHandler.times = 0;\r\n            timerHandler.is_updater = is_updater;\r\n            timerHandler.cb = cb;\r\n        }\r\n        else {\r\n            timerHandler = { interval: interval, delay: delay, repeat: repeat, elapsed: 0, times: 0, is_updater: is_updater, cb: cb };\r\n        }\r\n        return this.lateupdteList.append(++this.key, timerHandler);\r\n    }\r\n\r\n    removeLate(key: number) {\r\n        let timerHandler: TimerHandler = this.lateupdteList.remove(key);\r\n        if (timerHandler) {\r\n            this.pool.push(timerHandler);\r\n        }\r\n    }\r\n\r\n    lateupdate() {\r\n        if (!this.lateupdteList.head) {\r\n            return;\r\n        }\r\n\r\n        let node: LinkListNode<TimerHandler> = this.lateupdteList.head;\r\n        while (node) {\r\n            if (node.data.is_updater) {\r\n                node.data.cb.exec();\r\n                node = node.next;\r\n                continue;\r\n            }\r\n\r\n            if (node.data.repeat != 0 && node.data.times >= node.data.repeat) {\r\n                this.remove(node.key);\r\n                node = node.next;\r\n                continue;\r\n            }\r\n\r\n            node.data.times++;\r\n            node.data.cb.exec();\r\n            node = node.next;\r\n        }\r\n    }\r\n}\r\n\r\ntype TimerHandler = {\r\n    interval: number;    //执行间隔, 只执行一次的定时器值为0，单位秒\r\n    delay: number;       //延时多久执行，单位秒\r\n    repeat: number;      //要执行多少次，0表示无限次\r\n    elapsed: number;     //已过去的时间\r\n    times: number;       //已执行次数\r\n    is_updater: boolean; //是否每帧调用\r\n    cb: cbhandler;         //回调函数\r\n}","\r\nlet handler_pool: cbhandler[] = [];\r\nlet handler_pool_size = 10;\r\n\r\n//用于绑定回调函数this指针\r\nexport class cbhandler {\r\n    private cb: Function;\r\n    private host: any;\r\n    private args: any[];\r\n    private times: number;\r\n    private is_persist: boolean;\r\n\r\n    constructor() { }\r\n\r\n    init(cb: Function, host: any = null, ...args: any[]): void {\r\n        this.cb = cb;\r\n        this.host = host;\r\n        this.args = args;\r\n        this.times = 0;\r\n        this.is_persist = false;\r\n    }\r\n\r\n    exec(...extras: any[]): void {\r\n        //持久的handler, exec可能会执行多次，每次执行前要清理一下旧参数\r\n        // if (this.is_persist && this.times > 0) {\r\n        //     this.args = [];\r\n        //     Log.Debug(\"handler exec\", this.times, \"times, clear prev args\");\r\n        // }\r\n        //不能使用this.args = . 否则每次给args添加的参数都会累加\r\n        //比如update()中 ...extras是dt值, 但是dt每次都赋值, 导致\r\n        let args = this.args.concat(extras);\r\n        this.cb.apply(this.host, args);\r\n        this.times++;\r\n\r\n        //临时的用完回收\r\n        if (!this.is_persist) {\r\n            this.release();\r\n        }\r\n    }\r\n\r\n    retain() {\r\n        this.is_persist = true;\r\n    }\r\n\r\n    release() {\r\n        // this.cb = null;\r\n        // this.host = null;\r\n        // this.args = null;\r\n        // this.times = null;\r\n        // this.is_persist = false;\r\n        // if(handler_pool.length < handler_pool_size)\r\n        // {\r\n        //     handler_pool.push(this);\r\n        // }\r\n    }\r\n\r\n    public static gen_handler(cb: Function, host: any = null, ...args: any[]): cbhandler {\r\n        let single_handler: cbhandler = new cbhandler();//handler_pool.length < 0 ? handler_pool.pop() : new handler()\r\n        //这里要展开args, 否则会将args当数组传给wrapper, 导致其args参数变成2维数组[[]]\r\n        single_handler.init(cb, host, ...args);\r\n        return single_handler;\r\n    }\r\n}\r\n\r\n// /**注意区分一次性和持久的handler */\r\n// export function gen_handler(cb:Function, host:any = null, ...args:any[]):handler\r\n// {\r\n//     let single_handler:handler = handler_pool.length < 0 ? handler_pool.pop(): new handler()\r\n//     //这里要展开args, 否则会将args当数组传给wrapper, 导致其args参数变成2维数组[[]]\r\n//     single_handler.init(cb, host, ...args);\r\n//     return single_handler;\r\n// }\r\n","/**\n* Created By Code Generator\n*/\nimport Facade = puremvc.Facade;\nimport View = Laya.View;\nimport Mediator = puremvc.Mediator;\nimport { BaseUICtrl } from \"../BaseUICtrl\";\nimport { ui } from \"../../../ui/layaMaxUI\";\nimport { UIID } from \"../UIIDDefine\";\nimport { NotificationNames } from \"../../data/const/NotificationNames\";\nimport { TimeManager } from \"../../../framework/utils/timer/TimeManager\";\nimport { cbhandler } from \"../../../framework/utils/timer/cbhandler\";\n\n\nexport class LoadingUIUIController extends BaseUICtrl {\n    private static _instance: LoadingUIUIController;\n    public static get Instance(): LoadingUIUIController {\n        if (this._instance == null) {\n            this._instance = new LoadingUIUIController(null);\n        }\n        return this._instance;\n    }\n\n    constructor(view: View) {\n        super(null)\n    }\n\n    private loadingUI: ui.uiprefab.LoadingUIUI;\n    private curUpdateTimer: number = -1; //当前的计时器\n    private curTargetProgress: number = 0; //当前目标进度\n    private curProgress: number = 0;   //当前显示进度\n    private onProgressReachEnd: Function = null;//当前进度条到达终点\n    private curIncreStep: number = 0;//当前进度动画0.5s需要增加的进度.\n    public Init() {\n        this.mediatorName = UIID.LoadingUIUIID.toString();\n\n        this.loadingUI = new ui.uiprefab.LoadingUIUI();\n        Laya.stage.addChild(this.loadingUI); //添加到staget\n        this.loadingUI.zOrder = 100;//ZOrderDefine.NewbieGuideUI_ZORDER\n        this.SetActive(true)\n        this.RegisterEvent();\n    }\n    //设置进度, width 如果设置为0, 会导致mask失效,需要设置至少为1\n    public InitProgress(progress: number) {\n        this.loadingUI.UI_ProgressMask.width = progress * this.loadingUI.UI_ProgressUpper.width;\n        this.curTargetProgress = progress;\n        this.curProgress = progress;\n    }\n\n    //设置目标进度\n    public SetTargetProgress(progress: number) {\n        this.curTargetProgress = progress;\n        this.curIncreStep = this.curTargetProgress - this.curProgress;\n    }\n\n    //更新进度\n    public UpdatreProgress(dt: number) {\n        if (this.curProgress < this.curTargetProgress) {\n            let incre = this.curIncreStep;\n            incre = incre < 0.1 ? 0.1 : incre;\n            this.curProgress += 1 / 0.5 * incre * dt;//0.5秒走到目标\n            if (this.curProgress > 1) this.curProgress = 1;\n            this.loadingUI.UI_ProgressMask.width = this.curProgress * this.loadingUI.UI_ProgressUpper.width;\n            if (this.curProgress == 1 && this.onProgressReachEnd) this.onProgressReachEnd()\n            // Log.Debug(\"this.curpo \" + this.curProgress)\n        }\n    }\n\n\n    /**\n     * //设置UI是否显示\n     * @param active \n     * @param forceClose 是否立刻关闭, 或则由于loadArray的progress会在加载到0.3-0.8的时候立刻到1,人为过度到1. \n     * @param onClosed 当前loadiing关闭时候的回调\n     */\n    public SetActive(active: boolean, forceClose: boolean = true, onClosed: Function = null, prompt: string = \"\") {\n        //关闭前, 是走到100再关闭. 还是立刻关闭\n        if (!active) {\n            if (forceClose) {\n                //立刻关闭\n                this.loadingUI.visible = active;\n                // this.loadingUI.pos(100000, 0)\n                this.InitProgress(0.01);\n                if (this.curUpdateTimer >= 0) TimeManager.Instance.remove(this.curUpdateTimer);\n                this.curUpdateTimer = -1;\n                if (onClosed) onClosed();\n            } else {\n                //走到1关闭\n                this.onProgressReachEnd = () => {\n                    this.SetActive(false, true)\n                    if (onClosed) onClosed();\n                }\n                //已经到1, 直接执行回调. 否则等待动画进度走满\n                if (this.curProgress >= 1) {\n                    this.onProgressReachEnd();\n                } else {\n                    this.SetTargetProgress(1);\n                }\n\n            }\n        } else {\n            //显示UI\n            this.loadingUI.visible = active;\n            //this.loadingUI.pos(0, 0)\n            this.InitProgress(0.01);\n            if (this.curUpdateTimer >= 0) TimeManager.Instance.remove(this.curUpdateTimer);\n            this.curUpdateTimer = TimeManager.Instance.addUpdater(cbhandler.gen_handler(this.UpdatreProgress, this))\n            //设置提示文字\n            this.loadingUI.UI_Prompt_Text.text = prompt\n        }\n    }\n\n\n    //设置Loding的显示\n    public SetLoadingActive(active: boolean) {\n        this.loadingUI.UI_LoadingIcon.visible = active;\n        this.loadingUI.UI_ProgressBottom.visible = active;\n    }\n\n    //销毁\n    public Destroy() {\n        this.RemoveEvent();\n        this.loadingUI.destroy(true);\n        this.loadingUI = null;\n    }\n\n    private RegisterEvent(): void {\n        Facade.getInstance().registerMediator(this)\n        this.loadingUI.on(Laya.Event.CLICK, this, this.onLoadingUIClick);\n\n    }\n\n    private RemoveEvent(): void {\n        Facade.getInstance().removeMediator(this.getMediatorName());\n        this.loadingUI.on(Laya.Event.CLICK, this, this.onLoadingUIClick);\n    }\n\n    onLoadingUIClick(e: Laya.Event) {\n        e.stopPropagation();//阻止点击事件下传\n    }\n    /**\n     * @override\n     */\n    listNotificationInterests(): string[] {\n        return [\n            NotificationNames.LoadingUIProgress,\n        ];\n    }\n\n    /**\n    * @override\n    */\n    handleNotification(note: puremvc.INotification): void {\n        switch (note.getName()) {\n            case NotificationNames.LoadingUIProgress: {\n                let progress: number = note.getBody();\n                if (progress < this.curProgress) return;//不后退\n                this.SetTargetProgress(progress)\n                break;\n            }\n        }\n    }\n}\n\n","\r\n/*\r\n* name;\r\n*/\r\nexport class ConstDefine {\r\n\r\n    public static get videoResPre() {\r\n        let url = \"https://baizhoudata.oss-cn-beijing.aliyuncs.com/bronze/\";\r\n        // \"http://www.baizhoutj.com/H5Game/BronzeRepairTrunk12/\";\r\n        return url + \"res/video/\"\r\n    }\r\n    public static Bronzeware = \"https://baizhoudata.oss-cn-beijing.aliyuncs.com/bronze/\" + \"res/model/Bronze/Conventional/bronze.lh\" + \"?v=\"+new Date().getTime();\r\n    public static blankColorUrl = \"largeImg/BronzeWareImg/blankColor.png\"\r\n}","\r\nimport { ConstDefine } from \"../data/const/ConstDefine\";\r\n\r\n\r\nexport class GameUIManager {\r\n    private static _instace: GameUIManager;\r\n\r\n    public static get Instance(): GameUIManager {\r\n        if (GameUIManager._instace == null) {\r\n            GameUIManager._instace = new GameUIManager();\r\n            // GameUIManager._instace.Init();\r\n        }\r\n        return GameUIManager._instace;\r\n    }\r\n\r\n    private parentScene: Laya.Scene3D = null;\r\n    camera: Laya.Camera;\r\n    sky: Laya.SkyBox\r\n    public Init() {\r\n        //添加3D场景\r\n        // var scene: Laya.Scene3D = Laya.stage.addChild(new Laya.Scene3D()) as Laya.Scene3D;\r\n\r\n        this.parentScene = Laya.stage.addChild(new Laya.Scene3D()) as Laya.Scene3D;\r\n        this.parentScene.zOrder = -1;\r\n        this.parentScene.updateZOrder();\r\n        // let a = this.parentScene.skyRenderer.mesh as Laya.BlinnPhongMaterial ;\r\n        // console.log(a);\r\n        // a.albedoColor=new Laya.Vector4(0,0,0,0);\r\n        // let b = this.parentScene.skyRenderer.material;\r\n        // console.log(b);\r\n\r\n        //添加照相机\r\n        var camera: Laya.Camera = (this.parentScene.addChild(new Laya.Camera(0, 0.1, 100))) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 1, 5));//(0, 3, 3));\r\n        camera.transform.rotate(new Laya.Vector3(-10, 96, 0), true, false);\r\n        // camera.addComponent(CameraMoveScript)\r\n        camera.transform.lookAt(new Laya.Vector3(0, 0, 0), new Laya.Vector3(0, 1, 0))\r\n        camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SOLIDCOLOR;\r\n        // camera.clearFlag = Laya.CameraClearFlags.CLEARFLAG_None;\r\n        //除了猴子自身，渲染图片其他地方都完全渲染到屏幕上\r\n        camera.clearColor = new Laya.Vector4(245 / 255, 231 / 255, 218 / 255, 0);\r\n        // camera.renderTarget = new Laya.RenderTexture(512, 512, 1, 3);//laya.resource.RenderTextureFormat.R8G8B8A8, laya.resource.RenderTextureDepthFormat.DEPTHSTENCIL_NONE);\r\n\r\n        // //正交投影垂直矩阵尺寸\r\n        // camera.orthographicVerticalSize = 10;\r\n        // camera.convertScreenCoordToOrthographicCoord(new Laya.Vector3(310, 500, 0),new Laya.Vector3(0, 0, 0));\r\n\r\n\r\n        this.camera = camera;\r\n        //添加方向光\r\n        var directionLight: Laya.DirectionLight = this.parentScene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        // directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));\r\n        directionLight.transform.rotationEuler = new Laya.Vector3(0, 0, 0)\r\n        directionLight.intensity = 1.5;\r\n\r\n\r\n        //    this. AddPrefab();\r\n    }\r\n\r\n    public ResetCameraPos() {\r\n        this.camera.transform.position = new Laya.Vector3(0, 0, 0)\r\n        this.camera.transform.rotationEuler = new Laya.Vector3(0, 0, 0)\r\n        this.camera.transform.translate(new Laya.Vector3(0, 1, 5));//(0, 3, 3));\r\n        this.camera.transform.rotate(new Laya.Vector3(-10, 96, 0), true, false);\r\n        // camera.addComponent(CameraMoveScript)\r\n        this.camera.transform.lookAt(new Laya.Vector3(0, 0, 0), new Laya.Vector3(0, 1, 0))\r\n\r\n        if (this.prefab != null) {\r\n            this.prefab.transform.position = new Laya.Vector3(0, 0, 0);\r\n            this.prefab.transform.rotationEuler = new Laya.Vector3(0, 0, 0);\r\n        }\r\n\r\n    }\r\n\r\n    public AddPrefab() {\r\n        //不重复加载游戏\r\n        if (this.prefab == null) {\r\n            let urls = [ConstDefine.Bronzeware]\r\n            Laya.loader.create(urls,\r\n                Laya.Handler.create(this, this.onArrayCreated, [urls]),\r\n                Laya.Handler.create(this, this.onCreateArrayLoading, null, false));\r\n            // this.onArrayCreated([ConstDefine.Bronzeware]);\r\n            // this.onCreateArrayLoading(null,false);\r\n            var modelViewer: ModelViewer = this.camera.addComponent(ModelViewer);\r\n            // modelViewer.AroundPos = new Laya.Vector3(-30, 1, 3);\r\n            modelViewer.AroundPos = new Laya.Vector3(0, 0, 0);//new Laya.Vector3(-30, 1, 3);\r\n\r\n        }else{\r\n            this.prefab.transform.position = new Laya.Vector3(0, 0, 0);\r\n        }\r\n    }\r\n\r\n\r\n    public RemovePrefab() {\r\n        if (this.prefab != null) {\r\n            // this.prefab.destroy();\r\n            // this.prefab = null;\r\n            this.prefab.transform.position = new Laya.Vector3(100000, 100000, 100000);\r\n        }\r\n    }\r\n    prefab: Laya.Sprite3D = null;\r\n    private onArrayCreated(urlobj: any[], comFun: Function = null, failFun: Function = null, taskid: number = 0) {\r\n        // Log.Debug(\"=====>res loaded array: \" + urlobj.length + \" \" + urlobj)\r\n        // for (var index = 0; index < urlobj.length; index++) {\r\n        //     var element = urlobj[index];\r\n        //     Log.Debug(\"=========>loaded: \" + element.url ? element.url : element);\r\n        // }\r\n\r\n        for (let index = 0; index < urlobj.length; index++) {\r\n            const element = urlobj[index];\r\n            var url = urlobj[index].url ? urlobj[index].url : urlobj[index];\r\n            console.log(\"3d资源加载成功 taskid url[0]:\" + url)\r\n            this.prefab = Laya.loader.getRes(url) as Laya.Sprite3D;\r\n\r\n            let node = this.prefab;// Laya.MeshSprite3D.instantiate(this.prefab);\r\n            // console.log(node);\r\n            this.parentScene.addChild(node);\r\n            node.transform.position = new Laya.Vector3(0, 0, 0);\r\n\r\n\r\n\r\n            // Laya.stage.on(Laya.Event.RESIZE, null, function():void {\r\n            //    this. camera.convertScreenCoordToOrthographicCoord(new Laya.Vector3(310, 500, 0),new Laya.Vector3(0, 0, 0));\r\n            //     node.transform.position = this._translate;\r\n            // });\r\n        }\r\n        this.parentScene.zOrder = 9\r\n        this.parentScene.updateZOrder();\r\n\r\n    }\r\n    //批量资源加载中\r\n    private onCreateArrayLoading(progressFun: Function = null, progress: any = null) {\r\n        // console.log(\"progress\" + progressFun)\r\n        // if (progressFun) {\r\n        //     progressFun(progress)\r\n        // }\r\n    }\r\n\r\n\r\n}\r\n\r\nexport class ModelViewer extends Laya.Script {\r\n    // Text m_debugTip;\r\n    public canRotation_X: boolean = true;\r\n    public canRotation_Y: boolean = true;\r\n    public canScale: boolean = true;\r\n\r\n    /// <summary>\r\n    /// Around center.\r\n    /// </summary>\r\n    //public target: Transform3D;\r\n    public AroundPos: Laya.Vector3 = new Laya.Vector3();\r\n    /// <summary>\r\n    /// Settings of mouse button, pointer and scrollwheel.\r\n    /// </summary>\r\n    public mouseSettings: MouseSettings = new MouseSettings(0, 0.3, 0.5);\r\n\r\n    /// <summary>\r\n    /// Range limit of angle.\r\n    /// </summary>\r\n    public angleRange: MyRange = new MyRange(-90, 90);\r\n\r\n    /// <summary>\r\n    /// Range limit of distance.\r\n    /// </summary>\r\n    public distanceRange: MyRange = new MyRange(1, 50);//(50, 2000);\r\n\r\n    /// <summary>\r\n    /// Damper for move and rotate.\r\n    /// </summary>\r\n    ///[Range(0, 10)]\r\n    public damper: number = 10;\r\n\r\n    /// <summary>\r\n    /// Camera current angls.\r\n    /// </summary>\r\n    public CurrentAngles: Laya.Vector3 = new Laya.Vector3();\r\n    public CurrentAnglesTemp: Laya.Vector3 = new Laya.Vector3();\r\n    /// <summary>\r\n    /// Current distance from camera to target.\r\n    /// </summary>\r\n    public CurrentDistance: number;\r\n\r\n    /// <summary>\r\n    /// Camera target angls.\r\n    /// </summary>\r\n    protected targetAngles: Laya.Vector3 = new Laya.Vector3();\r\n\r\n\r\n    /// <summary>\r\n    /// Target distance from camera to target.\r\n    /// </summary>\r\n    protected targetDistance: number;\r\n\r\n\r\n    //protected camera: Laya.Camera;\r\n    constructor() {\r\n        super();\r\n    }\r\n    public transform: Laya.Transform3D;\r\n\r\n    onStart(): void {\r\n\r\n        this.transform = (this.owner as Laya.Sprite3D).transform;\r\n\r\n        this.CurrentAngles = new Laya.Vector3(-this.transform.rotationEuler.x, this.transform.rotationEuler.y, 0);\r\n        this.targetAngles = new Laya.Vector3(-this.transform.rotationEuler.x, this.transform.rotationEuler.y, 0);\r\n        this.CurrentDistance = Laya.Vector3.distance(this.transform.position, this.AroundPos);\r\n        this.targetDistance = Laya.Vector3.distance(this.transform.position, this.AroundPos);\r\n        // Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n        // Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.mouseMove);\r\n        // Laya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n        // Laya.stage.on(Laya.Event.MOUSE_OUT, this, this.mouseUp);\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.mouseMove);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n        Laya.stage.on(Laya.Event.MOUSE_OUT, this, this.mouseUp);\r\n\r\n        Laya.stage.on(Laya.Event.MOUSE_WHEEL, this, this.mouseWheel)\r\n    }\r\n    onUpdate(): void {\r\n        if (this.myevent == null) return;\r\n        if (Laya.Browser.onMobile) {\r\n            this.AroundByMobileInput();\r\n        } else {\r\n            this.AroundByMouseInput();\r\n        }\r\n        if (!this.canRotation_X) this.targetAngles.y = 0;\r\n        if (!this.canRotation_Y) this.targetAngles.x = 0;\r\n        if (this.mouseRunning == false) {\r\n            this.targetAngles.y -= 0.05;\r\n\r\n        }\r\n\r\n        //Lerp.\r\n        this.CurrentAngles = this.LerpVector3(this.CurrentAngles, this.targetAngles, this.deltaTime * this.damper);\r\n        this.CurrentDistance = this.LerpNum(this.CurrentDistance, this.targetDistance, this.deltaTime * this.damper);\r\n        //Update transform position and rotation.\r\n        // Quaternion.createFromYawPitchRoll(this.CurrentAngles.y,this.CurrentAngles.x,this.CurrentAngles.z,this.tempRotationZ)\r\n        // this.transform.rotation = this.tempRotationZ;\r\n        this.CurrentAnglesTemp.x = -this.CurrentAngles.x;\r\n        this.CurrentAnglesTemp.y = this.CurrentAngles.y;\r\n        this.CurrentAnglesTemp.z = this.CurrentAngles.z;\r\n        this.transform.rotationEuler = this.CurrentAnglesTemp;\r\n        Laya.Vector3.scale(this.GetForward, this.CurrentDistance, this.tempV)\r\n        Laya.Vector3.subtract(this.AroundPos, this.tempV, this.tempV1)\r\n        this.transform.position = this.tempV1;\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n    }\r\n\r\n    //记录上一次手机触摸位置判断用户是在左放大还是缩小手势  \r\n    private oldPosition1: Laya.Vector3 = new Laya.Vector3();\r\n    private oldPosition2: Laya.Vector3 = new Laya.Vector3();\r\n\r\n    private m_IsSingleFinger: boolean;\r\n    /*\r\n    private void ScaleCamera()\r\n    {\r\n        //计算出当前两点触摸点的位置  \r\n        var tempPosition1 = Input.GetTouch(0).position;\r\n        var tempPosition2 = Input.GetTouch(1).position;\r\n        float currentTouchDistance = Vector3.Distance(tempPosition1, tempPosition2);\r\n        float lastTouchDistance = Vector3.Distance(oldPosition1, oldPosition2);\r\n        //计算上次和这次双指触摸之间的距离差距  \r\n        //然后去更改摄像机的距离  \r\n        distance -= ( currentTouchDistance - lastTouchDistance ) * scaleFactor * Time.deltaTime;\r\n        //把距离限制住在min和max之间  \r\n        distance = Mathf.Clamp(distance, minDistance, maxDistance);\r\n        //备份上一次触摸点的位置，用于对比  \r\n        oldPosition1 = tempPosition1;\r\n        oldPosition2 = tempPosition2;\r\n    }\r\n    */\r\n\r\n    public get TouchCount(): number {\r\n        // if (Laya.TouchManager.I._event.touches == null) {\r\n        //     return 0;\r\n        // } else {\r\n        //     return this.myevent.touches.length;\r\n        // }\r\n        return this.myevent.touches.length;\r\n    }\r\n    public get Touchs(): Array<any> {\r\n        return this.myevent.touches\r\n    }\r\n    public get GetAxisX(): number {\r\n        return Laya.stage.mouseX - this.lastMouseX;\r\n    }\r\n    public get GetAxisY(): number {\r\n        return Laya.stage.mouseY - this.lastMouseY;\r\n    }\r\n    public get deltaTime(): number {\r\n        return Laya.timer.delta / 1000;\r\n    }\r\n\r\n    public deltaWheel: number = 0;\r\n    public closeupSpeedOnPC: number = 0.2; //拉近速度\r\n\r\n    public FORWORD: Laya.Vector3 = new Laya.Vector3();\r\n    public get GetForward(): Laya.Vector3 {\r\n        this.transform.getForward(this.FORWORD);\r\n        return this.FORWORD\r\n    }\r\n    protected lastMouseX: number = 0;\r\n    protected lastMouseY: number = 0;\r\n    protected mouseRunning: boolean = false;\r\n\r\n    protected mouseDown(e: Laya.Event): void {\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n        this.mouseRunning = true;\r\n        // console.log(\"on mouse down\")\r\n    }\r\n    myevent: Laya.Event;\r\n    protected mouseMove(e: Laya.Event): void {\r\n        this.myevent = e;\r\n    }\r\n\r\n    protected mouseWheel(e: Laya.Event): void {\r\n        this.deltaWheel = e.delta * this.closeupSpeedOnPC;\r\n    }\r\n    protected mouseUp(e: Laya.Event): void {\r\n        this.mouseRunning = false;\r\n        this.myevent = null;\r\n        // console.log(\"on mouse up\")\r\n    }\r\n\r\n    protected Clamp(num, min, max): number {\r\n        if (num < min) {\r\n            return min;\r\n        } else if (num > max) {\r\n            return max;\r\n        } else {\r\n            return num;\r\n        }\r\n    }\r\n\r\n    protected LerpVector3(min: Laya.Vector3, max: Laya.Vector3, t: number): Laya.Vector3 {\r\n        var vec: Laya.Vector3 = new Laya.Vector3();\r\n        vec.x = min.x + t * (max.x - min.x);\r\n        vec.y = min.y + t * (max.y - min.y);\r\n        vec.z = min.z + t * (max.z - min.z);\r\n        return vec;\r\n    }\r\n    protected LerpNum(min: number, max: number, t: number): number {\r\n        return min + t * (max - min);\r\n    }\r\n\r\n\r\n\r\n    protected AroundByMobileInput(): void {\r\n        if (this.TouchCount == 1) {//if (this.mouseRunning) { //用mouseruning就不管用\r\n            // console.log(this.targetAngles);\r\n            this.targetAngles.y -= this.GetAxisX * this.mouseSettings.pointerSensitivity;\r\n            this.targetAngles.x += this.GetAxisY * this.mouseSettings.pointerSensitivity;\r\n            //Range.\r\n            // this.targetAngles.y = this.Clamp(this.targetAngles.y, this.angleRange.min, this.angleRange.max);\r\n            //Mouse pointer.\r\n            this.m_IsSingleFinger = true;\r\n        }\r\n        //Mouse scrollwheel.\r\n        if (this.canScale) {\r\n            if (this.TouchCount > 1) {\r\n                //计算出当前两点触摸点的位置  \r\n                if (this.m_IsSingleFinger) {\r\n                    this.oldPosition1 = new Laya.Vector3(this.Touchs[0].stageX, this.Touchs[0].stageY);\r\n                    this.oldPosition2 = new Laya.Vector3(this.Touchs[1].stageX, this.Touchs[1].stageY);\r\n                }\r\n                var tempPosition1 = new Laya.Vector3(this.Touchs[0].stageX, this.Touchs[0].stageY);\r\n                var tempPosition2 = new Laya.Vector3(this.Touchs[1].stageX, this.Touchs[1].stageY);\r\n\r\n\r\n                var currentTouchDistance = Laya.Vector3.distance(tempPosition1, tempPosition2);\r\n                var lastTouchDistance = Laya.Vector3.distance(this.oldPosition1, this.oldPosition2);\r\n\r\n                //计算上次和这次双指触摸之间的距离差距  \r\n                //然后去更改摄像机的距离  \r\n                this.targetDistance -= (currentTouchDistance - lastTouchDistance) * this.deltaTime * this.mouseSettings.wheelSensitivity;\r\n                //  m_debugTip.text = ( currentTouchDistance - lastTouchDistance ).ToString() + \" + \" + targetDistance.ToString();\r\n\r\n                //把距离限制住在min和max之间  \r\n\r\n                //备份上一次触摸点的位置，用于对比  \r\n                this.oldPosition1 = tempPosition1;\r\n                this.oldPosition2 = tempPosition2;\r\n                this.m_IsSingleFinger = false;\r\n                this.targetDistance = this.Clamp(this.targetDistance, this.distanceRange.min, this.distanceRange.max);\r\n            }\r\n        }\r\n    }\r\n    tempRotationZ: Laya.Quaternion = new Laya.Quaternion();\r\n    tempV: Laya.Vector3 = new Laya.Vector3();\r\n    tempV1: Laya.Vector3 = new Laya.Vector3();\r\n\r\n\r\n    /// <summary>\r\n    /// Camera around target by mouse input.\r\n    /// </summary>\r\n    protected AroundByMouseInput(): void {\r\n        if (this.mouseRunning) {\r\n            //Mouse pointer.\r\n            this.targetAngles.y -= (this.GetAxisX * this.mouseSettings.pointerSensitivity);\r\n            this.targetAngles.x += (this.GetAxisY * this.mouseSettings.pointerSensitivity);\r\n            //Range.\r\n            // this.targetAngles.x = this.Clamp(this.targetAngles.x, this.angleRange.min, this.angleRange.max);\r\n        }\r\n        //Mouse scrollwheel.\r\n        if (this.canScale) {\r\n            this.targetDistance -= this.deltaWheel * this.mouseSettings.wheelSensitivity * 50;\r\n            this.deltaWheel = 0;\r\n            this.targetDistance = this.Clamp(this.targetDistance, this.distanceRange.min, this.distanceRange.max);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass MouseSettings {\r\n    /// <summary>\r\n    /// ID of mouse button.\r\n    /// </summary>\r\n    public mouseButtonID: number;\r\n\r\n    /// <summary>\r\n    /// Sensitivity of mouse pointer.\r\n    /// </summary>\r\n    public pointerSensitivity: number;\r\n\r\n    /// <summary>\r\n    /// Sensitivity of mouse ScrollWheel.\r\n    /// </summary>\r\n    public wheelSensitivity: number;\r\n\r\n    /// <summary>\r\n    /// Constructor.\r\n    /// </summary>\r\n    /// <param name=\"mouseButtonID\">ID of mouse button.</param>\r\n    /// <param name=\"pointerSensitivity\">Sensitivity of mouse pointer.</param>\r\n    /// <param name=\"wheelSensitivity\">Sensitivity of mouse ScrollWheel.</param>\r\n    constructor(mouseButtonID: number, pointerSensitivity: number, wheelSensitivity: number) {\r\n        this.mouseButtonID = mouseButtonID;\r\n        this.pointerSensitivity = pointerSensitivity;\r\n        this.wheelSensitivity = wheelSensitivity;\r\n    }\r\n}\r\n\r\n/// <summary>\r\n/// Range form min to max.\r\n/// </summary>\r\nclass MyRange {\r\n    /// <summary>\r\n    /// Min value of range.\r\n    /// </summary>\r\n    public min: number;\r\n\r\n    /// <summary>\r\n    /// Max value of range.\r\n    /// </summary>\r\n    public max: number;\r\n\r\n    /// <summary>\r\n    /// Constructor.\r\n    /// </summary>\r\n    /// <param name=\"min\">Min value of range.</param>\r\n    /// <param name=\"max\">Max value of range.</param>\r\n    constructor(min: number, max: number) {\r\n        this.min = min;\r\n        this.max = max;\r\n    }\r\n}\r\n\r\n\r\n/// <summary>\r\n/// Rectangle area on plane.\r\n/// </summary>\r\nclass PlaneArea {\r\n    /// <summary>\r\n    /// Center of area.\r\n    /// </summary>\r\n    public center: Laya.Transform3D;\r\n\r\n    /// <summary>\r\n    /// Width of area.\r\n    /// </summary>\r\n    public width: number;\r\n\r\n    /// <summary>\r\n    /// Length of area.\r\n    /// </summary>\r\n    public length: number;\r\n\r\n    /// <summary>\r\n    /// Constructor.\r\n    /// </summary>\r\n    /// <param name=\"center\">Center of area.</param>\r\n    /// <param name=\"width\">Width of area.</param>\r\n    /// <param name=\"length\">Length of area.</param>\r\n    constructor(center: Laya.Transform3D, width: number, length: number) {\r\n        this.center = center;\r\n        this.width = width;\r\n        this.length = length;\r\n    }\r\n}","import Log from \"../Log\";\r\nimport Handler = Laya.Handler;\r\n/*\r\n* name;\r\n*/\r\nexport class WechatUtil {\r\n    private static _instanc: WechatUtil;\r\n\r\n    public static getIntance(): WechatUtil {\r\n        if (WechatUtil._instanc == null) {\r\n            WechatUtil._instanc = new WechatUtil();\r\n        }\r\n        return WechatUtil._instanc;\r\n    }\r\n\r\n    /**\r\n     * 创建视频\r\n     * @param x \r\n     * @param y \r\n     * @param width \r\n     * @param height \r\n     * @param src \r\n     * @param poster \r\n     * @returns \r\n     */\r\n    public static CreateVideo(leftOnStage: number, topOnStage: number, widthOnStage: number, heightOnStage: number,\r\n        src: string, poster: string, onEnd: Function) {\r\n        let wx = Laya.Browser.window.wx;\r\n\r\n        let sysInfo = wx.getSystemInfoSync();\r\n        let actwidth = sysInfo.windowWidth;//Laya.Browser.width / Laya.Browser.pixelRatio;//\r\n        let actHeight = sysInfo.windowHeight;//Laya.Browser.height / Laya.Browser.pixelRatio// 屏幕的实际大小, 微信的top,left用的这个坐标系\r\n\r\n        let top = topOnStage * (actHeight / Laya.stage.height) //stage是ui自适应后UI设计尺寸在屏幕范围内的大小.\r\n        let left = leftOnStage * (actwidth / Laya.stage.width);\r\n        let width = widthOnStage * (actHeight / Laya.stage.height);\r\n        let height = heightOnStage * (actHeight / Laya.stage.height);\r\n\r\n        console.log(\"top: \" + top + \" left\" + left + \" width:\" + width + \" h:\" + height + \" src:\" + src + \" act \" + actwidth + \" aH:\" + actHeight)\r\n\r\n        let videoInfo = {\r\n            x: left,\r\n            y: top,\r\n            width: width,\r\n            height: height,\r\n            src: src,\r\n            poster: poster,\r\n            objectFit: 'fill',//'contain', //使用fill模式, 否则由于width和height只能是整数,所以视频的宽高会和要求的比例稍微不同. 需要用fill进行填充.\r\n            controls: false,\r\n            autoplay: true,\r\n            backgroundColor: \"#f5e7da\",\r\n            showCenterPlayBtn: false //去除播放按钮, \r\n        }\r\n\r\n\r\n        let video = wx.createVideo(videoInfo)\r\n        // button.onTap((res) => {\r\n        //     console.log(\"on game club click\")\r\n        //     if (onclick) onclick();\r\n        // })\r\n        video.onProgress((res) => {\r\n            console.log(\"progress %o\", res);\r\n        })\r\n        video.onPlay(() => {\r\n            Log.Debug(\"start play video \" + src)\r\n        });\r\n\r\n        video.onEnded(() => {\r\n            Log.Debug(\"start play video onEnded \" + src)\r\n            if (onEnd) onEnd();\r\n        });\r\n\r\n        return video;\r\n    }\r\n\r\n    public static PlayVideo(video) {\r\n        video.play();\r\n    }\r\n\r\n\r\n    public static DestroyVideo(video) {\r\n        video.destroy();\r\n    }\r\n}","/**\n* Created By Code Generator\n*/\nimport Facade = puremvc.Facade;\nimport View = Laya.View;\nimport { BaseUICtrl } from \"../BaseUICtrl\";\nimport { WindowContextDataBase } from \"../UIParamStruct\";\nimport { ui } from \"../../../ui/layaMaxUI\";\nimport { UIID } from \"../UIIDDefine\";\nimport { GameConfigRow } from \"../../data/config/GameConfigRow\";\nimport { ConfigManager } from \"../../manager/ConfigManager\";\nimport { ConstDefine } from \"../../data/const/ConstDefine\";\nimport { TimeManager } from \"../../../framework/utils/timer/TimeManager\";\nimport { cbhandler } from \"../../../framework/utils/timer/cbhandler\";\nimport { NotificationNames } from \"../../data/const/NotificationNames\";\nimport { VideoConfigRow } from \"../../data/config/VideoConfigRow\";\nimport ResourceManager from \"../../../framework/resourceManager/ResourceManager\";\nimport { PictureConfigRow } from \"../../data/config/PictureConfigRow\";\nimport { TextConfigRow } from \"../../data/config/TextConfigRow\";\nimport { GameUIManager } from \"../../manager/GameUIManager\";\nimport CommonUtil from \"../../../framework/utils/CommonUtil\";\nimport { WechatUtil } from \"../../../framework/utils/wechatutil/WechatUtil\";\n\nexport class BronzewareContentUIUIController extends BaseUICtrl {\n\n\n    private gameConfigs: GameConfigRow[] = [];\n\n    private configIndex: number = 0;\n\n    private nowstage: number = 0;\n\n    private reference: Laya.Sprite;//视频大小sprite\n\n    private videoCount: number = 1;\n\n    private videoElement: any;//视频dom\n\n    private totalClick: number = 0;\n\n    private greenCount: number = 0;\n\n    private blackCount: number = 0;\n\n    private videoTop: number = 100 + 60;\n\n    constructor(view: View) {\n        super(view);\n    }\n\n    public GetView(): ui.uiprefab.BronzewareContentUIUI {\n        return this.uiView as ui.uiprefab.BronzewareContentUIUI;\n    }\n\n    /**\n     * @override\n     */\n    public Init(parent: Laya.Sprite, id: UIID, context: WindowContextDataBase = null, onResized: Function = null) {\n        super.Init(parent, id, context, onResized);\n        this.mediatorName = UIID.BronzewareContentUIUIID.toString();\n\n        //添加舞台\n        parent.addChild(this.uiView)\n        this.uiView.zOrder = this.uiConfig.depth;\n\n\n\n        this.RegisterEvent();\n    }\n\n    //自适应\n    protected OnUIResize(onResized: Function = null) {\n        super.OnUIResize(onResized)\n    }\n\n    /**\n     * @override\n     */\n    //ui动画执行前\n    protected BeforeUIOpen(context: WindowContextDataBase = null) {\n        super.BeforeUIOpen(context);\n\n\n    }\n    /**\n    * @override\n    */\n    //ui打开动画完成\n    protected OnUIOpened(context: WindowContextDataBase = null) {\n\n        //初始化data\n        this.InitData();\n        //将super.OnUIOpened()放最后执行\n        super.OnUIOpened(context);\n        Laya.stage.addChild(this.uiView)\n        GameUIManager.Instance.Init();\n        // console.log(Laya.stage)\n    }\n    /**\n     * @override\n     */\n    //ui关闭动画完成\n    protected OnUIHide() {\n        super.OnUIHide();\n    }\n    /**\n     * @override\n     */\n    protected BeforeUIDestroy() {\n        this.RemoveEvent();\n    }\n\n    private RegisterEvent(): void {\n        Facade.getInstance().registerMediator(this)\n        this.GetView().UI_next_Btn.on(Laya.Event.CLICK, this, this.OnUI_next_BtnClick);\n        this.GetView().UI_start_Btn.on(Laya.Event.CLICK, this, this.OnUI_start_BtnClick);\n    }\n    private RemoveEvent(): void {\n        Facade.getInstance().removeMediator(this.getMediatorName());\n        this.GetView().UI_next_Btn.off(Laya.Event.CLICK, this, this.OnUI_next_BtnClick);\n        this.GetView().UI_start_Btn.on(Laya.Event.CLICK, this, this.OnUI_start_BtnClick);\n    }\n    //<video src=\"res/video/0_0.mp4\" x-webkit-airplay=\"true\" playsinline=\"false\" webkit-playsinline=\"false\" x5-video-player-type=\"h5\" x5-video-player-fullscreen=\"true\" x5-video-orientation=\"landscape\" style=\"transform-origin: left top; position: absolute; transform: scale(0.347157, 0.347222) rotate(0deg); width: 2339px; height: 1080px; left: 0px; top: 0px;\"></video>\n\n    OnUI_next_BtnClick() {\n        GameUIManager.Instance.RemovePrefab();\n        this.facade.sendNotification(NotificationNames.NEXT_STAGE)\n    }\n\n    OnUI_start_BtnClick() {\n        GameUIManager.Instance.RemovePrefab();\n        this.facade.sendNotification(NotificationNames.NEXT_STAGE);\n    }\n\n    /**\n     * @override\n     */\n    listNotificationInterests(): string[] {\n        let list = super.listNotificationInterests();\n        return list.concat([\n            NotificationNames.NEXT_STAGE,\n            NotificationNames.RESTART_GAME\n        ]);\n    }\n\n    /**\n    * @override\n    */\n    handleNotification(note: puremvc.INotification): void {\n        if (!this.GetView().visible) return;\n        super.handleNotification(note)\n        switch (note.getName()) {\n            case NotificationNames.NEXT_STAGE: {\n\n                this.HideAllUI();\n                this.configIndex++;\n                console.log(this.configIndex)\n                if (this.configIndex > this.gameConfigs.length) return;\n                let gameconfig = this.gameConfigs[this.configIndex - 1]//获取当前的config\n                if (gameconfig == null) return;\n                console.log(\"当前步骤:\" + (gameconfig.stepContent));\n                //如果stageCategory改变则说明进入下一阶段\n                if (this.nowstage != gameconfig.stageCategory) {\n                    this.nowstage = gameconfig.stageCategory;\n                    this.UpdateStageUI();\n                }\n                this.UpdateStageTitle(gameconfig);\n                //根据该步骤的类型进行不同的操作\n                if (gameconfig.stepType == 1) {//文本\n                    let textConfig: TextConfigRow = ConfigManager.Instance.GetTextConfig(gameconfig.eventId);\n                    if (textConfig != null) {\n                        // if(textConfig.textContent.length<=20){\n                        //     this.GetView().UI_content_Label.align=\"center\";\n                        // }\n                        // this.GetView().UI_content_Label.text=\"      \"+textConfig.textContent;\n                        this.GetView().UI_text_Img.skin = textConfig.textRes;\n                        this.GetView().UI_text_Img.visible = true;\n                        this.GetView().UI_textContent_Panel.visible = true;\n                        //如果下一步还是文本则显示的是下一步按钮\n                        if (this.gameConfigs.length > this.configIndex) {\n                            let nextconfig = this.gameConfigs[this.configIndex]\n                            if (nextconfig.stepType == 1) {\n                                this.GetView().UI_start_Btn.visible = false;\n                                this.GetView().UI_next_Btn.visible = true;\n                            } else if (nextconfig.stepType == 2 || nextconfig.stepType == 3 || nextconfig.stepType == 4 || nextconfig.stepType == 5 || nextconfig.stepType == 6) {\n                                this.GetView().UI_start_Btn.visible = true;\n                                this.GetView().UI_next_Btn.visible = false;\n                            }\n                        }\n                    }\n                } else if (gameconfig.stepType == 2) {//视频\n                    let videoc: VideoConfigRow = ConfigManager.Instance.GetVideoConfig(gameconfig.eventId);\n                    this.GetView().UI_content_Img.visible = true;\n                    this.GetView().UI_content_Img.skin = ConstDefine.blankColorUrl\n                    if (videoc != null) {\n                        this.LoadVideo(videoc.videoRes);\n                        this.GetView().UI_start_Btn.visible = false;\n                        this.GetView().UI_next_Btn.visible = false;\n                    }\n                } else if (gameconfig.stepType == 3) {//交互\n                    //更换图片\n                    let picConfig: PictureConfigRow = ConfigManager.Instance.GetPictureConfig(gameconfig.eventId);\n                    if (picConfig != null) {\n                        this.GetView().UI_content_Img.skin = picConfig.pictureRes\n                        this.GetView().UI_content_Img.visible = true;\n                        this.GetView().UI_start_Btn.visible = false;\n                        this.GetView().UI_next_Btn.visible = false;\n                    }\n                    this.facade.sendNotification(NotificationNames.OPENUI, UIID.CalibrationUIUIID);\n                    //this.facade.sendNotification(NotificationNames.NEXT_STAGE);\n                } else if (gameconfig.stepType == 4) {//颜色\n                    this.facade.sendNotification(NotificationNames.OPENUI, UIID.ColorMatchingUIUIID);\n                    this.GetView().UI_start_Btn.visible = false;\n                    this.GetView().UI_next_Btn.visible = false;\n                } else if (gameconfig.stepType == 5) {//图片\n                    //更换图片\n                    let picConfig: PictureConfigRow = ConfigManager.Instance.GetPictureConfig(gameconfig.eventId);\n                    if (picConfig != null) {\n                        this.GetView().UI_content_Img.skin = picConfig.pictureRes\n                        this.GetView().UI_content_Img.visible = true;\n                        //如果下一步是图片则显示的是开始按钮\n                        if (this.gameConfigs.length > this.configIndex) {\n                            let nextconfig = this.gameConfigs[this.configIndex]\n                            if (nextconfig.stepType == 4) {\n                                this.GetView().UI_start_Btn.visible = true;\n                                this.GetView().UI_next_Btn.visible = false;\n                            } else {\n                                this.GetView().UI_start_Btn.visible = false;\n                                this.GetView().UI_next_Btn.visible = true;\n                            }\n                        }\n                    }\n\n                } else if (gameconfig.stepType == 6) {//自由视角\n                    // Laya.stage.addChild(this.uiView)\n                    // GameUIManager.Instance.Init();\n                    // console.log(Laya.stage)\n                    GameUIManager.Instance.AddPrefab();\n                    GameUIManager.Instance.ResetCameraPos();\n                    this.GetView().UI_bg_Panel.visible = false;\n                    this.uiView.zOrder = 100;\n                    this.uiView.updateZOrder();\n                    this.GetView().UI_3DModelOpPrompt.visible = true;//显示操作提示\n\n                    // this.GetView().UI_bg_Panel.graphics.drawTexture(GameUIManager.Instance.GetRenderTexture().defaulteTexture)\n                }\n                else if (gameconfig.stepType == 99) {//当前阶段结束\n                    this.facade.sendNotification(NotificationNames.NEXT_STAGE);\n                } else if (gameconfig.stepType == 999) {//游戏结束\n                    this.facade.sendNotification(NotificationNames.OPENUI, UIID.EndUIUIID);\n                }\n\n                //如果下一步是下一阶段\n                if (this.gameConfigs.length > this.configIndex && this.GetView().UI_next_Btn.visible) {\n                    let nextconfig = this.gameConfigs[this.configIndex]\n                    if (nextconfig.stageCategory != this.nowstage) {\n                        this.GetView().UI_start_Btn.visible = true;\n                        this.GetView().UI_next_Btn.visible = false;\n                    }\n                }\n\n                break;\n            }\n            case NotificationNames.RESTART_GAME: {\n                this.configIndex = 0;\n                this.nowstage = 0;\n                this.InitStageUI();\n                this.facade.sendNotification(NotificationNames.NEXT_STAGE);\n                break;\n            }\n        }\n    }\n\n    private InitData() {\n        //获取游戏配置\n        this.gameConfigs = ConfigManager.Instance.GetAllGameConfig();\n        // if(this.gameConfigs!=null&&this.gameConfigs.length>0){\n        //     this.nowstage = this.gameConfigs[0].stageCategory;\n        // }\n        //将所有ui都隐藏\n        this.GetView().UI_content_Img.visible = false;\n        this.GetView().UI_textContent_Panel.visible = false;\n        this.InitVideo();\n        this.InitStageUI();\n        this.HideAllUI();\n        this.GetView().UI_next_Btn.visible = false;\n        this.GetView().UI_progressContent_Panel.visible = false;\n        this.GetView().UI_start_Btn.visible = true;\n        this.GetView().UI_start_Img.visible = true;\n    }\n\n    private InitVideo() {\n        // 设置画布上的对齐参照物\n\n        if (CommonUtil.OnMiniGame()) {\n\n        } else {\n            this.reference = new Laya.Sprite();\n            Laya.stage.addChild(this.reference);\n            this.reference.pos(0, this.videoTop);\n            this.reference.size(Laya.stage.width, Laya.stage.height);\n            this.reference.graphics.drawRect(0, this.videoTop, Laya.stage.width, Laya.stage.height - this.videoTop, \"#CCCCCC\");\n\n            // 创建Video元素\n            this.videoElement = Laya.Browser.createElement(\"video\");\n            Laya.Browser.document.body.appendChild(this.videoElement);\n            this.videoElement.src = ConstDefine.videoResPre + \"0_0~1.mp4\";\n            // 设置Video元素地样式和属性\n            this.videoElement.style.zInddex = Laya.Render.canvas.style.zIndex + 1;\n            this.videoElement.controls = false;\n            this.videoElement.setAttribute(\"x-webkit-airplay\", \"true\");\n            this.videoElement.setAttribute(\"playsinline\", \"false\");\n            this.videoElement.setAttribute(\"webkit-playsinline\", \"false\");   //不使用小窗播放\n            this.videoElement.setAttribute(\"x5-video-player-type\", \"h5\");\n            this.videoElement.setAttribute(\"x5-video-player-fullscreen\", \"true\"); //使用全屏\n            this.videoElement.setAttribute(\"x5-video-orientation\", \"landscape\"); //适配方向\n            this.videoElement.style.setProperty(\"preload\", \"auto\")\n            //videoElement.style.setProperty(\"object-fit\", \"fill\")\n            // videoElement.style.position = \"absolute\"\n            // videoElement.style.width = \"100%\"\n            // videoElement.style.height = \"100%\"\n            // videoElement.style.left = '0px';\n            // videoElement.style.right = '0px';\n            // videoElement.style.top = '0px';\n            // videoElement.style.bottom = '0px';\n            let that = this;\n            // this.videoElement.addEventListener('timeupdate',function () {//计时\n            //     let timeDisplay;\n            //     //用秒数来显示当前播放进度\n            //     timeDisplay = Math.floor(this.videoElement.currentTime);\n            //     console.log(Math.floor(this.videoElement.currentTime))\n            //     //当视频播放到 4s的时候做处理\n            //     if ( timeDisplay >= this.videoElement.duration) {\n            //         //处理代码\n            //         that.facade.sendNotification(NotificationNames.NEXT_STAGE)\n            //     }\n            // }, false)\n            this.videoElement.addEventListener('ended', function () {\n                that.facade.sendNotification(NotificationNames.NEXT_STAGE)\n            })\n            Laya.Utils.fitDOMElementInArea(this.videoElement, this.reference, 0, 0, Laya.stage.width, Laya.stage.height);\n            // 每次舞台尺寸变更时，都会调用Utils.fitDOMElementInArea设置Video的位置，对齐的位置和refence重合\n            Laya.stage.on(Laya.Event.RESIZE, this, Laya.Utils.fitDOMElementInArea, [this.videoElement, this.reference, 0, 0, this.reference.width, this.reference.height]);\n\n        }\n\n    }\n\n    private video: any = null;\n    private LoadVideo(url: string) {\n        if (this.videoElement == null) {\n            this.InitVideo();\n        }\n\n        let videoWidth = 464\n        let videoHeight = 360\n        if (url.indexOf(\"0_0\") >= 0) {\n            videoWidth = 464\n            videoHeight = 360\n        } else if (url.indexOf(\"0_1\") >= 0\n            || url.indexOf(\"0_2\") >= 0\n            || url.indexOf(\"0_3\") >= 0\n            || url.indexOf(\"4_0\") >= 0\n            || url.indexOf(\"8_0\") >= 0\n        ) {\n            videoWidth = 480\n            videoHeight = 360\n        } else if (url.indexOf(\"1_0\") >= 0\n            || url.indexOf(\"1_1\") >= 0\n            || url.indexOf(\"2_0\") >= 0\n            || url.indexOf(\"3_0\") >= 0\n            || url.indexOf(\"3_1\") >= 0) {\n            videoWidth = 544\n            videoHeight = 360\n        }\n        else if (url.indexOf(\"5_0\") >= 0\n            || url.indexOf(\"5_1\") >= 0\n            || url.indexOf(\"6_1\") >= 0\n            || url.indexOf(\"6_2\") >= 0\n            || url.indexOf(\"7_0\") >= 0\n            || url.indexOf(\"7_1\") >= 0) {\n            videoWidth = 640\n            videoHeight = 360\n        }\n        else if (url.indexOf(\"6_0\") >= 0) {\n            videoWidth = 408\n            videoHeight = 360\n        }\n\n        let height = Laya.stage.height - this.videoTop;\n        let width = height / videoHeight * videoWidth;\n\n        this.GetView().UI_content_Img.width = width;\n        this.GetView().UI_content_Img.height = height;\n        this.GetView().UI_content_Img.bottom = 0;\n        this.GetView().UI_content_Img.centerX = 0;\n\n        if (CommonUtil.OnMiniGame()) {\n            let that = this;\n            if (this.video != null) WechatUtil.DestroyVideo(this.video)\n\n            let left = Laya.stage.width * 0.5 - width * 0.5\n\n            this.video = WechatUtil.CreateVideo(left, this.videoTop, width, height, ConstDefine.videoResPre + url,\n                \"http://baizhoudata.oss-cn-beijing.aliyuncs.com/bronze/bg.jpg\", () => {\n                    that.facade.sendNotification(NotificationNames.NEXT_STAGE)\n                })\n            WechatUtil.PlayVideo(this.video)\n        } else {\n            this.videoElement.src = ConstDefine.videoResPre + url;\n            this.videoElement.load();\n            this.videoElement.style.width = Laya.stage.width + \"\";\n            this.videoElement.style.height = (Laya.stage.height - this.videoTop) + \"\";\n            this.videoElement.play();\n        }\n    }\n\n    private InitStageUI() {\n        let widthProgress = this.GetView().UI_progressContent_Panel.width;\n        this.GetView().UI_progress0.left = widthProgress * 0 / 9;\n        this.GetView().UI_progress1.left = widthProgress * 1 / 9;\n        this.GetView().UI_progress2.left = widthProgress * 2 / 9;\n        this.GetView().UI_progress3.left = widthProgress * 3 / 9;\n        this.GetView().UI_progress4.left = widthProgress * 4 / 9;\n        this.GetView().UI_progress5.left = widthProgress * 5 / 9;\n        this.GetView().UI_progress6.left = widthProgress * 6 / 9;\n        this.GetView().UI_progress7.left = widthProgress * 7 / 9;\n        this.GetView().UI_progress8.left = widthProgress * 8 / 9;\n        this.GetView().UI_progress9.left = widthProgress * 9 / 9;\n        this.GetView().UI_progressColor_Panel.width = 0;\n        this.GetView().UI_progress0_color.visible = true;\n        this.GetView().UI_progress1_color.visible = false;\n        this.GetView().UI_progress2_color.visible = false;\n        this.GetView().UI_progress3_color.visible = false;\n        this.GetView().UI_progress4_color.visible = false;\n        this.GetView().UI_progress5_color.visible = false;\n        this.GetView().UI_progress6_color.visible = false;\n        this.GetView().UI_progress7_color.visible = false;\n        this.GetView().UI_progress8_color.visible = false;\n        this.GetView().UI_progress9_color.visible = false;\n    }\n\n    private UpdateStageUI() {\n        switch (this.nowstage) {\n            case 0: {\n                this.GetView().UI_progressColor_Panel.width = this.GetView().UI_progress0.left;\n                this.GetView().UI_progress0_color.visible = true;\n                break;\n            }\n            case 1: {\n                this.GetView().UI_progressColor_Panel.width = this.GetView().UI_progress1.left;\n                this.GetView().UI_progress1_color.visible = true;\n                break;\n            }\n            case 2: {\n                this.GetView().UI_progressColor_Panel.width = this.GetView().UI_progress2.left;\n                this.GetView().UI_progress2_color.visible = true;\n                break;\n            }\n            case 3: {\n                this.GetView().UI_progressColor_Panel.width = this.GetView().UI_progress3.left;\n                this.GetView().UI_progress3_color.visible = true;\n                break;\n            }\n            case 4: {\n                this.GetView().UI_progressColor_Panel.width = this.GetView().UI_progress4.left;\n                this.GetView().UI_progress4_color.visible = true;\n                break;\n            }\n            case 5: {\n                this.GetView().UI_progressColor_Panel.width = this.GetView().UI_progress5.left;\n                this.GetView().UI_progress5_color.visible = true;\n                break;\n            }\n            case 6: {\n                this.GetView().UI_progressColor_Panel.width = this.GetView().UI_progress6.left;\n                this.GetView().UI_progress6_color.visible = true;\n                break;\n            }\n            case 7: {\n                this.GetView().UI_progressColor_Panel.width = this.GetView().UI_progress7.left;\n                this.GetView().UI_progress7_color.visible = true;\n                break;\n            }\n            case 8: {\n                this.GetView().UI_progressColor_Panel.width = this.GetView().UI_progress8.left;\n                this.GetView().UI_progress8_color.visible = true;\n                break;\n            }\n            case 9: {\n                this.GetView().UI_progressColor_Panel.width = this.GetView().UI_progress9.left;\n                this.GetView().UI_progress9_color.visible = true;\n                break;\n            }\n        }\n\n    }\n\n    //更新标题\n    private UpdateStageTitle(gameConfig: GameConfigRow) {\n        let showtitle = gameConfig.titleConfigId > 0\n        this.GetView().UI_Title.visible = showtitle\n        if (showtitle) {\n            //显示标题\n            let titleConfig = ConfigManager.Instance.GetTitleConfig(gameConfig.titleConfigId);\n            this.GetView().UI_Title.skin = titleConfig.textRes;\n        }\n\n    }\n\n    private HideAllUI() {\n        this.GetView().UI_start_Btn.visible = false;\n        this.GetView().UI_start_Img.visible = false;\n        this.GetView().UI_progressContent_Panel.visible = true;\n        this.GetView().UI_text_Img.skin = \"\";\n        this.GetView().UI_content_Img.visible = false;\n        this.GetView().UI_textContent_Panel.visible = false;\n        this.GetView().UI_content_Label.align = \"left\";\n        this.GetView().UI_3DModelOpPrompt.visible = false;//不显示操作提示\n        if (CommonUtil.OnMiniGame()) {\n            if (this.video != null) {\n                WechatUtil.DestroyVideo(this.video)\n                this.video = null;\n            }\n        } else {\n            this.videoElement.style.width = 1 + \"\";\n            this.videoElement.style.height = 1 + \"\";\n        }\n\n        this.GetView().UI_next_Btn.visible = true;\n    }\n\n\n\n}\n\n","export enum EnumInputEvent {\r\n    TouchDown,\r\n    TouchUp,\r\n\r\n    SlideUp,\r\n    SlideDown,\r\n    SlideLeft,\r\n    SlideRight,\r\n\r\n    // TouchHolding, //正在按下\r\n}\r\n\r\nexport class InputEventData {\r\n    public InputType: EnumInputEvent;\r\n    public param: number;\r\n\r\n    constructor(inputType: EnumInputEvent, param: number = 0) {\r\n        this.InputType = inputType\r\n        this.param = param;\r\n    }\r\n}\r\n\r\nexport class InputComponent {\r\n\r\n    public get MouseDown(): boolean { return this.isMouseDown; }\r\n\r\n    private active: boolean;\r\n    //输入相关\r\n    private lastMouseX: number;  //最近一次按下的屏幕stage位置\r\n    private lastMouseY: number;\r\n    private isMouseDown: boolean; //是否按下\r\n    private touchDownID: number;  //按下的手指id\r\n    private touchDownTime: number;    //按下的时间\r\n\r\n    private touchSprite: Laya.Sprite;//手指接触区域\r\n    private onTouchDown: Function;//手指按下的回调 onTouchDown(mouseX: number, mouseY: number);  \r\n    private onTouchUp: Function;//手指抬起的回调\r\n    private onTouchMove: Function;//手指移动的回调 onTouchMove(offsetX: number, offsety: number) >0 right  屏幕左上角原点\r\n    private onTouchOut: Function;//手指移出的回调\r\n\r\n    constructor(touchSprite: Laya.Sprite,\r\n        onTouchDown: Function = null, onTouchUp: Function = null, onTouchMove: Function = null,\r\n        onTouchOut: Function = null) {\r\n        this.touchSprite = touchSprite;\r\n        this.onTouchDown = onTouchDown;\r\n        this.onTouchUp = onTouchUp;\r\n        this.onTouchMove = onTouchMove;\r\n        this.onTouchOut = onTouchOut;\r\n        this.Init();\r\n    }\r\n\r\n    private Init() {\r\n        this.isMouseDown = false;\r\n        this.SetActive(true)\r\n        this.AddEvent();\r\n    }\r\n\r\n    //是否激活input检测\r\n    public SetActive(active: boolean) {\r\n        this.active = active;\r\n    }\r\n\r\n    public Destroy() {\r\n        this.RemoveEvent();\r\n    }\r\n\r\n    private AddEvent() {\r\n        //注册鼠标事件\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n        Laya.stage.on(Laya.Event.MOUSE_OUT, this, this.mouseOut);\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.mouseMove);\r\n    }\r\n\r\n    private RemoveEvent() {\r\n        //鼠标事件\r\n        Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n        Laya.stage.off(Laya.Event.MOUSE_OUT, this, this.mouseOut);\r\n        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.mouseMove);\r\n    }\r\n\r\n    //鼠标按下\r\n    private mouseDown(e: Laya.Event): void {\r\n\r\n        if (!this.isMouseDown) {\r\n            this.lastMouseX = this.touchSprite.mouseX;// Laya.stage.mouseX;\r\n            this.lastMouseY = this.touchSprite.mouseY;//  Laya.stage.mouseY;\r\n            this.touchDownID = e.touchId;\r\n\r\n            this.touchDownTime = Laya.timer.currTimer;\r\n            this.isMouseDown = true;\r\n\r\n            //\r\n            if (!this.active) return;\r\n            if (this.onTouchDown) this.onTouchDown(this.lastMouseX, this.lastMouseY);\r\n        }\r\n    }\r\n    //鼠标抬起\r\n    private mouseUp(e: Laya.Event): void {\r\n        if (this.isMouseDown) {\r\n            //2018-12-13 10:21:45 要根据按下与抬起的时间进行计算平均值\r\n            if (e.touchId != this.touchDownID) return;\r\n\r\n            let mouseUpTime = Laya.timer.currTimer;\r\n            let deltaTime = (mouseUpTime - this.touchDownTime) / 1000; //落下,抬起间隔\r\n            this.isMouseDown = false;\r\n\r\n            // puremvc.Facade.instance.sendNotification(NotificationNames.InputEvent, new InputEventData(EnumInputEvent.TouchUp))\r\n            if (!this.active) return;\r\n            if (this.onTouchUp) this.onTouchUp();\r\n        }\r\n    }\r\n    //鼠标移出\r\n    private mouseOut(e: Laya.Event): void {\r\n        if (this.isMouseDown) {\r\n            //2018-12-13 10:21:45 要根据按下与抬起的时间进行计算平均值\r\n            if (e.touchId != this.touchDownID) return;\r\n\r\n            let mouseUpTime = Laya.timer.currTimer;\r\n            let deltaTime = (mouseUpTime - this.touchDownTime) / 1000;\r\n            this.isMouseDown = false;\r\n\r\n            if (!this.active) return;\r\n            if (this.onTouchOut) this.onTouchOut();\r\n        }\r\n    }\r\n\r\n    private mouseMove(e: Laya.Event): void {\r\n        if (!this.active) return;\r\n        if (e.touchId != this.touchDownID) return;\r\n        if (this.isMouseDown) {\r\n            let offsetX = this.touchSprite.mouseX - this.lastMouseX;//>0 right  屏幕左上角原点\r\n            let offsety = this.touchSprite.mouseY - this.lastMouseY;\r\n            this.lastMouseX = this.touchSprite.mouseX;\r\n            this.lastMouseY = this.touchSprite.mouseY;\r\n\r\n            if (this.onTouchMove) this.onTouchMove(offsetX, offsety)\r\n\r\n        }\r\n    }\r\n\r\n}","/**\n* Created By Code Generator\n*/\nimport Facade = puremvc.Facade;\nimport View = Laya.View;\nimport { BaseUICtrl } from \"../BaseUICtrl\";\nimport { WindowContextDataBase } from \"../UIParamStruct\";\nimport { ui } from \"../../../ui/layaMaxUI\";\nimport { UIID } from \"../UIIDDefine\";\nimport { NotificationNames } from \"../../data/const/NotificationNames\";\nimport { EnumInputEvent, InputEventData } from \"../../../framework/input/InputComponent\";\nimport { TimeManager } from \"../../../framework/utils/timer/TimeManager\";\nimport { cbhandler } from \"../../../framework/utils/timer/cbhandler\";\nimport Log from \"../../../framework/utils/Log\";\nimport { GameUIManager } from \"../../manager/GameUIManager\";\n\nexport class CalibrationUIUIController extends BaseUICtrl {\n\n    rotationSpeed = 0.4;\n    ispointer = false;\n\n    isclockwise = true;\n\n    private timerKey:number;\n\n    constructor(view: View) {\n        super(view);\n    }\n\n    public GetView(): ui.uiprefab.CalibrationUIUI {\n        return this.uiView as ui.uiprefab.CalibrationUIUI;\n    }\n\n    /**\n     * @override\n     */\n    public Init(parent: Laya.Sprite, id: UIID, context: WindowContextDataBase = null, onResized: Function = null) {\n        super.Init(parent, id, context, onResized);\n        this.mediatorName = UIID.CalibrationUIUIID.toString();\n\n        //添加舞台\n        parent.addChild(this.uiView)\n        this.uiView.zOrder = this.uiConfig.depth;\n\n\n        this.RegisterEvent();\n    }\n\n    //自适应\n    protected OnUIResize(onResized: Function = null) {\n        super.OnUIResize(onResized)\n    }\n\n    /**\n     * @override\n     */\n    //ui动画执行前\n    protected BeforeUIOpen(context: WindowContextDataBase = null) {\n        super.BeforeUIOpen(context);\n    }\n    /**\n    * @override\n    */\n    //ui打开动画完成\n    protected OnUIOpened(context: WindowContextDataBase = null) {\n\n\n        //将super.OnUIOpened()放最后执行\n        super.OnUIOpened(context);\n\n        this.InitData();\n\n\n     \n    }\n    /**\n     * @override\n     */\n    //ui关闭动画完成\n    protected OnUIHide() {\n        TimeManager.Instance.remove(this.timerKey);\n        super.OnUIHide();\n    }\n    /**\n     * @override\n     */\n    protected BeforeUIDestroy() {\n        this.RemoveEvent();\n    }\n\n    private RegisterEvent(): void {\n        Facade.getInstance().registerMediator(this)\n\n\n    }\n    private RemoveEvent(): void {\n        Facade.getInstance().removeMediator(this.getMediatorName());\n\n\n\n    }\n\n\n\n    /**\n     * @override\n     */\n    listNotificationInterests(): string[] {\n        let list = super.listNotificationInterests();\n        return list.concat([\n            NotificationNames.InputEvent\n        ]);\n    }\n\n    /**\n    * @override\n    */\n    handleNotification(note: puremvc.INotification): void {\n        if (!this.GetView().visible) return;\n        super.handleNotification(note)\n        switch (note.getName()) {\n            case NotificationNames.InputEvent: {\n                let InputEvent: InputEventData = note.getBody();\n                if (InputEvent.InputType == EnumInputEvent.TouchDown) {\n                    let a = this.GetView().UI_prompt.visible\n                    if (this.GetView().UI_prompt.visible || this.GetView().UI_mistake.visible) {\n                        this.GetView().UI_prompt.visible = false;\n                        this.GetView().UI_mistake.visible = false;\n                        // this.range();\n                        this.ispointer = true;\n                    }\n                    else if (!this.GetView().UI_prompt.visible) {\n                        this.ispointer = false;\n                        this.isstop=false;\n                    }\n                }\n\n                break;\n            }\n        }\n    }\n\n    InitData(): void {\n        this.stoptime= 5;\n        this.scopeMin = 0;\n        this.scopeMax = 0;\n        this.GetView().UI_prompt.visible = true;\n        this.GetView().UI_PauseZone1.visible = false;\n        this.GetView().UI_PauseZone2.visible = false;\n        this.GetView().UI_PauseZone3.visible = false;\n        this.GetView().UI_PauseZone4.visible = false;\n        this.GetView().UI_mistake.visible = false;\n\n        this.ispointer = false;\n        this.isstop=true;\n        this.timerKey= TimeManager.Instance.addUpdater(cbhandler.gen_handler(this.Update, this))\n        this.range();\n\n    }\n    scopeMin = 0;\n    scopeMax = 0;\n    range(): void {\n        let num = Math.random()\n        if (num <= 0.25) {\n            this.GetView().UI_PauseZone1.visible = true;\n            this.scopeMin = -25;\n            this.scopeMax = -7;\n        }\n        else if (num <= 0.5) {\n            this.GetView().UI_PauseZone2.visible = true;\n            this.scopeMin = -145;\n            this.scopeMax = -127;\n        }\n        else if (num <= 0.75) {\n            this.GetView().UI_PauseZone3.visible = true;\n            this.scopeMin = -111;\n            this.scopeMax = -93;\n        }\n        else {\n            this.GetView().UI_PauseZone4.visible = true;\n            this.scopeMin = -71;\n            this.scopeMax = -51;\n        }\n    }\n    stoptime=5//指针停止后的停留时间\n    isstop=true;\n    Update() {\n        if (this.ispointer) {\n            this.pointerRotation();\n\n        }\n      if(!this.isstop){\n            this.stoptime-=Laya.timer.delta/100\n            if(this.stoptime<=0){\n                this.isstop=true;\n                if (this.GetView().UI_pointer.rotation < this.scopeMin || this.GetView().UI_pointer.rotation > this.scopeMax) {\n                    this.GetView().UI_mistake.visible = true;\n                    this.stoptime= 5;\n                }\n                else {\n                    this.facade.sendNotification(NotificationNames.HIDEUI,UIID.CalibrationUIUIID)\n                    this.sendNotification(NotificationNames.NEXT_STAGE);\n                }\n            }\n        }\n    }\n\n    pointerRotation() {\n        if (this.isclockwise) {\n            this.GetView().UI_pointer.rotation += this.rotationSpeed*Laya.timer.delta;\n            if (this.GetView().UI_pointer.rotation >= 55) {\n                this.isclockwise = false;\n                this.GetView().UI_pointer.rotation = 55\n            }\n        }\n        else if (!this.isclockwise) {\n            this.GetView().UI_pointer.rotation -= this.rotationSpeed*Laya.timer.delta;\n            if (this.GetView().UI_pointer.rotation <= -184) {\n                this.isclockwise = true;\n                this.GetView().UI_pointer.rotation = -185\n            }\n        }\n\n    }\n}\n\n","/**\n* Created By Code Generator\n*/\nimport Facade = puremvc.Facade;\nimport View = Laya.View;\nimport { BaseUICtrl } from \"../BaseUICtrl\";\nimport { WindowContextDataBase } from \"../UIParamStruct\";\nimport { ui } from \"../../../ui/layaMaxUI\";\nimport { UIID } from \"../UIIDDefine\";\nimport { NotificationNames } from \"../../data/const/NotificationNames\";\n\nexport class ColorMatchingUIUIController extends BaseUICtrl {\n\n    private totalClick: number = 0;\n\n    private greenCount: number = 0;\n\n    private blackCount: number = 0;\n\n    constructor(view: View) {\n        super(view);\n    }\n\n    public GetView(): ui.uiprefab.ColorMatchingUIUI {\n        return this.uiView as ui.uiprefab.ColorMatchingUIUI;\n    }\n\n    /**\n     * @override\n     */\n    public Init(parent: Laya.Sprite, id: UIID, context: WindowContextDataBase = null, onResized: Function = null) {\n        super.Init(parent, id, context, onResized);\n        this.mediatorName = UIID.ColorMatchingUIUIID.toString();\n\n        //添加舞台\n        parent.addChild(this.uiView)\n        this.uiView.zOrder = this.uiConfig.depth;\n\n\n        this.RegisterEvent();\n    }\n\n    //自适应\n    protected OnUIResize(onResized: Function = null) {\n        super.OnUIResize(onResized)\n    }\n\n    /**\n     * @override\n     */\n    //ui动画执行前\n    protected BeforeUIOpen(context: WindowContextDataBase = null) {\n        super.BeforeUIOpen(context);\n    }\n    /**\n    * @override\n    */\n    //ui打开动画完成\n    protected OnUIOpened(context: WindowContextDataBase = null) {\n        //this.GetView().alpha=1;\n        this.ReDataAndUI();\n        //将super.OnUIOpened()放最后执行\n        super.OnUIOpened(context);\n    }\n    /**\n     * @override\n     */\n    //ui关闭动画完成\n    protected OnUIHide() {\n        super.OnUIHide();\n    }\n    /**\n     * @override\n     */\n    protected BeforeUIDestroy() {\n        this.RemoveEvent();\n    }\n\n    private RegisterEvent(): void {\n        Facade.getInstance().registerMediator(this)\n        this.GetView().UI_yellow_Btn.on(Laya.Event.CLICK, this, this.OnUI_yellow_BtnClick);\n        this.GetView().UI_black_Btn.on(Laya.Event.CLICK, this, this.OnUI_black_BtnClick);\n        this.GetView().UI_green_Btn.on(Laya.Event.CLICK, this, this.OnUI_green_BtnClick);\n        this.GetView().UI_wrong_Img.on(Laya.Event.CLICK, this, this.OnUI_wrong_ImgClick);\n\n\n    }\n    private RemoveEvent(): void {\n        Facade.getInstance().removeMediator(this.getMediatorName());\n        this.GetView().UI_yellow_Btn.off(Laya.Event.CLICK, this, this.OnUI_yellow_BtnClick);\n        this.GetView().UI_black_Btn.off(Laya.Event.CLICK, this, this.OnUI_black_BtnClick);\n        this.GetView().UI_green_Btn.off(Laya.Event.CLICK, this, this.OnUI_green_BtnClick);\n        this.GetView().UI_wrong_Img.off(Laya.Event.CLICK, this, this.OnUI_wrong_ImgClick);\n    }\n\n\n\n\n    private OnUI_yellow_BtnClick() {\n        console.log(\"黄\")\n        this.totalClick++;\n        this.OnClick(\"y\")\n        if (this.totalClick >= 3) {\n            this.CheckRight();\n        }\n    }\n\n\n\n    private OnUI_black_BtnClick() {\n        console.log(\"黑\")\n        this.totalClick++\n        this.blackCount++;\n        this.OnClick(\"b\")\n        if (this.totalClick >= 3) {\n            this.CheckRight();\n        }\n    }\n\n\n\n    private OnUI_green_BtnClick() {\n        console.log(\"绿\")\n        this.totalClick++;\n        this.greenCount++;\n        this.OnClick(\"g\")\n        if (this.totalClick >= 3) {\n            this.CheckRight();\n        }\n    }\n\n    private OnUI_wrong_ImgClick() {\n        this.ReDataAndUI();\n    }\n\n\n    //初始化颜色\n    private OnInitColor() {\n        this.GetView().UI_Block1.skin = null;\n        this.GetView().UI_Block2.skin = null;\n        this.GetView().UI_Block3.skin = null;\n    }\n\n    //点选颜色\n    private OnClick(color: string) {\n        if (this.totalClick == 1) {\n            this.GetView().UI_Block1.skin = \"largeImg/BronzeWareImg/9/\" + color + \".png\"\n        } else if (this.totalClick == 2) {\n            this.GetView().UI_Block2.skin = \"largeImg/BronzeWareImg/9/\" + color + \".png\"\n        } else {\n            this.GetView().UI_Block3.skin = \"largeImg/BronzeWareImg/9/\" + color + \".png\"\n        }\n    }\n\n    /**\n     * @override\n     */\n    listNotificationInterests(): string[] {\n        let list = super.listNotificationInterests();\n        return list.concat([\n\n        ]);\n    }\n\n    /**\n    * @override\n    */\n    handleNotification(note: puremvc.INotification): void {\n        if (!this.GetView().visible) return;\n        super.handleNotification(note)\n        switch (note.getName()) {\n\n        }\n    }\n\n    private CheckRight() {\n        if (this.greenCount == 2 && this.blackCount == 1) {//正确\n            this.facade.sendNotification(NotificationNames.HIDEUI, UIID.ColorMatchingUIUIID);\n            //this.GetView().alpha=0;\n            this.facade.sendNotification(NotificationNames.NEXT_STAGE)\n        } else {//错误\n            this.GetView().UI_wrong_Img.visible = true;\n        }\n    }\n\n    private ReDataAndUI() {\n        this.greenCount = 0;\n        this.blackCount = 0;\n        this.totalClick = 0;\n        this.GetView().UI_wrong_Img.visible = false;\n        this.OnInitColor();\n    }\n}\n\n","/**\n* Created By Code Generator\n*/\nimport Facade = puremvc.Facade;\nimport View = Laya.View;\nimport { BaseUICtrl } from \"../BaseUICtrl\";\nimport { WindowContextDataBase } from \"../UIParamStruct\";\nimport { ui } from \"../../../ui/layaMaxUI\";\nimport { UIID } from \"../UIIDDefine\";\nimport { NotificationNames } from \"../../data/const/NotificationNames\";\n\nexport class EndUIUIController extends BaseUICtrl {\n    constructor(view: View) {\n        super(view);\n    }\n\n    public GetView(): ui.uiprefab.EndUIUI {\n        return this.uiView as ui.uiprefab.EndUIUI;\n    }\n\n    /**\n     * @override\n     */\n    public Init(parent: Laya.Sprite, id: UIID, context: WindowContextDataBase = null, onResized: Function = null) {\n        super.Init(parent, id, context, onResized);\n        this.mediatorName = UIID.EndUIUIID.toString();\n\n        //添加舞台\n        parent.addChild(this.uiView)\n        this.uiView.zOrder = this.uiConfig.depth;\n\n\n        this.RegisterEvent();\n    }\n\n    //自适应\n    protected OnUIResize(onResized: Function = null) {\n        super.OnUIResize(onResized)\n    }\n\n    /**\n     * @override\n     */\n    //ui动画执行前\n    protected BeforeUIOpen(context: WindowContextDataBase = null) {\n        super.BeforeUIOpen(context);\n    }\n    /**\n    * @override\n    */\n    //ui打开动画完成\n    protected OnUIOpened(context: WindowContextDataBase = null) {\n\n\n        //将super.OnUIOpened()放最后执行\n        super.OnUIOpened(context);\n        this.InitData();\n    }\n    /**\n     * @override\n     */\n    //ui关闭动画完成\n    protected OnUIHide() {\n        super.OnUIHide();\n    }\n    /**\n     * @override\n     */\n    protected BeforeUIDestroy() {\n        this.RemoveEvent();\n    }\n\n    private RegisterEvent(): void {\n        Facade.getInstance().registerMediator(this)\n        this.GetView().UI_End1Btn.on(Laya.Event.MOUSE_DOWN, this, this.OnUI_End1BtnMOUSE_DOWN);\n        this.GetView().UI_End2Btn.on(Laya.Event.MOUSE_UP, this, this.OnUI_End2BtnMOUSE_UP);\n\n    }\n    private RemoveEvent(): void {\n        Facade.getInstance().removeMediator(this.getMediatorName());\n\n        this.GetView().UI_End1Btn.off(Laya.Event.MOUSE_DOWN, this, this.OnUI_End1BtnMOUSE_DOWN);\n        this.GetView().UI_End2Btn.off(Laya.Event.MOUSE_UP, this, this.OnUI_End2BtnMOUSE_UP);\n\n    }\n\n\n    private OnUI_End1BtnMOUSE_DOWN() {\n        this.GetView().UI_End1Btn.visible = false;\n        this.GetView().UI_End2Btn.visible = true;\n    }\n    private OnUI_End2BtnMOUSE_UP() {\n        this.GetView().UI_End2Btn.visible = false;\n        this.GetView().UI_End1Btn.visible = true;\n        this.facade.sendNotification(NotificationNames.HIDEUI, UIID.EndUIUIID);\n        this.facade.sendNotification(NotificationNames.RESTART_GAME);\n    }\n\n\n    /**\n     * @override\n     */\n    listNotificationInterests(): string[] {\n        let list = super.listNotificationInterests();\n        return list.concat([\n\n        ]);\n    }\n\n    /**\n    * @override\n    */\n    handleNotification(note: puremvc.INotification): void {\n        if (!this.GetView().visible) return;\n        super.handleNotification(note)\n        switch (note.getName()) {\n\n        }\n    }\n\n    InitData() {\n        this.GetView().UI_End1Btn.visible = true;\n        this.GetView().UI_End2Btn.visible = false;\n    }\n}\n\n","/**\n* Created By Code Generator\n*/\nimport Facade = puremvc.Facade;\nimport View = Laya.View;\nimport { BaseUICtrl } from \"../BaseUICtrl\";\nimport { WindowContextDataBase } from \"../UIParamStruct\";\nimport { ui } from \"../../../ui/layaMaxUI\";\nimport { UIID } from \"../UIIDDefine\";\nimport { NotificationNames } from \"../../data/const/NotificationNames\";\nimport { EnumInputEvent, InputEventData } from \"../../../framework/input/InputComponent\";\nimport { GameUIManager } from \"../../manager/GameUIManager\";\n\nexport class StartUIUIController extends BaseUICtrl {\n    constructor(view: View) {\n        super(view);\n    }\n\n    public GetView(): ui.uiprefab.StartUIUI {\n        return this.uiView as ui.uiprefab.StartUIUI;\n    }\n\n    /**\n     * @override\n     */\n    public Init(parent: Laya.Sprite, id: UIID, context: WindowContextDataBase = null, onResized: Function = null) {\n        super.Init(parent, id, context, onResized);\n        this.mediatorName = UIID.StartUIUIID.toString();\n\n        //添加舞台\n        parent.addChild(this.uiView)\n        this.uiView.zOrder = this.uiConfig.depth;\n\n        \n        this.RegisterEvent();\n    }\n\n    //自适应\n    protected OnUIResize(onResized: Function = null) {\n        super.OnUIResize(onResized)\n    }\n\n    /**\n     * @override\n     */\n    //ui动画执行前\n    protected BeforeUIOpen(context: WindowContextDataBase = null) {\n        super.BeforeUIOpen(context);\n    }\n    /**\n    * @override\n    */\n    //ui打开动画完成\n    protected OnUIOpened(context: WindowContextDataBase = null) {\n       \n      \n       \n       //将super.OnUIOpened()放最后执行\n        super.OnUIOpened(context);\n        this.InitData();\n        // Laya.stage.addChild(this.uiView)\n        // GameUIManager.Instance.Init();\n        // GameUIManager.Instance.AddPrefab();\n\n    }\n    /**\n     * @override\n     */\n    //ui关闭动画完成\n    protected OnUIHide() {\n        super.OnUIHide();\n    }\n    /**\n     * @override\n     */\n    protected BeforeUIDestroy() {\n        this.RemoveEvent();\n    }\n\n    private RegisterEvent(): void {\n        Facade.getInstance().registerMediator(this)\n       this.GetView().UI_Start1Btn.on(Laya.Event.MOUSE_DOWN, this, this.OnUI_Start1BtnMOUSE_DOWN);\n       this.GetView().UI_Start2Btn.on(Laya.Event.MOUSE_UP, this, this.OnUI_Start2BtnMOUSE_UP);\n\n\n    }\n    private RemoveEvent(): void {\n        Facade.getInstance().removeMediator(this.getMediatorName());\n        this.GetView().UI_Start1Btn.off(Laya.Event.MOUSE_DOWN, this, this.OnUI_Start1BtnMOUSE_DOWN);\n        this.GetView().UI_Start2Btn.off(Laya.Event.MOUSE_UP, this, this.OnUI_Start2BtnMOUSE_UP);\n\n\n\n    }\n\n    private OnUI_Start1BtnMOUSE_DOWN() {\n        this.GetView().UI_Start1Btn.visible=false;\n        GameUIManager.Instance.RemovePrefab();\n    }\n    private OnUI_Start2BtnMOUSE_UP() {\n\n        this.GetView().UI_Start1Btn.visible=true;\n        this.facade.sendNotification(NotificationNames.HIDEUI,UIID.StartUIUIID);\n\n        this.facade.sendNotification(NotificationNames.OPENUI,UIID.BronzewareContentUIUIID);\n        this.GetView().UI_Start1Btn.mouseEnabled=false;\n    }\n    /**\n     * @override\n     */\n    listNotificationInterests(): string[] {\n       let list = super.listNotificationInterests();\n       return list.concat([\n        NotificationNames.InputEvent\n        ]);\n    }\n\n    /**\n    * @override\n    */\n    handleNotification(note: puremvc.INotification): void {\n       if (!this.GetView().visible) return;\n       super.handleNotification(note)\n        switch (note.getName()) {\n            case NotificationNames.InputEvent: {\n                let InputEvent: InputEventData = note.getBody();\n                if (InputEvent.InputType == EnumInputEvent.TouchDown) {\n                    // this.GetView().UI_Start1Btn.visible=false;\n                }\n                else if(InputEvent.InputType == EnumInputEvent.TouchUp){\n                    // this.GetView().UI_Start1Btn.visible=true;\n                    // this.facade.sendNotification(NotificationNames.OPENUI,UIID.CalibrationUIUIID);\n\n                }\n                break;\n            }\n        }\n    }\n    InitData(){\n        this.GetView().UI_Start1Btn.mouseEnabled=true;\n    }\n}\n\n","import { UIID } from \"./UIIDDefine\";\nimport { BaseUICtrl } from \"./BaseUICtrl\";\nimport { ui } from \"../../ui/layaMaxUI\";\nimport ResourceManager from \"../../framework/resourceManager/ResourceManager\";\nimport { ConfigManager } from \"../manager/ConfigManager\";\nimport { BronzewareContentUIUIController } from \"./uicontrollers/BronzewareContentUIUIController\";\nimport { CalibrationUIUIController } from \"./uicontrollers/CalibrationUIUIController\";\nimport { ColorMatchingUIUIController } from \"./uicontrollers/ColorMatchingUIUIController\";\nimport { EndUIUIController } from \"./uicontrollers/EndUIUIController\";\nimport { LoadingUIUIController } from \"./uicontrollers/LoadingUIUIController\";\nimport { StartUIUIController } from \"./uicontrollers/StartUIUIController\";\n\n\nexport class UIFactory {\n\tconstructor() { }\n\n\tpublic static Create(id: UIID, onCtrlCreated: Function) {\n\t\tlet config = ConfigManager.Instance.GetUIConfig(id);\n\t\t//异步加载分离模式的uijson文件, 返回uicontroller\n\t\tlet webPathPrefix = config && config.UIWebPathPrefix ? config.UIWebPathPrefix : \"\";\n\t\tlet prefabPath = this.GetUIPrefabPath(id);\n\t\tif (prefabPath == \"\") {\n\t\t\t//内嵌模式\n\t\t\tlet baseUICtrl = this.GetUIController(id);\n\t\t\tonCtrlCreated(baseUICtrl);\n\t\t} else {\n\t\t\t//分离模式 先加载prefab.json\n\t\t\tResourceManager.Instance.LoadRes(webPathPrefix + this.GetUIPrefabPath(id), () => {\n\t\t\t\tlet baseUICtrl = this.GetUIController(id);\n\t\t\t\tonCtrlCreated(baseUICtrl);\n\t\t\t})\n\t\t}\n\t}\n\tprivate static GetUIController(id: UIID): BaseUICtrl {\n\t\tswitch (id) {\n\n\t\t\tcase UIID.BronzewareContentUIUIID:\n\t\t\t\treturn new BronzewareContentUIUIController(new ui.uiprefab.BronzewareContentUIUI());\n\t\t\tcase UIID.CalibrationUIUIID:\n\t\t\t\treturn new CalibrationUIUIController(new ui.uiprefab.CalibrationUIUI());\n\t\t\tcase UIID.ColorMatchingUIUIID:\n\t\t\t\treturn new ColorMatchingUIUIController(new ui.uiprefab.ColorMatchingUIUI());\n\t\t\tcase UIID.EndUIUIID:\n\t\t\t\treturn new EndUIUIController(new ui.uiprefab.EndUIUI());\n\t\t\tcase UIID.LoadingUIUIID:\n\t\t\t\treturn new LoadingUIUIController(new ui.uiprefab.LoadingUIUI());\n\t\t\tcase UIID.StartUIUIID:\n\t\t\t\treturn new StartUIUIController(new ui.uiprefab.StartUIUI());\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tpublic static GetUIPrefabPath(id: UIID): string {\n\t\tswitch (id) {\n\n\t\t\tcase UIID.BronzewareContentUIUIID:\n\t\t\t\treturn \"uiprefab/BronzewareContentUI.scene\";\n\t\t\tcase UIID.CalibrationUIUIID:\n\t\t\t\treturn \"uiprefab/CalibrationUI.scene\";\n\t\t\tcase UIID.ColorMatchingUIUIID:\n\t\t\t\treturn \"uiprefab/ColorMatchingUI.scene\";\n\t\t\tcase UIID.EndUIUIID:\n\t\t\t\treturn \"uiprefab/EndUI.scene\";\n\t\t\tcase UIID.LoadingUIUIID:\n\t\t\t\treturn \"\";\n\t\t\tcase UIID.StartUIUIID:\n\t\t\t\treturn \"uiprefab/StartUI.scene\";\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\r\n","export class ZOrderDefine {\r\n    // public static BOTTOM_UI = 0;\r\n    public static UI = 500;\r\n\r\n}","import Dictionary from \"../../framework/utils/Dictionary\";\r\nimport ResourceManager from \"../../framework/resourceManager/ResourceManager\";\r\nimport { UIID } from \"./UIIDDefine\";\r\nimport { BaseUICtrl, UIAutoCloseType, UIShowType } from \"./BaseUICtrl\";\r\nimport { ConfigManager } from \"../manager/ConfigManager\";\r\nimport { NotificationNames } from \"../data/const/NotificationNames\";\r\nimport { UIParamStruct, WindowContextDataBase } from \"./UIParamStruct\";\r\nimport { UIFactory } from \"./UIFactory\";\r\nimport { ZOrderDefine } from \"../data/const/ZOrderDefine\";\r\nimport Log from \"../../framework/utils/Log\";\r\nimport { LoadingUIUIController } from \"./uicontrollers/LoadingUIUIController\";\r\n/**\r\n* name \r\n*/\r\n// module ui {\r\nexport class UIMediator extends puremvc.Mediator {\r\n\r\n\tprivate initCallback: Function;\r\n\r\n\tprivate uiParent: Laya.Sprite; //UI的父节点\r\n\tprivate allUIDic: Dictionary;\r\n\tprivate showUIDic: Dictionary;\r\n\tprivate loadingUIDic: Dictionary; //正在加载的UI\r\n\r\n\tprivate static _instance: UIMediator;\r\n\tpublic static GetInstance(): UIMediator {\r\n\t\tif (UIMediator._instance == null) {\r\n\t\t\tUIMediator._instance = new UIMediator();\r\n\t\t}\r\n\t\treturn UIMediator._instance;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tpuremvc.Facade.getInstance().registerMediator(this);\r\n\t}\r\n\r\n\t//初始化UI, 加载图集\r\n\t//callback 初始化完成回调\r\n\tpublic Init(callback: () => void): void {\r\n\t\tthis.allUIDic = new Dictionary();\r\n\t\tthis.showUIDic = new Dictionary();\r\n\t\tthis.loadingUIDic = new Dictionary();\r\n\t\t//父节点\r\n\t\tthis.uiParent = new Laya.Sprite();\r\n\t\tthis.uiParent.name = \"uiparentNode\"\r\n\t\tLaya.stage.addChild(this.uiParent);\r\n\t\tthis.uiParent.zOrder = ZOrderDefine.UI //默认0会被Scene场景遮挡\r\n\r\n\t\tthis.initCallback = callback;\r\n\r\n\t\tvar loadItem =\r\n\t\t\t[\r\n\t\t\t\t//需要进度条之类的可以放在这里加载\r\n\r\n\t\t\t]\r\n\r\n\t\tif (loadItem.length > 0) {\r\n\t\t\tResourceManager.Instance.LoadResArray(loadItem, () => {\r\n\t\t\t\tthis.onFinishInit();\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.onFinishInit();\r\n\t\t}\r\n\t}\r\n\r\n\t//统一初始化的ui图集资源, 时间点可以和common图集的不同\r\n\tpublic GetResItem(arrItem) {\r\n\t\tvar m_LoadItem =\r\n\t\t\t[\r\n\t\t\t\t// { url: \"res/atlas/common.atlas\", type: Laya.Loader.ATLAS },\r\n\t\t\t\t{ url: \"unpack.json\", type: Laya.Loader.JSON },\r\n\t\t\t]\r\n\t\tfor (let i: number = 0; i < m_LoadItem.length; i++) {\r\n\t\t\tarrItem.push(m_LoadItem[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onFinishInit(): void {\r\n\t\tif (this.initCallback != null) {\r\n\t\t\tthis.initCallback();\r\n\t\t}\r\n\t}\r\n\t//end 初始化---\r\n\r\n\t//打开/关闭------------------------\r\n\tpublic Open(id: UIID, context: WindowContextDataBase = null): void {\r\n\t\tif (this.IsLoadingUI(id)) {\r\n\t\t\tLog.Warn(\"UI正在打开, 不重复打开.\" + id.toString())\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.IsShowing(id)) {\r\n\t\t\tLog.Warn(\"UI已经打开, 不重复打开.\" + id.toString())\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//添加正在加载中\r\n\t\tthis.AddLoadingUI(id);\r\n\r\n\t\t//图集是否加载, 否则先加载图集\r\n\t\tlet config = ConfigManager.Instance.GetUIConfig(id);\r\n\t\tif (config && config.showLoading) {\r\n\t\t\tLoadingUIUIController.Instance.SetActive(true, null, null, \"UI资源准备中...\")\r\n\t\t\tLoadingUIUIController.Instance.SetLoadingActive(true)\r\n\t\t}\r\n\t\t//Log.Debug(\"laod atlas \" + new Date().toLocaleTimeString())\r\n\t\tlet startFrame = Laya.timer.currFrame;\r\n\t\tthis.loadAtlasBeforeOpen(id,\r\n\t\t\t() => {\r\n\t\t\t\t//Log.Debug(\"laod atlas loaed\" + new Date().toLocaleTimeString())\r\n\t\t\t\tthis.prepareUI(id, this.uiParent, (uictrl) => {\r\n\t\t\t\t\t//Log.Debug(\"atlas prepared\" + new Date().toLocaleTimeString())\r\n\t\t\t\t\tlet onLoadingClosed = () => {\r\n\t\t\t\t\t\tthis.doBeforeUIOpen(id);//打开ui前操作\r\n\t\t\t\t\t\tuictrl.Open(context);\r\n\t\t\t\t\t\tthis.AddShowUI(id, uictrl);\r\n\t\t\t\t\t\tthis.RemoveLoadingUI(id);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (config && config.showLoading) {\r\n\t\t\t\t\t\tlet offset = Laya.timer.currFrame - startFrame; //一个frame内加载完, 说明图集有缓存\r\n\t\t\t\t\t\t//Log.Debug(\"on atlas loaded \" + offset)\r\n\t\t\t\t\t\tLoadingUIUIController.Instance.SetActive(false, offset <= 0, onLoadingClosed)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tonLoadingClosed();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, context);\r\n\t\t\t},\r\n\t\t\t(progress) => {\r\n\t\t\t\t//显示进度\r\n\t\t\t\tif (config && config.showLoading) this.sendNotification(NotificationNames.LoadingUIProgress, progress)\r\n\t\t\t})\r\n\t}\r\n\r\n\t/**\r\n\t * 生成对应的uictrl\r\n\t * @param id \r\n\t * @param parent \r\n\t * @param onUIPrepared \r\n\t */\r\n\tprivate prepareUI(id: UIID, parent: Laya.Sprite, onUIPrepared: Function, context: WindowContextDataBase = null) {\r\n\t\tlet uictrl = this.allUIDic.get(id) as BaseUICtrl;\r\n\t\tif (uictrl == null) {\r\n\t\t\tUIFactory.Create(id, (createduiCtrl: BaseUICtrl) => {\r\n\t\t\t\t//Log.Debug(\"UI created\" + new Date().toLocaleTimeString())\r\n\t\t\t\tuictrl = createduiCtrl;\r\n\t\t\t\tlet callback: Function = () => {//等ui适配完成, 再打开UI, 否则新手引导CommonUtil切换父节点位置不对.\r\n\t\t\t\t\tthis.AddInstantiated(id, uictrl)\r\n\t\t\t\t\tonUIPrepared(uictrl)\r\n\t\t\t\t}\r\n\t\t\t\tuictrl.Init(parent, id, context, () => {\r\n\t\t\t\t\t//Log.Debug(\"UI init\" + new Date().toLocaleTimeString())\r\n\t\t\t\t\tlet temp = callback;\r\n\t\t\t\t\tcallback = null;\r\n\t\t\t\t\tif (temp) temp(); //resize 会回调多次, 只执行一次就可以, 在UITween动画时候回连续触发Resize信息\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tonUIPrepared(uictrl)\r\n\t\t}\r\n\t\t// return uictrl;\r\n\t}\r\n\r\n\t/**\r\n\t * 隐藏ui\r\n\t * @param id \r\n\t * @param isAuto 是否是UI打开前, 根据配置自动关闭其他 \r\n\t */\r\n\tpublic Hide(id: UIID, isAuto: boolean = false, callback = null): void {\r\n\t\tif (isAuto) {\r\n\t\t\t//自动关闭, 检测是否会被其他ui关闭\r\n\t\t\tlet config = ConfigManager.Instance.GetUIConfig(id);\r\n\t\t\tif (config && config.uiAutoCloseType == UIAutoCloseType.NotAffectedByOthers) return;\r\n\t\t}\r\n\t\tlet uictrl = this.GetShowUI(id);\r\n\t\tif (uictrl != null) {\r\n\t\t\tuictrl.Hide(() => {\r\n\t\t\t\tthis.RemoveShowUI(id);\r\n\t\t\t\tif (callback) callback();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 隐藏全部UI\r\n\t * @param isAuto 是否是UI打开前, 根据配置自动关闭其他 \r\n\t */\r\n\tpublic HideAll(isAuto: boolean = false) {\r\n\t\tlet idArray = this.showUIDic.keys;\r\n\t\tidArray.forEach(id => {\r\n\t\t\tthis.Hide(id, isAuto)\r\n\t\t});\r\n\t}\r\n\t//end 打开/关闭---\r\n\r\n\t//销毁---\r\n\tpublic Destroy(id: UIID): void {\r\n\t\tlet uictrl = this.GetInstantiated(id);\r\n\t\tif (uictrl != null) {\r\n\t\t\tthis.Hide(id, false, () => {\r\n\t\t\t\tuictrl.Destroy();\r\n\t\t\t\tthis.RemoveInstantiated(id);\r\n\t\t\t\tthis.releaseAtlasOnDestory(id)//卸载图集\r\n\t\t\t\tthis.releaseUnpackImageOnDestory(id)//卸载散图\r\n\t\t\t});//从showuiDic删除\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic DestroyAll() {\r\n\t\t//复制所有ui的key, 防止循环中删除key\r\n\t\tlet keys = []\r\n\t\tfor (let index = 0; index < this.allUIDic.keys.length; index++) {\r\n\t\t\tlet element = this.allUIDic.keys[index];\r\n\t\t\tkeys.push(element)\r\n\t\t}\r\n\t\t//destory所有\r\n\t\tfor (var index = 0; index < keys.length; index++) {\r\n\t\t\tvar element = keys[index];\r\n\t\t\tthis.Destroy(element)\r\n\t\t}\r\n\t\tthis.showUIDic.clear();\r\n\t\tthis.allUIDic.clear();\r\n\t\tthis.loadingUIDic.clear();\r\n\t}\r\n\t//end 销毁------\r\n\r\n\t//private tools------------------------------------------------------------------------------\r\n\r\n\t//已经打开的UI\r\n\tprivate IsShowing(id: UIID): boolean {\r\n\t\treturn this.showUIDic.get(id) != null;\r\n\t}\r\n\tprivate GetShowUI(id: UIID): BaseUICtrl {\r\n\t\treturn this.showUIDic.get(id) as BaseUICtrl;\r\n\t}\r\n\tprivate AddShowUI(id: UIID, showui: BaseUICtrl) {\r\n\t\tthis.showUIDic.set(id, showui);\r\n\t}\r\n\tprivate RemoveShowUI(id: UIID) {\r\n\t\tthis.showUIDic.remove(id);\r\n\t}\r\n\r\n\t//已经实例化的UI\r\n\tprivate IsInstantiated(id: UIID): boolean {\r\n\t\treturn this.allUIDic.get(id) != null;\r\n\t}\r\n\tprivate GetInstantiated(id: UIID): BaseUICtrl {\r\n\t\treturn this.allUIDic.get(id) as BaseUICtrl;\r\n\t}\r\n\tprivate AddInstantiated(id: UIID, intanceUI: BaseUICtrl) {\r\n\t\tthis.allUIDic.set(id, intanceUI);\r\n\t}\r\n\tprivate RemoveInstantiated(id: UIID) {\r\n\t\tthis.allUIDic.remove(id);\r\n\t}\r\n\r\n\t//正在加载中的UI\r\n\tprivate IsLoadingUI(id: UIID): boolean {\r\n\t\treturn this.loadingUIDic.get(id) != null;\r\n\t}\r\n\tprivate AddLoadingUI(id: UIID) {\r\n\t\tthis.loadingUIDic.set(id, true);\r\n\t}\r\n\tprivate RemoveLoadingUI(id: UIID) {\r\n\t\tthis.loadingUIDic.remove(id);\r\n\t}\r\n\r\n\t/**\r\n\t * 打开ui前操作, 关闭其他ui\r\n\t * @param id 打开uiid\r\n\t */\r\n\tprivate doBeforeUIOpen(id: UIID) {\r\n\t\tlet config = ConfigManager.Instance.GetUIConfig(id);\r\n\t\tif (config && config.uiShowType == UIShowType.HideOthers) {\r\n\t\t\tthis.HideAll(true);\r\n\t\t}\r\n\t}\r\n\r\n\t//打开前加载图集\r\n\tprivate loadAtlasBeforeOpen(id: UIID, comFunc: Function, progressFun: Function = null) {\r\n\t\tlet config = ConfigManager.Instance.GetUIConfig(id);\r\n\t\tif (config && config.atlas.length > 0) {\r\n\t\t\tlet atlasNames = config.atlas;// StringParseUtil.SplitString(config.atlas, StringParseUtil.SPLIT_Comma)\r\n\t\t\tlet toLoad = [];\r\n\t\t\t//加载图集\r\n\t\t\tfor (let index = 0; index < atlasNames.length; index++) {\r\n\t\t\t\tconst tempAtlas = atlasNames[index];\r\n\t\t\t\tlet atlasLoaded = ResourceManager.Instance.checkResLoaded(tempAtlas);\r\n\t\t\t\tif (!atlasLoaded) toLoad.push(tempAtlas)\r\n\t\t\t}\r\n\t\t\t//加载散图\r\n\t\t\tlet spriteNames = config.unpackImagList\r\n\t\t\tfor (let index = 0; index < spriteNames.length; index++) {\r\n\t\t\t\tconst tmpSprite = spriteNames[index];\r\n\t\t\t\tlet tempLoaded = ResourceManager.Instance.checkResLoaded(tmpSprite);\r\n\t\t\t\tif (!tempLoaded) toLoad.push(tmpSprite)\r\n\t\t\t}\r\n\t\t\tif (toLoad.length > 0) {\r\n\t\t\t\tResourceManager.Instance.LoadResArray(toLoad, () => this.onAtlasLoadedForOpen(comFunc), null, progressFun);\r\n\t\t\t} else {\r\n\t\t\t\tcomFunc();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//没有图集配置\r\n\t\t\tcomFunc();\r\n\t\t}\r\n\t}\r\n\tprivate onAtlasLoadedForOpen(comFunc: Function) {\r\n\t\tcomFunc();\r\n\t}\r\n\t//卸载图集\r\n\tprivate releaseAtlasOnDestory(id: UIID) {\r\n\t\tlet config = ConfigManager.Instance.GetUIConfig(id);\r\n\t\tif (config && config.atlas.length > 0) {// config.atlas != null && config.atlas.trim() != \"\") {\r\n\t\t\tlet atlasNames = config.atlas;// StringParseUtil.SplitString(config.atlas, StringParseUtil.SPLIT_Comma)\r\n\t\t\tfor (let index = 0; index < atlasNames.length; index++) {\r\n\t\t\t\tconst temp = atlasNames[index];\r\n\t\t\t\tResourceManager.Instance.Release(temp)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\t//卸载ui制作中使用散图\r\n\tprivate releaseUnpackImageOnDestory(id: UIID) {\r\n\t\tlet config = ConfigManager.Instance.GetUIConfig(id);\r\n\t\tif (config && config.unpackImagList && config.unpackImagList.length > 0) {\r\n\t\t\tfor (let index = 0; index < config.unpackImagList.length; index++) {\r\n\t\t\t\tlet imagePath = config.unpackImagList[index].trim();\r\n\t\t\t\tif (imagePath != \"\") {\r\n\t\t\t\t\tResourceManager.Instance.Release(imagePath)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t//end private tools------------------------------------------------------------------------------\r\n\r\n\t//Mediator---\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tlistNotificationInterests(): string[] {\r\n\t\treturn [\r\n\t\t\tNotificationNames.OPENUI,\r\n\t\t\tNotificationNames.OPENUIWITHPARAM,\r\n\t\t\tNotificationNames.HIDEUI,\r\n\t\t\tNotificationNames.DESTROYUI,\r\n\t\t\tNotificationNames.DESTROYALLUI,\r\n\t\t\tNotificationNames.HIDEALLUI,\r\n\t\t];\r\n\t}\r\n\r\n\t/**\r\n\t * @override\r\n\t */\r\n\thandleNotification(note: puremvc.INotification): void {\r\n\t\tswitch (note.getName()) {\r\n\t\t\tcase NotificationNames.OPENUI:\r\n\t\t\t\t{\r\n\t\t\t\t\tlet id = note.getBody() as UIID;\r\n\t\t\t\t\tthis.Open(id);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\tcase NotificationNames.OPENUIWITHPARAM:\r\n\t\t\t\t{\r\n\t\t\t\t\tlet param = note.getBody() as UIParamStruct;\r\n\t\t\t\t\tthis.Open(param.ID, param);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\tcase NotificationNames.HIDEUI:\r\n\t\t\t\t{\r\n\t\t\t\t\tlet id = note.getBody() as UIID;\r\n\t\t\t\t\tthis.Hide(id);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\tcase NotificationNames.DESTROYUI:\r\n\t\t\t\t{\r\n\t\t\t\t\tlet id = note.getBody() as UIID;\r\n\t\t\t\t\tthis.Destroy(id);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\tcase NotificationNames.DESTROYALLUI:\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.DestroyAll();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\tcase NotificationNames.HIDEALLUI:\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.HideAll();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\t//end Mediator---\r\n}\r\n// }","import { NotificationNames } from \"../data/const/NotificationNames\";\r\nimport { UIID } from \"../uiscripts/UIIDDefine\";\r\nimport ResourceManager from \"../../framework/resourceManager/ResourceManager\";\r\nimport { LoadingUIUIController } from \"../uiscripts/uicontrollers/LoadingUIUIController\";\r\nimport { ConstDefine } from \"../data/const/ConstDefine\";\r\nimport { TimeManager } from \"../../framework/utils/timer/TimeManager\";\r\nimport { cbhandler } from \"../../framework/utils/timer/cbhandler\";\r\n\r\n/*\r\n* 主界面\r\n*/\r\nexport class LoginSceneEnterCommand extends puremvc.SimpleCommand {\r\n\r\n    execute(notification: puremvc.Notification) {\r\n\r\n        // //预加载需要的视频资源\r\n        // let picConfigs: PictureConfigRow[] = ConfigManager.Instance.GetAllPictureConfig();\r\n        // let picStrs: string[] = [];\r\n        // for (let i = 0; i < picConfigs.length; i++) {\r\n        //     picStrs.push(picConfigs[i].pictureRes);\r\n        // }\r\n        // ResourceManager.Instance.LoadResArray(picStrs, () => {\r\n\r\n        let that = this;\r\n        let curprogress = 0;\r\n        let timer = TimeManager.Instance.addUpdater(cbhandler.gen_handler((dt: number) => {\r\n            curprogress += dt / 30;\r\n            that.facade.sendNotification(NotificationNames.LoadingUIProgress, curprogress)\r\n        }))\r\n\r\n\r\n        Laya.loader.create(ConstDefine.Bronzeware,\r\n            Laya.Handler.create(this, () => {\r\n                TimeManager.Instance.remove(timer)\r\n                LoadingUIUIController.Instance.SetActive(false, false)\r\n                that.facade.sendNotification(NotificationNames.OPENUI, UIID.StartUIUIID);\r\n            }),\r\n            Laya.Handler.create(this, (progress) => {\r\n                curprogress = progress;\r\n                that.facade.sendNotification(NotificationNames.LoadingUIProgress, progress)\r\n            }, null, false));\r\n\r\n        // ResourceManager.Instance.CreateResArray([ConstDefine.Bronzeware], () => {\r\n        //     TimeManager.Instance.remove(timer)\r\n        //     LoadingUIUIController.Instance.SetActive(false, false)\r\n        //     that.facade.sendNotification(NotificationNames.OPENUI, UIID.StartUIUIID);\r\n        // }, null, (progress) => {\r\n        //     curprogress = progress;\r\n        //     that.facade.sendNotification(NotificationNames.LoadingUIProgress, progress)\r\n        // })\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}","import { NotificationNames } from \"../../script/data/const/NotificationNames\";\r\nimport { InputComponent, InputEventData, EnumInputEvent } from \"./InputComponent\";\r\n\r\n\r\n\r\nexport class InputManager {\r\n    private static _instace: InputManager;\r\n\r\n    public static get Instance(): InputManager {\r\n        if (InputManager._instace == null) {\r\n            InputManager._instace = new InputManager();\r\n        }\r\n        return InputManager._instace;\r\n    }\r\n\r\n    private inputComp: InputComponent;\r\n\r\n    private slideSensitiviy: number = 1;//滑动灵敏度\r\n    public set SlideSensitiviy(value: number) { this.slideSensitiviy = Math.max(0, value) }\r\n    public get MouseDown(): boolean { return this.inputComp.MouseDown; }\r\n\r\n\r\n    //初始化, 监听stage的滑动\r\n    public Init() {\r\n        this.inputComp = new InputComponent(Laya.stage, this.mouseDown.bind(this), this.mouseUp.bind(this),\r\n            this.mouseMove.bind(this), this.mouseOut.bind(this))\r\n\r\n        this.SetActive(true)\r\n    }\r\n\r\n    public SetActive(active: boolean) {\r\n        this.inputComp.SetActive(active);\r\n    }\r\n\r\n    public Destroy() {\r\n        this.inputComp.Destroy();\r\n    }\r\n\r\n\r\n    //鼠标按下\r\n    private mouseDown(mouseX: number, mouseY: number): void {\r\n        puremvc.Facade.instance.sendNotification(NotificationNames.InputEvent, new InputEventData(EnumInputEvent.TouchDown))\r\n    }\r\n\r\n    //鼠标抬起\r\n    private mouseUp(): void {\r\n        puremvc.Facade.instance.sendNotification(NotificationNames.InputEvent, new InputEventData(EnumInputEvent.TouchUp))\r\n    }\r\n    //鼠标移出\r\n    private mouseOut(): void {\r\n        puremvc.Facade.instance.sendNotification(NotificationNames.InputEvent, new InputEventData(EnumInputEvent.TouchUp))\r\n    }\r\n\r\n    private mouseMove(offsetX: number, offsety: number): void {\r\n        if (offsetX > 0 && offsetX > this.slideSensitiviy) {\r\n            //右滑动\r\n            puremvc.Facade.instance.sendNotification(NotificationNames.InputEvent, new InputEventData(EnumInputEvent.SlideRight, offsetX))\r\n\r\n        } else if (offsetX < 0 && offsetX < -this.slideSensitiviy) {\r\n            puremvc.Facade.instance.sendNotification(NotificationNames.InputEvent, new InputEventData(EnumInputEvent.SlideLeft, offsetX))\r\n        }\r\n\r\n        if (offsety > 0 && offsetX > this.slideSensitiviy) {\r\n            //下滑动\r\n            puremvc.Facade.instance.sendNotification(NotificationNames.InputEvent, new InputEventData(EnumInputEvent.SlideDown, offsety))\r\n\r\n        } else if (offsety < 0 && offsetX < -this.slideSensitiviy) {\r\n            puremvc.Facade.instance.sendNotification(NotificationNames.InputEvent, new InputEventData(EnumInputEvent.SlideUp, offsety))\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n}","\r\nimport { NotificationNames } from \"../data/const/NotificationNames\";\r\nimport { LoginSceneEnterCommand } from \"./LoginSceneEnterCommand\";\r\nimport { InputManager } from \"../../framework/input/InputManager\";\r\n\r\n/*\r\n* 游戏初始化\r\n*/\r\nexport class GameInitCommand extends puremvc.SimpleCommand {\r\n\r\n    execute(notification: puremvc.INotification) {\r\n        InputManager.Instance.Init();//初始化滑动\r\n        this.initCommands();//command初始\r\n        this.next();\r\n    }\r\n\r\n    initCommands() {\r\n        puremvc.Facade.instance.registerCommand(NotificationNames.ENTER_LOGIN_SCENE_COMMAND, LoginSceneEnterCommand);\r\n    }\r\n    private next() {\r\n        puremvc.Facade.instance.sendNotification(NotificationNames.ENTER_LOGIN_SCENE_COMMAND);\r\n    }\r\n}","import { UIMediator } from \"../uiscripts/UIMediator\";\r\nimport ResourceManager, { LoadTaskCallbackParam } from \"../../framework/resourceManager/ResourceManager\";\r\nimport { ConfigManager } from \"../manager/ConfigManager\";\r\nimport { NotificationNames } from \"../data/const/NotificationNames\";\r\nimport { GameInitCommand } from \"./GameInitCommand\";\r\nimport PathUtil from \"../../framework/utils/PathUtil\";\r\n\r\n/*\r\n* 预加载配置, 图集, 天空盒\r\n*/\r\nexport class PreloadCommand extends puremvc.SimpleCommand {\r\n    execute(notification: puremvc.INotification) {\r\n        super.execute(notification);\r\n        ////激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n        Laya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onfileConfigLoaded));\r\n    }\r\n\r\n    //如果图集是微信下载或PC网络图片, 添加路径头\r\n    private ReformUIAtlasPath() {\r\n        let dic = Laya.AtlasInfoManager[\"_fileLoadDic\"]\r\n        for (let tKey in dic) {\r\n            let tAtlasPath = dic[tKey];\r\n            dic[tKey] = PathUtil.FormatURL(tAtlasPath);//重设图集路径\r\n        }\r\n\r\n    }\r\n\r\n    //图集信息加载完成\r\n    onfileConfigLoaded(): void {\r\n        this.ReformUIAtlasPath();\r\n        ResourceManager.Instance.LoadJsonFile(\"unpack.json\", this.onUnpackConfigLoaded.bind(this))\r\n    }\r\n\r\n    //散图配置\r\n    //LoadTaskCallbackParam{isok:true,  param:loadedcontent}\r\n    onUnpackConfigLoaded(cbParam: LoadTaskCallbackParam) {\r\n\r\n        //初始化共用图集\r\n        UIMediator.GetInstance().Init(() => {\r\n            //初始化配置, 统一加载的UI图集\r\n            let toloadItem: any[] = [];\r\n            UIMediator.GetInstance().GetResItem(toloadItem)//需要统一加载的UI图集:非共用图集\r\n            ResourceManager.Instance.LoadResArray(toloadItem, (() => this.onLoaded()).bind(this));\r\n            //加载配置\r\n            let configToloadItem: any[] = [];\r\n            ConfigManager.Instance.getConfig(configToloadItem);//配置表\r\n            ResourceManager.Instance.LoadResArray(configToloadItem, (() => this.onLoaded()).bind(this), configToloadItem[0].type);\r\n        })\r\n    }\r\n\r\n\r\n    private step: number = 0;\r\n    //初始化\r\n    onLoaded(): void {\r\n        this.step++;\r\n        if (this.step < 2) return;\r\n\r\n        ConfigManager.Instance.InitOnLoaded();//配置初始化\r\n        this.next();\r\n\r\n    }\r\n\r\n\r\n\r\n    private next() {\r\n        this.facade.registerCommand(NotificationNames.GAME_INIT_COMMAND, GameInitCommand);\r\n        this.facade.sendNotification(NotificationNames.GAME_INIT_COMMAND)\r\n    }\r\n}","\r\n/*\r\n* name;\r\n*/\r\nexport class SubResDownLoader {\r\n\r\n    /**\r\n     * 监控下载进度\r\n     * @param allDownloadTask 所有下载任务\r\n     * @param progress 下载进度回调 progress(curPro, TOTAL_PROGRESS)总进度, 目标进度\r\n     */\r\n    public MonitorDownloadProgress(allDownloadTask: any[], progress?: Function) {\r\n        //记录下载进度, 每个task的进度都保存在list, 遍历list统计总进度\r\n        let curProgressArray = [];//当前进度\r\n        let TOTAL_PROGRESS = allDownloadTask.length * 100;//目标进度\r\n        for (let index = 0; index < allDownloadTask.length; index++) {\r\n            let task = allDownloadTask[index];\r\n            curProgressArray[index] = 0;\r\n            this.startProgress(task, index,\r\n                //回调:任务索引, 任务进度\r\n                (curIndex, curProgress) => {\r\n                    curProgressArray[curIndex] = curProgress //记录当前进度\r\n                    //统计总下载进度\r\n                    let curPro = 0;\r\n                    for (let index = 0; index < curProgressArray.length; index++) {\r\n                        curPro += curProgressArray[index];\r\n                    }\r\n                    if (progress) progress(curPro, TOTAL_PROGRESS)\r\n                })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 监听下载任务\r\n     * @param task 下载任务 \r\n     * @param index 任务索引\r\n     * @param progress 下载进度回调 \r\n     */\r\n    private startProgress(task: any, index: number, progress: Function) {\r\n        task.onProgressUpdate((res) => {\r\n            //Log.Debug(index + '下载进度'+ res.progress)\r\n            // Log.Debug('已经下载的数据长度', res.totalBytesWritten)\r\n            // Log.Debug('预期需要下载的数据总长度', res.totalBytesExpectedToWrite)\r\n            //Log.Debug('totaol 下载进度', curProgress / totalProgress)\r\n            if (progress) progress(index, res.progress)\r\n        })\r\n    }\r\n}","import Log from \"../../framework/utils/Log\";\r\nimport GameConfig from \"../../GameConfig\";\r\nimport { NotificationNames } from \"../data/const/NotificationNames\";\r\nimport { LoadingUIUIController } from \"../uiscripts/uicontrollers/LoadingUIUIController\";\r\nimport { TimeManager } from \"../../framework/utils/timer/TimeManager\";\r\nimport { PreloadCommand } from \"./PreloadCommand\";\r\nimport { SubResDownLoader } from \"../../framework/utils/SubResDownLoader\";\r\nimport CommonUtil from \"../../framework/utils/CommonUtil\";\r\n//import VConsole from \"vconsole\" \r\n\r\n/*\r\n* 游戏最开始的初始化, 比如wx需要注册onshow/onhide事件等\r\n*/\r\nexport class StartupInitCommand extends puremvc.SimpleCommand {\r\n    execute(notification: puremvc.INotification) {\r\n        this.initGameEnging(GameConfig.width, GameConfig.height);\r\n        this.initScreenMode();//(Laya.Stage.SCALE_SHOWALL);\r\n        //loading界面的动画,需要update\r\n        Laya.timer.frameLoop(1, null, () => { TimeManager.Instance.update(Laya.timer.delta * 0.001) })//Timer\r\n        this.loadSubPack();\r\n    }\r\n\r\n    private initGameEnging(designWith: number, designheight: number) {\r\n        if (window[\"Laya3D\"]) Laya3D.init(designWith, designheight);\r\n        else Laya.init(designWith, designheight);//, Laya[\"WebGL\"]);//不使用WEBGL, \r\n        //兼容微信不支持加载scene后缀场景\r\n        Laya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n        //Laya帧率\r\n        Laya.stage.frameRate = Laya.Stage.FRAME_FAST;\r\n        Laya.alertGlobalError = true;\r\n    }\r\n\r\n    private initScreenMode() {\r\n        Laya.stage.scaleMode = GameConfig.scaleMode;\r\n        Laya.stage.screenMode = GameConfig.screenMode;\r\n        Laya.stage.alignV = GameConfig.alignV;\r\n        Laya.stage.alignH = GameConfig.alignH;\r\n    }\r\n\r\n    //下载分包\r\n    private loadSubPack() {\r\n        LoadingUIUIController.Instance.Init();//\r\n        LoadingUIUIController.Instance.SetActive(true, null, null, \"分包下载...\")\r\n        LoadingUIUIController.Instance.SetLoadingActive(true);\r\n\r\n        let subPackNames = [\"sub1\"]; //分包名\r\n        let wx = Laya.Browser.window.wx;\r\n        if (wx == null || subPackNames.length == 0) {\r\n            this.next(); //在非微信和无分包的情况下直接执行下一步\r\n        } else {\r\n            let that = this;\r\n            let wxSubPackLoader = new SubResDownLoader();\r\n            let allTask = []\r\n            for (let index = 0; index < subPackNames.length; index++) {\r\n                const subPackName = subPackNames[index];\r\n                const loadTask = wx.loadSubpackage({\r\n                    name: subPackName,\r\n                    success: function () {\r\n                        that.onSubPackLoaded(subPackName, false, subPackNames)\r\n                    },\r\n                    fail: function () {\r\n                        that.onSubPackLoaded(subPackName, true, subPackNames)\r\n                    }\r\n                })\r\n                allTask.push(loadTask)\r\n            }\r\n            //分包下载进度.\r\n            wxSubPackLoader.MonitorDownloadProgress(allTask, (curProgress, totalProgress) => {\r\n\r\n                if(Laya.Browser.onIPhone && CommonUtil.OnMiniGame()){\r\n                    curProgress *= 100\r\n                }\r\n\r\n                \r\n\r\n                that.sendNotification(NotificationNames.LoadingUIProgress, curProgress / totalProgress)\r\n            })\r\n        }\r\n    }\r\n\r\n    //分包下载成功回调\r\n    private loadedCount = 0;\r\n    private onSubPackLoaded(loadedSubPack: string, isFailed: boolean, totalSubpack: string[]) {\r\n        if (isFailed) {\r\n            Log.Debug(\"加载分包失败!!!!\" + loadedSubPack);\r\n        } else {\r\n            Log.Debug(\"加载分包成功!!!!\" + loadedSubPack);\r\n        }\r\n        this.loadedCount++;\r\n        if (this.loadedCount == totalSubpack.length) {\r\n            this.next();\r\n        }\r\n    }\r\n\r\n    private next() {\r\n        LoadingUIUIController.Instance.SetActive(true, null, null, \"资源下载...\")\r\n        this.facade.registerCommand(NotificationNames.PRELOAD_COMMAND, PreloadCommand);\r\n        this.facade.sendNotification(NotificationNames.PRELOAD_COMMAND)\r\n    }\r\n\r\n}","\r\nimport { NotificationNames } from \"./script/data/const/NotificationNames\";\r\nimport { StartupInitCommand } from \"./script/commands/StartupInitCommand\";\r\n\r\nclass Main {\r\n\tconstructor() {\r\n\t\tthis.next();\r\n\t}\r\n\r\n\tprivate next() {\r\n\t\tpuremvc.Facade.getInstance().registerCommand(NotificationNames.START_UP_INIT_COMMAND, StartupInitCommand);\r\n\t\tpuremvc.Facade.getInstance().sendNotification(NotificationNames.START_UP_INIT_COMMAND)\r\n\t}\r\n\r\n\r\n}\r\n//激活启动类\r\nnew Main();\r\n"],"names":["Facade"],"mappings":"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"}